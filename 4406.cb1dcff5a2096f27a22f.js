(("undefined"!=typeof self?self:this).webpackChunk_subwallet_sub_connect=("undefined"!=typeof self?self:this).webpackChunk_subwallet_sub_connect||[]).push([[4406],{14406:(t,e,r)=>{"use strict";r.d(e,{utils:()=>a});var n={};r.r(n),r.d(n,{AddressZero:()=>Bt,EtherSymbol:()=>we,HashZero:()=>be,MaxInt256:()=>ve,MaxUint256:()=>Ee,MinInt256:()=>ye,NegativeOne:()=>ce,One:()=>ge,Two:()=>pe,WeiPerEther:()=>me,Zero:()=>de});var i={};r.r(i),r.d(i,{AlchemyProvider:()=>is,AlchemyWebSocketProvider:()=>ns,BaseProvider:()=>co,CloudflareProvider:()=>ss,EtherscanProvider:()=>ps,FallbackProvider:()=>Ts,Formatter:()=>zi,InfuraProvider:()=>xs,InfuraWebSocketProvider:()=>Us,IpcProvider:()=>Ps,JsonRpcBatchProvider:()=>ks,JsonRpcProvider:()=>Vo,JsonRpcSigner:()=>Wo,NodesmithProvider:()=>Ds,PocketProvider:()=>Gs,Provider:()=>Er,Resolver:()=>lo,StaticJsonRpcProvider:()=>$o,UrlJsonRpcProvider:()=>ts,Web3Provider:()=>Ks,WebSocketProvider:()=>Yo,getDefaultProvider:()=>Vs,getNetwork:()=>Ir,isCommunityResourcable:()=>ji,isCommunityResource:()=>Wi,showThrottleMessage:()=>qi});var o={};r.r(o),r.d(o,{decode:()=>Ol,encode:()=>Ul});var s={};r.r(s),r.d(s,{decode:()=>Zg,encode:()=>Xg});var a={};r.r(a),r.d(a,{AbiCoder:()=>mu,ConstructorFragment:()=>ou,ErrorFragment:()=>uu,EventFragment:()=>eu,FormatTypes:()=>Qa,Fragment:()=>tu,FunctionFragment:()=>su,HDNode:()=>Tc,Indexed:()=>Ru,Interface:()=>_u,LogDescription:()=>wu,Logger:()=>sd,ParamType:()=>Za,RLP:()=>s,SigningKey:()=>um,SupportedAlgorithm:()=>wd,TransactionDescription:()=>Au,TransactionTypes:()=>zy,UnicodeNormalizationForm:()=>Pm,Utf8ErrorFuncs:()=>Um,Utf8ErrorReason:()=>Cm,_TypedDataEncoder:()=>ac,_fetchData:()=>qv,_toEscapedUtf8String:()=>Dm,accessListify:()=>Qy,arrayify:()=>dh,base58:()=>Ql,base64:()=>o,checkProperties:()=>bg,checkResultErrors:()=>Na,commify:()=>sv,computeAddress:()=>Vy,computeHmac:()=>_d,computePublicKey:()=>hm,concat:()=>gh,deepCopy:()=>Ig,defaultAbiCoder:()=>Eu,defaultPath:()=>Mc,defineReadOnly:()=>Eg,entropyToMnemonic:()=>Oc,fetchJson:()=>Vv,formatBytes32String:()=>$m,formatEther:()=>lv,formatUnits:()=>av,getAccountPath:()=>xc,getAddress:()=>dl,getContractAddress:()=>ml,getCreate2Address:()=>El,getIcapAddress:()=>pl,getJsonWalletAddress:()=>kc,getStatic:()=>yg,hashMessage:()=>af,hexConcat:()=>Ah,hexDataLength:()=>bh,hexDataSlice:()=>wh,hexStripZeros:()=>Rh,hexValue:()=>Nh,hexZeroPad:()=>Ih,hexlify:()=>vh,id:()=>If,isAddress:()=>gl,isBytes:()=>ch,isBytesLike:()=>hh,isHexString:()=>Eh,isValidMnemonic:()=>Uc,isValidName:()=>Nf,joinSignature:()=>_h,keccak256:()=>Qc,mnemonicToEntropy:()=>Cc,mnemonicToSeed:()=>Pc,namehash:()=>Rf,nameprep:()=>Ym,parseBytes32String:()=>tE,parseEther:()=>hv,parseTransaction:()=>rv,parseUnits:()=>uv,poll:()=>Hv,randomBytes:()=>ng,recoverAddress:()=>Hy,recoverPublicKey:()=>lm,resolveProperties:()=>vg,ripemd160:()=>Rd,serializeTransaction:()=>tv,sha256:()=>Id,sha512:()=>Sd,shallowCopy:()=>wg,shuffled:()=>ig,solidityKeccak256:()=>Ld,solidityPack:()=>Dd,soliditySha256:()=>Bd,splitSignature:()=>Sh,stripZeros:()=>ph,toUtf8Bytes:()=>km,toUtf8CodePoints:()=>Gm,toUtf8String:()=>Bm,verifyMessage:()=>Dt,verifyTypedData:()=>Lt,zeroPad:()=>mh});var u={};r.r(u),r.d(u,{BaseContract:()=>l.VZ,BigNumber:()=>D,Contract:()=>l.CH,ContractFactory:()=>l.lV,FixedNumber:()=>Z,Signer:()=>Et,VoidSigner:()=>yt,Wallet:()=>Ft,Wordlist:()=>da,constants:()=>n,errors:()=>id,getDefaultProvider:()=>Vs,logger:()=>Xv,providers:()=>i,utils:()=>a,version:()=>Jv,wordlists:()=>Ea});var l=r(29503),h=r(73835),f=r.n(h);let c=!1,d=!1;const g={debug:1,default:2,info:2,warning:3,error:4,off:5};let p=g.default,m=null;const E=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var y,v;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(y||(y={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(v||(v={}));const b="0123456789abcdef";class w{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==g[r]&&this.throwArgumentError("invalid log level name","logLevel",t),p>g[r]||console.log.apply(console,e)}debug(...t){this._log(w.levels.DEBUG,t)}info(...t){this._log(w.levels.INFO,t)}warn(...t){this._log(w.levels.WARNING,t)}makeError(t,e,r){if(d)return this.makeError("censored error",e,{});e||(e=w.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=b[e[t]>>4],r+=b[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case v.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case v.CALL_EXCEPTION:case v.INSUFFICIENT_FUNDS:case v.MISSING_NEW:case v.NONCE_EXPIRED:case v.REPLACEMENT_UNDERPRICED:case v.TRANSACTION_REPLACED:case v.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,w.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),E&&this.throwError("platform missing String.prototype.normalize",w.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:E})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,w.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,w.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,w.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,w.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",w.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",w.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",w.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return m||(m=new w("logger/5.7.0")),m}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",w.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),c){if(!t)return;this.globalLogger().throwError("error censorship permanent",w.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}d=!!t,c=!!e}static setLogLevel(t){const e=g[t.toLowerCase()];null!=e?p=e:w.globalLogger().warn("invalid log level - "+t)}static from(t){return new w(t)}}w.errors=v,w.levels=y;const A=new w("bytes/5.7.0");function N(t){return!!t.toHexString}function R(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return R(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function I(t){return"number"==typeof t&&t==t&&t%1==0}function S(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!I(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!I(r)||r<0||r>=256)return!1}return!0}function _(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const M="0123456789abcdef";function T(t,e){if(e||(e={}),"number"==typeof t){A.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=M[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),N(t))return t.toHexString();if(_(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":A.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(S(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=M[(240&n)>>4]+M[15&n]}return e}return A.throwArgumentError("invalid hexlify value","value",t)}function P(t,e){for("string"!=typeof t?t=T(t):_(t)||A.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&A.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const C="bignumber/5.5.0";var O=f().BN;const U=new w(C),x={},k=9007199254740991;let F=!1;class D{constructor(t,e){U.checkNew(new.target,D),t!==x&&U.throwError("cannot call constructor directly; use BigNumber.from",w.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return B(G(this).fromTwos(t))}toTwos(t){return B(G(this).toTwos(t))}abs(){return"-"===this._hex[0]?D.from(this._hex.substring(1)):this}add(t){return B(G(this).add(G(t)))}sub(t){return B(G(this).sub(G(t)))}div(t){return D.from(t).isZero()&&z("division by zero","div"),B(G(this).div(G(t)))}mul(t){return B(G(this).mul(G(t)))}mod(t){const e=G(t);return e.isNeg()&&z("cannot modulo negative values","mod"),B(G(this).umod(e))}pow(t){const e=G(t);return e.isNeg()&&z("cannot raise to negative values","pow"),B(G(this).pow(e))}and(t){const e=G(t);return(this.isNegative()||e.isNeg())&&z("cannot 'and' negative values","and"),B(G(this).and(e))}or(t){const e=G(t);return(this.isNegative()||e.isNeg())&&z("cannot 'or' negative values","or"),B(G(this).or(e))}xor(t){const e=G(t);return(this.isNegative()||e.isNeg())&&z("cannot 'xor' negative values","xor"),B(G(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&z("cannot mask negative values","mask"),B(G(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&z("cannot shift negative values","shl"),B(G(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&z("cannot shift negative values","shr"),B(G(this).shrn(t))}eq(t){return G(this).eq(G(t))}lt(t){return G(this).lt(G(t))}lte(t){return G(this).lte(G(t))}gt(t){return G(this).gt(G(t))}gte(t){return G(this).gte(G(t))}isNegative(){return"-"===this._hex[0]}isZero(){return G(this).isZero()}toNumber(){try{return G(this).toNumber()}catch(t){z("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return U.throwError("this platform does not support BigInt",w.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?F||(F=!0,U.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?U.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",w.errors.UNEXPECTED_ARGUMENT,{}):U.throwError("BigNumber.toString does not accept parameters",w.errors.UNEXPECTED_ARGUMENT,{})),G(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof D)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new D(x,L(t)):t.match(/^-?[0-9]+$/)?new D(x,L(new O(t))):U.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&z("underflow","BigNumber.from",t),(t>=k||t<=-k)&&z("overflow","BigNumber.from",t),D.from(String(t));const e=t;if("bigint"==typeof e)return D.from(e.toString());if(S(e))return D.from(T(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return D.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(_(t)||"-"===t[0]&&_(t.substring(1))))return D.from(t)}return U.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function L(t){if("string"!=typeof t)return L(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&U.throwArgumentError("invalid hex","value",t),"0x00"===(t=L(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function B(t){return D.from(L(t))}function G(t){const e=D.from(t).toHexString();return"-"===e[0]?new O("-"+e.substring(3),16):new O(e.substring(2),16)}function z(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),U.throwError(t,w.errors.NUMERIC_FAULT,n)}const j=new w(C),W={},K=D.from(0),q=D.from(-1);function V(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),j.throwError(t,w.errors.NUMERIC_FAULT,i)}let H="0";for(;H.length<256;)H+=H;function J(t){if("number"!=typeof t)try{t=D.from(t).toNumber()}catch(t){}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+H.substring(0,t):j.throwArgumentError("invalid decimal size","decimals",t)}function X(t,e){null==e&&(e=0);const r=J(e),n=(t=D.from(t)).lt(K);n&&(t=t.mul(q));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return t=1===r.length?o:o+"."+i,n&&(t="-"+t),t}function Q(t,e){null==e&&(e=0);const r=J(e);"string"==typeof t&&t.match(/^-?[0-9.]+$/)||j.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&j.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&j.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&V("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=D.from(o),u=D.from(s);let l=a.mul(r).add(u);return n&&(l=l.mul(q)),l}class Y{constructor(t,e,r,n){t!==W&&j.throwError("cannot use FixedFormat constructor; use FixedFormat.from",w.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=J(n),Object.freeze(this)}static from(t){if(t instanceof Y)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||j.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&j.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&j.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&j.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Y(W,e,r,n)}}class Z{constructor(t,e,r,n){j.checkNew(new.target,Z),t!==W&&j.throwError("cannot use FixedNumber constructor; use FixedNumber.from",w.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&j.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=Q(this._value,this.format.decimals),r=Q(t._value,t.format.decimals);return Z.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=Q(this._value,this.format.decimals),r=Q(t._value,t.format.decimals);return Z.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=Q(this._value,this.format.decimals),r=Q(t._value,t.format.decimals);return Z.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=Q(this._value,this.format.decimals),r=Q(t._value,t.format.decimals);return Z.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Z.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe($.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Z.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe($.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&j.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Z.from("1"+H.substring(0,t),this.format),n=tt.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){return null==t?this._hex:(t%8&&j.throwArgumentError("invalid byte width","width",t),P(D.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Z.fromString(this._value,t)}static fromValue(t,e,r){return null!=r||null==e||function(t){return null!=t&&(D.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||_(t)||"bigint"==typeof t||S(t))}(e)||(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Z.fromString(X(t,e),Y.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=Y.from(e),n=Q(t,r.decimals);!r.signed&&n.lt(K)&&V("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=P(i,r.width/8));const o=X(n,r.decimals);return new Z(W,i,o,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=Y.from(e);if(function(t,e){if(e||(e={}),"number"==typeof t){A.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),R(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),N(t)&&(t=t.toHexString()),_(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":A.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return R(new Uint8Array(n))}return S(t)?R(new Uint8Array(t)):A.throwArgumentError("invalid arrayify value","value",t)}(t).length>r.width/8)throw new Error("overflow");let n=D.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=X(n,r.decimals);return new Z(W,i,o,r)}static from(t,e){if("string"==typeof t)return Z.fromString(t,e);if(S(t))return Z.fromBytes(t,e);try{return Z.fromValue(t,0,e)}catch(t){if(t.code!==w.errors.INVALID_ARGUMENT)throw t}return j.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const $=Z.from(1),tt=Z.from("0.5");let et=!1,rt=!1;const nt={debug:1,default:2,info:2,warning:3,error:4,off:5};let it=nt.default,ot=null;const st=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var at,ut;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(at||(at={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(ut||(ut={}));const lt="0123456789abcdef";class ht{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==nt[r]&&this.throwArgumentError("invalid log level name","logLevel",t),it>nt[r]||console.log.apply(console,e)}debug(...t){this._log(ht.levels.DEBUG,t)}info(...t){this._log(ht.levels.INFO,t)}warn(...t){this._log(ht.levels.WARNING,t)}makeError(t,e,r){if(rt)return this.makeError("censored error",e,{});e||(e=ht.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=lt[e[t]>>4],r+=lt[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case ut.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ut.CALL_EXCEPTION:case ut.INSUFFICIENT_FUNDS:case ut.MISSING_NEW:case ut.NONCE_EXPIRED:case ut.REPLACEMENT_UNDERPRICED:case ut.TRANSACTION_REPLACED:case ut.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,ht.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),st&&this.throwError("platform missing String.prototype.normalize",ht.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:st})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,ht.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,ht.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,ht.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,ht.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",ht.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",ht.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",ht.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ot||(ot=new ht("logger/5.7.0")),ot}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",ht.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),et){if(!t)return;this.globalLogger().throwError("error censorship permanent",ht.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rt=!!t,et=!!e}static setLogLevel(t){const e=nt[t.toLowerCase()];null!=e?it=e:ht.globalLogger().warn("invalid log level - "+t)}static from(t){return new ht(t)}}ht.errors=ut,ht.levels=at;function ft(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function ct(t){return e=this,r=void 0,i=function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})},new((n=void 0)||(n=Promise))((function(t,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(s,a)}u((i=i.apply(e,r||[])).next())}));var e,r,n,i}new ht("properties/5.7.0");var dt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const gt=new ht("abstract-signer/5.5.0"),pt=["accessList","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],mt=[ht.errors.INSUFFICIENT_FUNDS,ht.errors.NONCE_EXPIRED,ht.errors.REPLACEMENT_UNDERPRICED];class Et{constructor(){gt.checkAbstract(new.target,Et),ft(this,"_isSigner",!0)}getBalance(t){return dt(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return dt(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return dt(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield ct(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return dt(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield ct(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return dt(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return dt(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return dt(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return dt(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return dt(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===pt.indexOf(e)&&gt.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=function(t){const e={};for(const r in t)e[r]=t[r];return e}(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&gt.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return dt(this,void 0,void 0,(function*(){const e=yield ct(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>dt(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&gt.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||gt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):gt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&gt.throwError("network does not support EIP-1559",ht.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):gt.throwError("failed to get consistent fee data",ht.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(mt.indexOf(t.code)>=0)throw t;return gt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ht.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&gt.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield ct(e)}))}_checkProvider(t){this.provider||gt.throwError("missing provider",ht.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class yt extends Et{constructor(t,e){gt.checkNew(new.target,yt),super(),ft(this,"address",t),ft(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{gt.throwError(t,ht.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new yt(this.address,t)}}var vt=r(58549),bt=r(7495),wt=r(10196),At=r(67640),Nt=r(3686),Rt=r(79378),It=r(36060),St=r(59256),_t=r(80221),Mt=r(42366),Tt=r(17459),Pt=r(92338),Ct=r(22794),Ot=r(13390),Ut=r(78011),xt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const kt=new Ut.Logger("wallet/5.5.0");class Ft extends wt.E{constructor(t,e){if(kt.checkNew(new.target,Ft),super(),null!=(r=t)&&(0,At.isHexString)(r.privateKey,32)&&null!=r.address){const e=new Tt.SigningKey(t.privateKey);if((0,_t.defineReadOnly)(this,"_signingKey",(()=>e)),(0,_t.defineReadOnly)(this,"address",(0,Ot.computeAddress)(this.publicKey)),this.address!==(0,vt.getAddress)(t.address)&&kt.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(t){const e=t.mnemonic;return e&&e.phrase}(t)){const e=t.mnemonic;(0,_t.defineReadOnly)(this,"_mnemonic",(()=>({phrase:e.phrase,path:e.path||It.defaultPath,locale:e.locale||"en"})));const r=this.mnemonic,n=It.HDNode.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path);(0,Ot.computeAddress)(n.privateKey)!==this.address&&kt.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,_t.defineReadOnly)(this,"_mnemonic",(()=>null))}else{if(Tt.SigningKey.isSigningKey(t))"secp256k1"!==t.curve&&kt.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,_t.defineReadOnly)(this,"_signingKey",(()=>t));else{"string"==typeof t&&t.match(/^[0-9a-f]*$/i)&&64===t.length&&(t="0x"+t);const e=new Tt.SigningKey(t);(0,_t.defineReadOnly)(this,"_signingKey",(()=>e))}(0,_t.defineReadOnly)(this,"_mnemonic",(()=>null)),(0,_t.defineReadOnly)(this,"address",(0,Ot.computeAddress)(this.publicKey))}var r;e&&!bt.zt.isProvider(e)&&kt.throwArgumentError("invalid provider","provider",e),(0,_t.defineReadOnly)(this,"provider",e||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(t){return new Ft(this,t)}signTransaction(t){return(0,_t.resolveProperties)(t).then((e=>{null!=e.from&&((0,vt.getAddress)(e.from)!==this.address&&kt.throwArgumentError("transaction from address mismatch","transaction.from",t.from),delete e.from);const r=this._signingKey().signDigest((0,St.keccak256)((0,Ot.serialize)(e)));return(0,Ot.serialize)(e,r)}))}signMessage(t){return xt(this,void 0,void 0,(function*(){return(0,At.joinSignature)(this._signingKey().signDigest((0,Nt.r)(t)))}))}_signTypedData(t,e,r){return xt(this,void 0,void 0,(function*(){const n=yield Rt.E.resolveNames(t,e,r,(t=>(null==this.provider&&kt.throwError("cannot resolve ENS names without a provider",Ut.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:t}),this.provider.resolveName(t))));return(0,At.joinSignature)(this._signingKey().signDigest(Rt.E.hash(n.domain,e,n.value)))}))}encrypt(t,e,r){if("function"!=typeof e||r||(r=e,e={}),r&&"function"!=typeof r)throw new Error("invalid callback");return e||(e={}),(0,Pt.HI)(this,t,e,r)}static createRandom(t){let e=(0,Mt.O)(16);t||(t={}),t.extraEntropy&&(e=(0,At.arrayify)((0,At.hexDataSlice)((0,St.keccak256)((0,At.concat)([e,t.extraEntropy])),0,16)));const r=(0,It.entropyToMnemonic)(e,t.locale);return Ft.fromMnemonic(r,t.path,t.locale)}static fromEncryptedJson(t,e,r){return(0,Ct.decryptJsonWallet)(t,e,r).then((t=>new Ft(t)))}static fromEncryptedJsonSync(t,e){return new Ft((0,Ct.decryptJsonWalletSync)(t,e))}static fromMnemonic(t,e,r){return e||(e=It.defaultPath),new Ft(It.HDNode.fromMnemonic(t,null,r).derivePath(e))}}function Dt(t,e){return(0,Ot.recoverAddress)((0,Nt.r)(t),e)}function Lt(t,e,r,n){return(0,Ot.recoverAddress)(Rt.E.hash(t,e,r),n)}const Bt="0x0000000000000000000000000000000000000000";var Gt=r(62197),zt=r.n(Gt);let jt=!1,Wt=!1;const Kt={debug:1,default:2,info:2,warning:3,error:4,off:5};let qt=Kt.default,Vt=null;const Ht=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Jt,Xt;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Jt||(Jt={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Xt||(Xt={}));const Qt="0123456789abcdef";class Yt{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Kt[r]&&this.throwArgumentError("invalid log level name","logLevel",t),qt>Kt[r]||console.log.apply(console,e)}debug(...t){this._log(Yt.levels.DEBUG,t)}info(...t){this._log(Yt.levels.INFO,t)}warn(...t){this._log(Yt.levels.WARNING,t)}makeError(t,e,r){if(Wt)return this.makeError("censored error",e,{});e||(e=Yt.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Qt[e[t]>>4],r+=Qt[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Xt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Xt.CALL_EXCEPTION:case Xt.INSUFFICIENT_FUNDS:case Xt.MISSING_NEW:case Xt.NONCE_EXPIRED:case Xt.REPLACEMENT_UNDERPRICED:case Xt.TRANSACTION_REPLACED:case Xt.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Yt.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Ht&&this.throwError("platform missing String.prototype.normalize",Yt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ht})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Yt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Yt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Yt.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Yt.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Yt.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Yt.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Yt.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Vt||(Vt=new Yt("logger/5.7.0")),Vt}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Yt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),jt){if(!t)return;this.globalLogger().throwError("error censorship permanent",Yt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Wt=!!t,jt=!!e}static setLogLevel(t){const e=Kt[t.toLowerCase()];null!=e?qt=e:Yt.globalLogger().warn("invalid log level - "+t)}static from(t){return new Yt(t)}}Yt.errors=Xt,Yt.levels=Jt;const Zt=new Yt("bytes/5.7.0");function $t(t){return"number"==typeof t&&t==t&&t%1==0}function te(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!$t(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!$t(r)||r<0||r>=256)return!1}return!0}function ee(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const re="0123456789abcdef";var ne=zt().BN;const ie=new Yt("bignumber/5.7.0"),oe={};let se=!1;class ae{constructor(t,e){t!==oe&&ie.throwError("cannot call constructor directly; use BigNumber.from",Yt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return le(he(this).fromTwos(t))}toTwos(t){return le(he(this).toTwos(t))}abs(){return"-"===this._hex[0]?ae.from(this._hex.substring(1)):this}add(t){return le(he(this).add(he(t)))}sub(t){return le(he(this).sub(he(t)))}div(t){return ae.from(t).isZero()&&fe("division-by-zero","div"),le(he(this).div(he(t)))}mul(t){return le(he(this).mul(he(t)))}mod(t){const e=he(t);return e.isNeg()&&fe("division-by-zero","mod"),le(he(this).umod(e))}pow(t){const e=he(t);return e.isNeg()&&fe("negative-power","pow"),le(he(this).pow(e))}and(t){const e=he(t);return(this.isNegative()||e.isNeg())&&fe("unbound-bitwise-result","and"),le(he(this).and(e))}or(t){const e=he(t);return(this.isNegative()||e.isNeg())&&fe("unbound-bitwise-result","or"),le(he(this).or(e))}xor(t){const e=he(t);return(this.isNegative()||e.isNeg())&&fe("unbound-bitwise-result","xor"),le(he(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&fe("negative-width","mask"),le(he(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&fe("negative-width","shl"),le(he(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&fe("negative-width","shr"),le(he(this).shrn(t))}eq(t){return he(this).eq(he(t))}lt(t){return he(this).lt(he(t))}lte(t){return he(this).lte(he(t))}gt(t){return he(this).gt(he(t))}gte(t){return he(this).gte(he(t))}isNegative(){return"-"===this._hex[0]}isZero(){return he(this).isZero()}toNumber(){try{return he(this).toNumber()}catch(t){fe("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return ie.throwError("this platform does not support BigInt",Yt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?se||(se=!0,ie.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ie.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Yt.errors.UNEXPECTED_ARGUMENT,{}):ie.throwError("BigNumber.toString does not accept parameters",Yt.errors.UNEXPECTED_ARGUMENT,{})),he(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof ae)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new ae(oe,ue(t)):t.match(/^-?[0-9]+$/)?new ae(oe,ue(new ne(t))):ie.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&fe("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&fe("overflow","BigNumber.from",t),ae.from(String(t));const e=t;if("bigint"==typeof e)return ae.from(e.toString());if(te(e))return ae.from(function(t,e){if(e||(e={}),"number"==typeof t){Zt.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=re[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t))return t.toHexString();if(ee(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Zt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(te(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=re[(240&n)>>4]+re[15&n]}return e}return Zt.throwArgumentError("invalid hexlify value","value",t)}(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return ae.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(ee(t)||"-"===t[0]&&ee(t.substring(1))))return ae.from(t)}return ie.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function ue(t){if("string"!=typeof t)return ue(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&ie.throwArgumentError("invalid hex","value",t),"0x00"===(t=ue(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function le(t){return ae.from(ue(t))}function he(t){const e=ae.from(t).toHexString();return"-"===e[0]?new ne("-"+e.substring(3),16):new ne(e.substring(2),16)}function fe(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),ie.throwError(t,Yt.errors.NUMERIC_FAULT,n)}const ce=ae.from(-1),de=ae.from(0),ge=ae.from(1),pe=ae.from(2),me=ae.from("1000000000000000000"),Ee=ae.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ye=ae.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),ve=ae.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),be="0x0000000000000000000000000000000000000000000000000000000000000000",we="Îž";let Ae=!1,Ne=!1;const Re={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ie=Re.default,Se=null;const _e=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Me,Te;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Me||(Me={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Te||(Te={}));const Pe="0123456789abcdef";class Ce{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Re[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Ie>Re[r]||console.log.apply(console,e)}debug(...t){this._log(Ce.levels.DEBUG,t)}info(...t){this._log(Ce.levels.INFO,t)}warn(...t){this._log(Ce.levels.WARNING,t)}makeError(t,e,r){if(Ne)return this.makeError("censored error",e,{});e||(e=Ce.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Pe[e[t]>>4],r+=Pe[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Te.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Te.CALL_EXCEPTION:case Te.INSUFFICIENT_FUNDS:case Te.MISSING_NEW:case Te.NONCE_EXPIRED:case Te.REPLACEMENT_UNDERPRICED:case Te.TRANSACTION_REPLACED:case Te.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Ce.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),_e&&this.throwError("platform missing String.prototype.normalize",Ce.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_e})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Ce.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Ce.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Ce.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Ce.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Ce.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Ce.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Ce.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Se||(Se=new Ce("logger/5.7.0")),Se}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Ce.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ae){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ce.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ne=!!t,Ae=!!e}static setLogLevel(t){const e=Re[t.toLowerCase()];null!=e?Ie=e:Ce.globalLogger().warn("invalid log level - "+t)}static from(t){return new Ce(t)}}Ce.errors=Te,Ce.levels=Me;const Oe=new Ce("bytes/5.7.0");function Ue(t){return!!t.toHexString}function xe(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return xe(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function ke(t){return ze(t)&&!(t.length%2)||De(t)}function Fe(t){return"number"==typeof t&&t==t&&t%1==0}function De(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Fe(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Fe(r)||r<0||r>=256)return!1}return!0}function Le(t,e){if(e||(e={}),"number"==typeof t){Oe.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),xe(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ue(t)&&(t=t.toHexString()),ze(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Oe.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return xe(new Uint8Array(n))}return De(t)?xe(new Uint8Array(t)):Oe.throwArgumentError("invalid arrayify value","value",t)}function Be(t){const e=t.map((t=>Le(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),xe(n)}function Ge(t){let e=Le(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function ze(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const je="0123456789abcdef";function We(t,e){if(e||(e={}),"number"==typeof t){Oe.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=je[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ue(t))return t.toHexString();if(ze(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Oe.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(De(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=je[(240&n)>>4]+je[15&n]}return e}return Oe.throwArgumentError("invalid hexlify value","value",t)}function Ke(t){if("string"!=typeof t)t=We(t);else if(!ze(t)||t.length%2)return null;return(t.length-2)/2}function qe(t,e,r){return"string"!=typeof t?t=We(t):(!ze(t)||t.length%2)&&Oe.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ve(t){let e="0x";return t.forEach((t=>{e+=We(t).substring(2)})),e}function He(t){const e=function(t){"string"!=typeof t&&(t=We(t)),ze(t)||Oe.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(We(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function Je(t,e){for("string"!=typeof t?t=We(t):ze(t)||Oe.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Oe.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Xe(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ke(t)){let r=Le(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=We(r.slice(0,32)),e.s=We(r.slice(32,64))):65===r.length?(e.r=We(r.slice(0,32)),e.s=We(r.slice(32,64)),e.v=r[64]):Oe.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Oe.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=We(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Le(t)).length>e&&Oe.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),xe(r)}(Le(e._vs),32);e._vs=We(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Oe.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=We(r);null==e.s?e.s=i:e.s!==i&&Oe.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Oe.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Oe.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&ze(e.r)?e.r=Je(e.r,32):Oe.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&ze(e.s)?e.s=Je(e.s,32):Oe.throwArgumentError("signature missing or invalid s","signature",t);const r=Le(e.s);r[0]>=128&&Oe.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=We(r);e._vs&&(ze(e._vs)||Oe.throwArgumentError("signature invalid _vs","signature",t),e._vs=Je(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Oe.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var Qe=zt().BN;const Ye=new Ce("bignumber/5.7.0"),Ze={};let $e=!1;class tr{constructor(t,e){t!==Ze&&Ye.throwError("cannot call constructor directly; use BigNumber.from",Ce.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return rr(nr(this).fromTwos(t))}toTwos(t){return rr(nr(this).toTwos(t))}abs(){return"-"===this._hex[0]?tr.from(this._hex.substring(1)):this}add(t){return rr(nr(this).add(nr(t)))}sub(t){return rr(nr(this).sub(nr(t)))}div(t){return tr.from(t).isZero()&&ir("division-by-zero","div"),rr(nr(this).div(nr(t)))}mul(t){return rr(nr(this).mul(nr(t)))}mod(t){const e=nr(t);return e.isNeg()&&ir("division-by-zero","mod"),rr(nr(this).umod(e))}pow(t){const e=nr(t);return e.isNeg()&&ir("negative-power","pow"),rr(nr(this).pow(e))}and(t){const e=nr(t);return(this.isNegative()||e.isNeg())&&ir("unbound-bitwise-result","and"),rr(nr(this).and(e))}or(t){const e=nr(t);return(this.isNegative()||e.isNeg())&&ir("unbound-bitwise-result","or"),rr(nr(this).or(e))}xor(t){const e=nr(t);return(this.isNegative()||e.isNeg())&&ir("unbound-bitwise-result","xor"),rr(nr(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&ir("negative-width","mask"),rr(nr(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&ir("negative-width","shl"),rr(nr(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&ir("negative-width","shr"),rr(nr(this).shrn(t))}eq(t){return nr(this).eq(nr(t))}lt(t){return nr(this).lt(nr(t))}lte(t){return nr(this).lte(nr(t))}gt(t){return nr(this).gt(nr(t))}gte(t){return nr(this).gte(nr(t))}isNegative(){return"-"===this._hex[0]}isZero(){return nr(this).isZero()}toNumber(){try{return nr(this).toNumber()}catch(t){ir("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Ye.throwError("this platform does not support BigInt",Ce.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?$e||($e=!0,Ye.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Ye.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ce.errors.UNEXPECTED_ARGUMENT,{}):Ye.throwError("BigNumber.toString does not accept parameters",Ce.errors.UNEXPECTED_ARGUMENT,{})),nr(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof tr)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new tr(Ze,er(t)):t.match(/^-?[0-9]+$/)?new tr(Ze,er(new Qe(t))):Ye.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&ir("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&ir("overflow","BigNumber.from",t),tr.from(String(t));const e=t;if("bigint"==typeof e)return tr.from(e.toString());if(De(e))return tr.from(We(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return tr.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(ze(t)||"-"===t[0]&&ze(t.substring(1))))return tr.from(t)}return Ye.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function er(t){if("string"!=typeof t)return er(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Ye.throwArgumentError("invalid hex","value",t),"0x00"===(t=er(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function rr(t){return tr.from(er(t))}function nr(t){const e=tr.from(t).toHexString();return"-"===e[0]?new Qe("-"+e.substring(3),16):new Qe(e.substring(2),16)}function ir(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Ye.throwError(t,Ce.errors.NUMERIC_FAULT,n)}const or=new Ce("properties/5.7.0");function sr(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function ar(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function ur(t){return e=this,r=void 0,i=function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})},new((n=void 0)||(n=Promise))((function(t,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(s,a)}u((i=i.apply(e,r||[])).next())}));var e,r,n,i}function lr(t){const e={};for(const r in t)e[r]=t[r];return e}const hr={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function fr(t){if(null==t||hr[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!fr(n))return!1}return!0}return or.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function cr(t){if(fr(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>dr(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&sr(e,r,dr(n))}return e}return or.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function dr(t){return cr(t)}class gr{constructor(t){for(const e in t)this[e]=dr(t[e])}}const pr=new Ce("abstract-provider/5.7.0");class mr extends gr{static isForkEvent(t){return!(!t||!t._isForkEvent)}}class Er{constructor(){pr.checkAbstract(new.target,Er),sr(this,"_isProvider",!0)}getFeeData(){return t=this,e=void 0,n=function*(){const{block:t,gasPrice:e}=yield ur({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null,i=null;return t&&t.baseFeePerGas&&(r=t.baseFeePerGas,i=tr.from("1500000000"),n=t.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:e}},new((r=void 0)||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}));var t,e,r,n}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}const yr=new Ce("networks/5.7.1");function vr(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(t){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(t){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(t){}if(e.PocketProvider&&"-"!==r.pocket){const i=["goerli","ropsten","rinkeby","sepolia"];try{const o=new e.PocketProvider(t,r.pocket);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(t){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(t){}if(e.AnkrProvider&&"-"!==r.ankr)try{const i=["ropsten"],o=new e.AnkrProvider(t,r.ankr);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return vr(t)},e}function br(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return br(t,e)},r}const wr={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:vr("homestead")},Ar={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:vr("ropsten")},Nr={chainId:63,name:"classicMordor",_defaultProvider:br("https://www.ethercluster.com/mordor","classicMordor")},Rr={unspecified:{chainId:0,name:"unspecified"},homestead:wr,mainnet:wr,morden:{chainId:2,name:"morden"},ropsten:Ar,testnet:Ar,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:vr("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:vr("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:vr("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:vr("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:br("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Nr,classicTestnet:Nr,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:br("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:vr("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:vr("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Ir(t){if(null==t)return null;if("number"==typeof t){for(const e in Rr){const r=Rr[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=Rr[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=Rr[t.name];if(!e)return"number"!=typeof t.chainId&&yr.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&yr.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"==typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}class Sr{constructor(t){sr(this,"alphabet",t),sr(this,"base",t.length),sr(this,"_alphabetMap",{}),sr(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Le(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Le(new Uint8Array(e.reverse()))}}new Sr("abcdefghijklmnopqrstuvwxyz234567");const _r=new Sr("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Mr=new Ce("strings/5.7.0");var Tr,Pr;function Cr(t,e,r,n,i){if(t===Pr.BAD_PREFIX||t===Pr.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Pr.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Tr||(Tr={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Pr||(Pr={}));const Or=Object.freeze({error:function(t,e,r,n,i){return Mr.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Cr,replace:function(t,e,r,n,i){return t===Pr.OVERLONG?(n.push(i),0):(n.push(65533),Cr(t,e,r))}});function Ur(t,e){null==e&&(e=Or.error),t=Le(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?Pr.UNEXPECTED_CONTINUE:Pr.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(Pr.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e(Pr.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(Pr.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(Pr.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(Pr.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function xr(t,e=Tr.current){e!=Tr.current&&(Mr.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Le(r)}function kr(t,e){return Ur(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}var Fr=r(83669),Dr=r.n(Fr);function Lr(t){return"0x"+Dr().keccak_256(Le(t))}const Br="hash/5.7.0";function Gr(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Le(e)}function zr(t){t=Le(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function jr(t,e){null==e&&(e=1);const r=[],n=r.forEach,i=function(t,e){n.call(t,(function(t){e>0&&Array.isArray(t)?i(t,e-1):r.push(t)}))};return i(t,e),r}function Wr(t){return 1&t?~t>>1:t>>1}function Kr(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function qr(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Wr(e());return r}function Vr(t,e){let r=Kr(t(),t),n=t(),i=Kr(n,t),o=function(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}(n,t);for(let t=0;t<n;t++)for(let e=0;e<o[t];e++)r.push(i[t]+e);return e?r.map((t=>e[t])):r}function Hr(t,e,r){let n=Array(t).fill(void 0).map((()=>[]));for(let i=0;i<e;i++)qr(t,r).forEach(((t,e)=>n[e].push(t)));return n}function Jr(t,e){let r=1+e(),n=e(),i=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return jr(Hr(i.length,1+t,e).map(((t,e)=>{const o=t[0],s=t.slice(1);return Array(i[e]).fill(void 0).map(((t,e)=>{let i=e*n;return[o+e*r,s.map((t=>t+i))]}))})))}function Xr(t,e){return Hr(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const Qr=function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let t=1;t<n;t++)o.push(i+=r());let s=r(),a=e;e+=s;let u=0,l=0;function h(){return 0==u&&(l=l<<8|t[e++],u=8),l>>--u&1}const f=Math.pow(2,31),c=f>>>1,d=c>>1,g=f-1;let p=0;for(let t=0;t<31;t++)p=p<<1|h();let m=[],E=0,y=f;for(;;){let t=Math.floor(((p-E+1)*i-1)/y),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<o[n]?r=n:e=n}if(0==e)break;m.push(e);let s=E+Math.floor(y*o[e]/i),a=E+Math.floor(y*o[e+1]/i)-1;for(;0==((s^a)&c);)p=p<<1&g|h(),s=s<<1&g,a=a<<1&g|1;for(;s&~a&d;)p=p&c|p<<1&g>>>1|h(),s=s<<1^c,a=(a^c)<<1|c|1;E=s,y=1+a-s}let v=n-4;return m.map((e=>{switch(e-v){case 3:return v+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return v+256+(t[a++]<<8|t[a++]);case 1:return v+t[a++];default:return e-1}}))}(Gr("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))),Yr=new Set(Vr(Qr)),Zr=new Set(Vr(Qr)),$r=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(Jr(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Xr(r,t))}return function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}(jr(e))}(Qr),tn=function(t){let e=Vr(t).sort(((t,e)=>t-e));return function r(){let n=[];for(;;){let i=Vr(t,e);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((t,e)=>e.set.size-t.set.size));let i=t(),o=i%3;i=i/3|0;let s=!!(1&i);return i>>=1,{branches:n,valid:o,fe0f:s,save:1==i,check:2==i}}()}(Qr),en=45,rn=95;function nn(t){return function(t,e=Tr.current){return Ur(xr(t,e))}(t)}function on(t){return t.filter((t=>65039!=t))}function sn(t){for(let e of t.split(".")){let t=nn(e);try{for(let e=t.lastIndexOf(rn)-1;e>=0;e--)if(t[e]!==rn)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every((t=>t<128))&&t[2]===en&&t[3]===en)throw new Error("invalid label extension")}catch(t){throw new Error(`Invalid label "${e}": ${t.message}`)}}return t}function an(t,e){var r;let n,i,o=tn,s=[],a=t.length;for(e&&(e.length=0);a;){let u=t[--a];if(o=null===(r=o.branches.find((t=>t.set.has(u))))||void 0===r?void 0:r.node,!o)break;if(o.save)i=u;else if(o.check&&u===i)break;s.push(u),o.fe0f&&(s.push(65039),a>0&&65039==t[a-1]&&a--),o.valid&&(n=s.slice(),2==o.valid&&n.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return n}const un=new Ce(Br),ln=new Uint8Array(32);function hn(t){if(0===t.length)throw new Error("invalid ENS name; empty component");return t}function fn(t){const e=xr(function(t){return sn(function(t,e){let r=nn(t).reverse(),n=[];for(;r.length;){let t=an(r);if(t){n.push(...e(t));continue}let i=r.pop();if(Yr.has(i)){n.push(i);continue}if(Zr.has(i))continue;let o=$r[i];if(!o)throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`);n.push(...o)}return sn(String.fromCodePoint(...n).normalize("NFC"))}(t,on))}(t)),r=[];if(0===t.length)return r;let n=0;for(let t=0;t<e.length;t++)46===e[t]&&(r.push(hn(e.slice(n,t))),n=t+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(hn(e.slice(n))),r}function cn(t){"string"!=typeof t&&un.throwArgumentError("invalid ENS name; not a string","name",t);let e=ln;const r=fn(t);for(;r.length;)e=Lr(Be([e,Lr(r.pop())]));return We(e)}ln.fill(0);var dn=r(34485),gn=r.n(dn);function pn(t){return"0x"+gn().sha256().update(Le(t)).digest("hex")}new Ce("sha2/5.7.0");var mn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function En(t,e){return mn(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=e.fetchOptions){const t=e.fetchOptions;t.mode&&(r.mode=t.mode),t.cache&&(r.cache=t.cache),t.credentials&&(r.credentials=t.credentials),t.redirect&&(r.redirect=t.redirect),t.referrer&&(r.referrer=t.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Le(new Uint8Array(i))}}))}const yn=new Ce("web/5.7.1");function vn(t){return new Promise((e=>{setTimeout(e,t)}))}function bn(t,e){if(null==t)return null;if("string"==typeof t)return t;if(ke(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return kr(t)}catch(t){}return We(t)}return t}function wn(t,e,r){let n=null;if(null!=e){n=xr(e);const r="string"==typeof t?{url:t}:lr(t);r.headers?0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length||(r.headers=lr(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},t=r}return function(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;yn.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,o="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;yn.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"==typeof t&&!!t.errorPassThrough,a={};let u=null;const l={method:"GET"};let h=!1,f=12e4;if("string"==typeof t)u=t;else if("object"==typeof t){if(null!=t&&null!=t.url||yn.throwArgumentError("missing URL","connection.url",t),u=t.url,"number"==typeof t.timeout&&t.timeout>0&&(f=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(h=!0);if(l.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==u.substring(0,6)&&!0!==t.allowInsecureAuthentication&&yn.throwError("basic authentication requires a secure https url",Ce.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+zr(xr(e))}}null!=t.skipFetchSetup&&(l.skipFetchSetup=!!t.skipFetchSetup),null!=t.fetchOptions&&(l.fetchOptions=lr(t.fetchOptions))}const c=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d=u?u.match(c):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]||"text/plain"},body:d[2]?Gr(d[3]):(g=d[3],xr(g.replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){yn.throwError("processing response error",Ce.errors.SERVER_ERROR,{body:bn(d[1],d[2]),error:t,requestBody:null,requestMethod:"GET",url:u})}var g;e&&(l.method="POST",l.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach((t=>{const e=a[t];p[e.key]=e.value})),l.headers=p;const m=function(){let t=null;return{promise:new Promise((function(e,r){f&&(t=setTimeout((()=>{null!=t&&(t=null,r(yn.makeError("timeout",Ce.errors.TIMEOUT,{requestBody:bn(l.body,p["content-type"]),requestMethod:l.method,timeout:f,url:u})))}),f))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),E=function(){return t=this,e=void 0,f=function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield En(u,l),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===l.method&&t.match(/^https:/)){u=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,u)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield vn(r);continue}}}catch(t){e=t.response,null==e&&(m.cancel(),yn.throwError("missing response",Ce.errors.SERVER_ERROR,{requestBody:bn(l.body,p["content-type"]),requestMethod:l.method,serverError:t,url:u}))}let a=e.body;if(h&&304===e.statusCode?a=null:!s&&(e.statusCode<200||e.statusCode>=300)&&(m.cancel(),yn.throwError("bad response",Ce.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:bn(a,e.headers?e.headers["content-type"]:null),requestBody:bn(l.body,p["content-type"]),requestMethod:l.method,url:u})),r)try{const t=yield r(a,e);return m.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,u)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield vn(e);continue}}m.cancel(),yn.throwError("processing response error",Ce.errors.SERVER_ERROR,{body:bn(a,e.headers?e.headers["content-type"]:null),error:r,requestBody:bn(l.body,p["content-type"]),requestMethod:l.method,url:u})}return m.cancel(),a}return yn.throwError("failed response",Ce.errors.SERVER_ERROR,{requestBody:bn(l.body,p["content-type"]),requestMethod:l.method,url:u})},new((a=void 0)||(a=Promise))((function(r,n){function i(t){try{s(f.next(t))}catch(t){n(t)}}function o(t){try{s(f.throw(t))}catch(t){n(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(i,o)}s((f=f.apply(t,e||[])).next())}));var t,e,a,f}();return Promise.race([m.promise,E])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(kr(t))}catch(e){yn.throwError("invalid JSON",Ce.errors.SERVER_ERROR,{body:t,error:e})}return r&&(n=r(n,e)),n}))}function An(t,e){return e||(e={}),null==(e=lr(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let u=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}var Nn=r(21273),Rn=r.n(Nn);const In="providers/5.5.3",Sn=new Ce("rlp/5.7.0");function _n(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Mn(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function Tn(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Tn(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=_n(e.length);return r.unshift(247+r.length),r.concat(e)}ke(t)||Sn.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Le(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=_n(e.length);return r.unshift(183+r.length),r.concat(e)}function Pn(t){return We(Tn(t))}function Cn(t,e,r,n){const i=[];for(;r<e+1+n;){const o=On(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&Sn.throwError("child data too short",Ce.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function On(t,e){if(0===t.length&&Sn.throwError("data too short",Ce.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Sn.throwError("data short segment too short",Ce.errors.BUFFER_OVERRUN,{});const n=Mn(t,e+1,r);return e+1+r+n>t.length&&Sn.throwError("data long segment too short",Ce.errors.BUFFER_OVERRUN,{}),Cn(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Sn.throwError("data array too short",Ce.errors.BUFFER_OVERRUN,{}),Cn(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Sn.throwError("data array too short",Ce.errors.BUFFER_OVERRUN,{});const n=Mn(t,e+1,r);return e+1+r+n>t.length&&Sn.throwError("data array too short",Ce.errors.BUFFER_OVERRUN,{}),{consumed:1+r+n,result:We(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;return e+1+r>t.length&&Sn.throwError("data too short",Ce.errors.BUFFER_OVERRUN,{}),{consumed:1+r,result:We(t.slice(e+1,e+1+r))}}return{consumed:1,result:We(t[e])}}function Un(t){const e=Le(t),r=On(e,0);return r.consumed!==e.length&&Sn.throwArgumentError("invalid rlp data","data",t),r.result}const xn=new Ce("address/5.7.0");function kn(t){ze(t,20)||xn.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Le(Lr(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Fn={};for(let t=0;t<10;t++)Fn[String(t)]=String(t);for(let t=0;t<26;t++)Fn[String.fromCharCode(65+t)]=String(10+t);const Dn=Math.floor((Ln=9007199254740991,Math.log10?Math.log10(Ln):Math.log(Ln)/Math.LN10));var Ln;function Bn(t){let e=null;if("string"!=typeof t&&xn.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=kn(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&xn.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Fn[t])).join("");for(;e.length>=Dn;){let t=e.substring(0,Dn);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&xn.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Qe(r,36).toString(16);e.length<40;)e="0"+e;e=kn("0x"+e)}else xn.throwArgumentError("invalid address","address",t);var r;return e}const Gn=tr.from(0);function zn(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var jn=Wn;function Wn(t,e){if(!t)throw new Error(e||"Assertion failed")}Wn.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Kn=zn((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),qn=zn((function(t,e){var r=e;r.assert=jn,r.toArray=Kn.toArray,r.zero2=Kn.zero2,r.toHex=Kn.toHex,r.encode=Kn.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!=(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(zt())(t,"hex","le")}})),Vn=qn.getNAF,Hn=qn.getJSF,Jn=qn.assert;function Xn(t,e){this.type=t,this.p=new(zt())(e.p,16),this.red=e.prime?zt().red(e.prime):zt().mont(this.p),this.zero=new(zt())(0).toRed(this.red),this.one=new(zt())(1).toRed(this.red),this.two=new(zt())(2).toRed(this.red),this.n=e.n&&new(zt())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Qn=Xn;function Yn(t,e){this.curve=t,this.type=e,this.precomputed=null}Xn.prototype.point=function(){throw new Error("Not implemented")},Xn.prototype.validate=function(){throw new Error("Not implemented")},Xn.prototype._fixedNafMul=function(t,e){Jn(t.precomputed);var r=t._getDoubles(),n=Vn(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?h=h.mixedAdd(r.points[o]):s===-f&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},Xn.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=Vn(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];Jn(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},Xn.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,f=0;for(o=0;o<n;o++){var c=(a=e[o])._getNAFPoints(t);u[o]=c.wnd,l[o]=c.points}for(o=n-1;o>=1;o-=2){var d=o-1,g=o;if(1===u[d]&&1===u[g]){var p=[e[d],null,null,e[g]];0===e[d].y.cmp(e[g].y)?(p[1]=e[d].add(e[g]),p[2]=e[d].toJ().mixedAdd(e[g].neg())):0===e[d].y.cmp(e[g].y.redNeg())?(p[1]=e[d].toJ().mixedAdd(e[g]),p[2]=e[d].add(e[g].neg())):(p[1]=e[d].toJ().mixedAdd(e[g]),p[2]=e[d].toJ().mixedAdd(e[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],E=Hn(r[d],r[g]);for(f=Math.max(E[0].length,f),h[d]=new Array(f),h[g]=new Array(f),s=0;s<f;s++){var y=0|E[0][s],v=0|E[1][s];h[d][s]=m[3*(y+1)+(v+1)],h[g][s]=0,l[d]=p}}else h[d]=Vn(r[d],u[d],this._bitLength),h[g]=Vn(r[g],u[g],this._bitLength),f=Math.max(h[d].length,f),f=Math.max(h[g].length,f)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(o=f;o>=0;o--){for(var A=0;o>=0;){var N=!0;for(s=0;s<n;s++)w[s]=0|h[s][o],0!==w[s]&&(N=!1);if(!N)break;A++,o--}if(o>=0&&A++,b=b.dblp(A),o<0)break;for(s=0;s<n;s++){var R=w[s];0!==R&&(R>0?a=l[s][R-1>>1]:R<0&&(a=l[s][-R-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},Xn.BasePoint=Yn,Yn.prototype.eq=function(){throw new Error("Not implemented")},Yn.prototype.validate=function(){return this.curve.validate(this)},Xn.prototype.decodePoint=function(t,e){t=qn.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Jn(t[t.length-1]%2==0):7===t[0]&&Jn(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Yn.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Yn.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Yn.prototype.encode=function(t,e){return qn.encode(this._encode(e),t)},Yn.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Yn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Yn.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},Yn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Yn.prototype._getBeta=function(){return null},Yn.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Zn=zn((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),$n=qn.assert;function ti(t){Qn.call(this,"short",t),this.a=new(zt())(t.a,16).toRed(this.red),this.b=new(zt())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Zn(ti,Qn);var ei=ti;function ri(t,e,r,n){Qn.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(zt())(e,16),this.y=new(zt())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ni(t,e,r,n){Qn.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(zt())(0)):(this.x=new(zt())(e,16),this.y=new(zt())(r,16),this.z=new(zt())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ti.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(zt())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(zt())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],$n(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(zt())(t.a,16),b:new(zt())(t.b,16)}})):this._getEndoBasis(r)}}},ti.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:zt().mont(t),r=new(zt())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(zt())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ti.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,c=this.n.clone(),d=new(zt())(1),g=new(zt())(0),p=new(zt())(0),m=new(zt())(1),E=0;0!==f.cmpn(0);){var y=c.div(f);u=c.sub(y.mul(f)),l=p.sub(y.mul(d));var v=m.sub(y.mul(g));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++E)break;a=u,c=f,f=u,p=d,d=l,m=g,g=v}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},ti.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},ti.prototype.pointFromX=function(t,e){(t=new(zt())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},ti.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ti.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},Zn(ri,Qn.BasePoint),ti.prototype.point=function(t,e,r){return new ri(this,t,e,r)},ti.prototype.pointFromJSON=function(t,e){return ri.fromJSON(this,t,e)},ri.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},ri.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ri.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},ri.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ri.prototype.isInfinity=function(){return this.inf},ri.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},ri.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},ri.prototype.getX=function(){return this.x.fromRed()},ri.prototype.getY=function(){return this.y.fromRed()},ri.prototype.mul=function(t){return t=new(zt())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},ri.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},ri.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},ri.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},ri.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},ri.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Zn(ni,Qn.BasePoint),ti.prototype.jpoint=function(t,e,r){return new ni(this,t,e,r)},ni.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},ni.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ni.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),f=n.redMul(l),c=u.redSqr().redIAdd(h).redISub(f).redISub(f),d=u.redMul(f.redISub(c)).redISub(o.redMul(h)),g=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(c,d,g)},ni.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),f=a.redSqr().redIAdd(l).redISub(h).redISub(h),c=a.redMul(h.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(f,c,d)},ni.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),f=l.redSqr(),c=f.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),g=o.redMul(f),p=d.redSqr().redISub(g.redAdd(g)),m=g.redISub(p),E=d.redMul(m);E=E.redIAdd(E).redISub(c);var y=l.redMul(a);e+1<t&&(u=u.redMul(c)),o=p,a=y,l=E}return this.curve.jpoint(o,l.redMul(i),a)},ni.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ni.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),c=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(h).redISub(c);d=d.redIAdd(d);var g=h.redAdd(h).redIAdd(h),p=g.redSqr(),m=c.redIAdd(c);m=(m=m.redIAdd(m)).redIAdd(m),t=p.redISub(d).redISub(d),e=g.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},ni.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),c=this.x.redMul(f),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var g=c.redIAdd(c),p=(g=g.redIAdd(g)).redAdd(g);t=d.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(g.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},ni.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(h),c=s.redSqr();c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redMul(f).redISub(c),g=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,g)},ni.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.x.redMul(a).redISub(h);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,c,d)},ni.prototype.mul=function(t,e){return t=new(zt())(t,e),this.curve._wnafMul(this,t)},ni.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},ni.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},ni.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ni.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var ii=zn((function(t,e){var r=e;r.base=Qn,r.short=ei,r.mont=null,r.edwards=null})),oi=zn((function(t,e){var r,n=e,i=qn.assert;function o(t){"short"===t.type?this.curve=new ii.short(t):"edwards"===t.type?this.curve=new ii.edwards(t):this.curve=new ii.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function si(t){if(!(this instanceof si))return new si(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Kn.toArray(t.entropy,t.entropyEnc||"hex"),r=Kn.toArray(t.nonce,t.nonceEnc||"hex"),n=Kn.toArray(t.pers,t.persEnc||"hex");jn(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ai=si;si.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},si.prototype._hmac=function(){return new(gn().hmac)(this.hash,this.K)},si.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},si.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=Kn.toArray(t,e),r=Kn.toArray(r,n),jn(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},si.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=Kn.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,Kn.encode(o,e)};var ui=qn.assert;function li(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var hi=li;li.fromPublic=function(t,e,r){return e instanceof li?e:new li(t,{pub:e,pubEnc:r})},li.fromPrivate=function(t,e,r){return e instanceof li?e:new li(t,{priv:e,privEnc:r})},li.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},li.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},li.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},li.prototype._importPrivate=function(t,e){this.priv=new(zt())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},li.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?ui(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||ui(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},li.prototype.derive=function(t){return t.validate()||ui(t.validate(),"public point not validated"),t.mul(this.priv).getX()},li.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},li.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},li.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var fi=qn.assert;function ci(t,e){if(t instanceof ci)return t;this._importDER(t,e)||(fi(t.r&&t.s,"Signature without r or s"),this.r=new(zt())(t.r,16),this.s=new(zt())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var di=ci;function gi(){this.place=0}function pi(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function mi(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Ei(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}ci.prototype._importDER=function(t,e){t=qn.toArray(t,e);var r=new gi;if(48!==t[r.place++])return!1;var n=pi(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=pi(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=pi(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(zt())(o),this.s=new(zt())(a),this.recoveryParam=null,!0},ci.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=mi(e),r=mi(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Ei(n,e.length),(n=n.concat(e)).push(2),Ei(n,r.length);var i=n.concat(r),o=[48];return Ei(o,i.length),o=o.concat(i),qn.encode(o,t)};var yi=function(){throw new Error("unsupported")},vi=qn.assert;function bi(t){if(!(this instanceof bi))return new bi(t);"string"==typeof t&&(vi(Object.prototype.hasOwnProperty.call(oi,t),"Unknown curve "+t),t=oi[t]),t instanceof oi.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var wi=bi;bi.prototype.keyPair=function(t){return new hi(this,t)},bi.prototype.keyFromPrivate=function(t,e){return hi.fromPrivate(this,t,e)},bi.prototype.keyFromPublic=function(t,e){return hi.fromPublic(this,t,e)},bi.prototype.genKeyPair=function(t){t||(t={});for(var e=new ai({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||yi(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(zt())(2));;){var i=new(zt())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},bi.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},bi.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(zt())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new ai({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(zt())(1)),l=0;;l++){var h=n.k?n.k(l):new(zt())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var c=f.getX(),d=c.umod(this.n);if(0!==d.cmpn(0)){var g=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var p=(f.getY().isOdd()?1:0)|(0!==c.cmp(d)?2:0);return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),p^=1),new di({r:d,s:g,recoveryParam:p})}}}}}},bi.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(zt())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new di(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},bi.prototype.recoverPubKey=function(t,e,r,n){vi((3&r)===r,"The recovery param is more than two bits"),e=new di(e,n);var i=this.n,o=new(zt())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),f=i.sub(o).mul(h).umod(i),c=a.mul(h).umod(i);return this.g.mulAdd(f,s,c)},bi.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new di(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ai=zn((function(t,e){var r=e;r.version="6.5.4",r.utils=qn,r.rand=function(){throw new Error("unsupported")},r.curve=ii,r.curves=oi,r.ec=wi,r.eddsa=null})).ec;const Ni=new Ce("signing-key/5.7.0");let Ri=null;function Ii(){return Ri||(Ri=new Ai("secp256k1")),Ri}class Si{constructor(t){sr(this,"curve","secp256k1"),sr(this,"privateKey",We(t)),32!==Ke(this.privateKey)&&Ni.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Ii().keyFromPrivate(Le(this.privateKey));sr(this,"publicKey","0x"+e.getPublic(!1,"hex")),sr(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),sr(this,"_isSigningKey",!0)}_addPoint(t){const e=Ii().keyFromPublic(Le(this.publicKey)),r=Ii().keyFromPublic(Le(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Ii().keyFromPrivate(Le(this.privateKey)),r=Le(t);32!==r.length&&Ni.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return Xe({recoveryParam:n.recoveryParam,r:Je("0x"+n.r.toString(16),32),s:Je("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=Ii().keyFromPrivate(Le(this.privateKey)),r=Ii().keyFromPublic(Le(_i(t)));return Je("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function _i(t,e){const r=Le(t);if(32===r.length){const t=new Si(r);return e?"0x"+Ii().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?We(r):"0x"+Ii().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Ii().keyFromPublic(r).getPublic(!0,"hex"):We(r):Ni.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Mi=new Ce("transactions/5.7.0");var Ti;function Pi(t){return"0x"===t?null:Bn(t)}function Ci(t){return"0x"===t?Gn:tr.from(t)}function Oi(t,e){return function(t){return Bn(qe(Lr(qe(_i(t),1)),12))}(function(t,e){const r=Xe(e),n={r:Le(r.r),s:Le(r.s)};return"0x"+Ii().recoverPubKey(Le(t),n,r.recoveryParam).encode("hex",!1)}(Le(t),e))}function Ui(t,e){const r=Ge(tr.from(t).toHexString());return r.length>32&&Mi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function xi(t,e){return{address:Bn(t),storageKeys:(e||[]).map(((e,r)=>(32!==Ke(e)&&Mi.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function ki(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Mi.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),xi(t[0],t[1])):xi(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return xi(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function Fi(t){return ki(t).map((t=>[t.address,t.storageKeys]))}function Di(t,e){if(null!=t.gasPrice){const e=tr.from(t.gasPrice),r=tr.from(t.maxFeePerGas||0);e.eq(r)||Mi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[Ui(t.chainId||0,"chainId"),Ui(t.nonce||0,"nonce"),Ui(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ui(t.maxFeePerGas||0,"maxFeePerGas"),Ui(t.gasLimit||0,"gasLimit"),null!=t.to?Bn(t.to):"0x",Ui(t.value||0,"value"),t.data||"0x",Fi(t.accessList||[])];if(e){const t=Xe(e);r.push(Ui(t.recoveryParam,"recoveryParam")),r.push(Ge(t.r)),r.push(Ge(t.s))}return Ve(["0x02",Pn(r)])}function Li(t,e){const r=[Ui(t.chainId||0,"chainId"),Ui(t.nonce||0,"nonce"),Ui(t.gasPrice||0,"gasPrice"),Ui(t.gasLimit||0,"gasLimit"),null!=t.to?Bn(t.to):"0x",Ui(t.value||0,"value"),t.data||"0x",Fi(t.accessList||[])];if(e){const t=Xe(e);r.push(Ui(t.recoveryParam,"recoveryParam")),r.push(Ge(t.r)),r.push(Ge(t.s))}return Ve(["0x01",Pn(r)])}function Bi(t,e,r){try{const r=Ci(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(t){Mi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Je(e[1],32),t.s=Je(e[2],32);try{const e=Lr(r(t));t.from=Oi(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){}}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Ti||(Ti={}));const Gi=new Ce(In);class zi{constructor(){Gi.checkNew(new.target,zi),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.type.bind(this);return t.transaction={hash:o,type:u,accessList:zi.allowNull(this.accessList.bind(this),null),blockHash:zi.allowNull(o,null),blockNumber:zi.allowNull(a,null),transactionIndex:zi.allowNull(a,null),confirmations:zi.allowNull(a,null),from:e,gasPrice:zi.allowNull(r),maxPriorityFeePerGas:zi.allowNull(r),maxFeePerGas:zi.allowNull(r),gasLimit:r,to:zi.allowNull(e,null),value:r,nonce:a,data:i,r:zi.allowNull(this.uint256),s:zi.allowNull(this.uint256),v:zi.allowNull(a),creates:zi.allowNull(e,null),raw:zi.allowNull(i)},t.transactionRequest={from:zi.allowNull(e),nonce:zi.allowNull(a),gasLimit:zi.allowNull(r),gasPrice:zi.allowNull(r),maxPriorityFeePerGas:zi.allowNull(r),maxFeePerGas:zi.allowNull(r),to:zi.allowNull(e),value:zi.allowNull(r),data:zi.allowNull((t=>this.data(t,!0))),type:zi.allowNull(a),accessList:zi.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:zi.arrayOf(o),data:i,logIndex:a,blockHash:o},t.receipt={to:zi.allowNull(this.address,null),from:zi.allowNull(this.address,null),contractAddress:zi.allowNull(e,null),transactionIndex:a,root:zi.allowNull(s),gasUsed:r,logsBloom:zi.allowNull(i),blockHash:o,transactionHash:o,logs:zi.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:zi.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:zi.allowNull(r),status:zi.allowNull(a),type:u},t.block={hash:o,parentHash:o,number:a,timestamp:a,nonce:zi.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:e,extraData:i,transactions:zi.allowNull(zi.arrayOf(o)),baseFeePerGas:zi.allowNull(r)},t.blockWithTransactions=lr(t.block),t.blockWithTransactions.transactions=zi.allowNull(zi.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:zi.allowNull(n,void 0),toBlock:zi.allowNull(n,void 0),blockHash:zi.allowNull(o,void 0),address:zi.allowNull(e,void 0),topics:zi.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:zi.allowNull(a),blockHash:zi.allowNull(o),transactionIndex:a,removed:zi.allowNull(this.boolean.bind(this)),address:e,data:zi.allowFalsish(i,"0x"),topics:zi.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return ki(t||[])}number(t){return"0x"===t?0:tr.from(t).toNumber()}type(t){return"0x"===t||null==t?0:tr.from(t).toNumber()}bigNumber(t){return tr.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),ze(t))?t.toLowerCase():Gi.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return Bn(t)}callAddress(t){if(!ze(t,32))return null;const e=Bn(qe(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return function(t){let e=null;try{e=Bn(t.from)}catch(e){xn.throwArgumentError("missing from address","transaction",t)}return Bn(qe(Lr(Pn([e,Ge(Le(tr.from(t.nonce).toHexString()))])),12))}(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||ze(t))return He(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==Ke(r)?Gi.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=tr.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!ze(t))throw new Error("invalid uint256");return Je(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=zi.check(e,t);return n._difficulty=null==r?null:tr.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return zi.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&tr.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=zi.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;ze(r)&&(r=tr.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),ze(r)&&(r=tr.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return function(t){const e=Le(t);if(e[0]>127)return function(t){const e=Un(t);9!==e.length&&6!==e.length&&Mi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ci(e[0]).toNumber(),gasPrice:Ci(e[1]),gasLimit:Ci(e[2]),to:Pi(e[3]),value:Ci(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=tr.from(e[6]).toNumber()}catch(t){return r}if(r.r=Je(e[7],32),r.s=Je(e[8],32),tr.from(r.r).isZero()&&tr.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(We(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=Lr(Pn(i));try{r.from=Oi(o,{r:We(r.r),s:We(r.s),recoveryParam:n})}catch(t){}r.hash=Lr(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=Un(t.slice(1));8!==e.length&&11!==e.length&&Mi.throwArgumentError("invalid component count for transaction type: 1","payload",We(t));const r={type:1,chainId:Ci(e[0]).toNumber(),nonce:Ci(e[1]).toNumber(),gasPrice:Ci(e[2]),gasLimit:Ci(e[3]),to:Pi(e[4]),value:Ci(e[5]),data:e[6],accessList:ki(e[7])};return 8===e.length||(r.hash=Lr(t),Bi(r,e.slice(8),Li)),r}(e);case 2:return function(t){const e=Un(t.slice(1));9!==e.length&&12!==e.length&&Mi.throwArgumentError("invalid component count for transaction type: 2","payload",We(t));const r=Ci(e[2]),n=Ci(e[3]),i={type:2,chainId:Ci(e[0]).toNumber(),nonce:Ci(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ci(e[4]),to:Pi(e[5]),value:Ci(e[6]),data:e[7],accessList:ki(e[8])};return 9===e.length||(i.hash=Lr(t),Bi(i,e.slice(9),Di)),i}(e)}return Mi.throwError(`unsupported transaction type: ${e[0]}`,Ce.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}(t)}receiptLog(t){return zi.check(this.formats.receiptLog,t)}receipt(t){const e=zi.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=tr.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&Gi.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):Gi.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&Gi.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return zi.check(this.formats.filter,t)}filterLog(t){return zi.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const n in t)try{const i=t[n](e[n]);void 0!==i&&(r[n]=i)}catch(t){throw t.checkKey=n,t.checkValue=e[n],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}function ji(t){return t&&"function"==typeof t.isCommunityResource}function Wi(t){return ji(t)&&t.isCommunityResource()}let Ki=!1;function qi(){Ki||(Ki=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Vi=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Hi=new Ce(In);function Ji(t){return null==t?"null":(32!==Ke(t)&&Hi.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Xi(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[Ji(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return Ji(t)})).join("&")}function Qi(t){if("string"==typeof t){if(32===Ke(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+Xi(t);if(mr.isForkEvent(t))throw Hi.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+Xi(t.topics||[])}throw new Error("invalid event - "+t)}function Yi(){return(new Date).getTime()}function Zi(t){return new Promise((e=>{setTimeout(e,t)}))}const $i=["block","network","pending","poll"];class to{constructor(t,e,r){sr(this,"tag",t),sr(this,"listener",e),sr(this,"once",r)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||$i.indexOf(this.tag)>=0}}const eo={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ro(t){return Je(tr.from(t).toHexString(),32)}function no(t){return _r.encode(Be([t,qe(pn(pn(t)),0,4)]))}const io=new RegExp("^(ipfs)://(.*)$","i"),oo=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),io,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function so(t){try{return kr(ao(t))}catch(t){}return null}function ao(t){if("0x"===t)return null;const e=tr.from(qe(t,0,32)).toNumber(),r=tr.from(qe(t,e,e+32)).toNumber();return qe(t,e+32,e+32+r)}function uo(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Hi.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class lo{constructor(t,e,r,n){sr(this,"provider",t),sr(this,"name",r),sr(this,"address",t.formatter.address(e)),sr(this,"_resolvedAddress",n)}_fetchBytes(t,e){return Vi(this,void 0,void 0,(function*(){const r={to:this.address,data:Ve([t,cn(this.name),e||"0x"])};try{return ao(yield this.provider.call(r))}catch(t){return t.code,Ce.errors.CALL_EXCEPTION,null}}))}_getAddress(t,e){const r=eo[String(t)];if(null==r&&Hi.throwError(`unsupported coin type: ${t}`,Ce.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=Le(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return no(Be([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return no(Be([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=Rn().toWords(n.slice(2));return t.unshift(e),Rn().encode(r.prefix,t)}}return null}getAddress(t){return Vi(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t={to:this.address,data:"0x3b3b57de"+cn(this.name).substring(2)},e=yield this.provider.call(t);return"0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e?null:this.provider.formatter.callAddress(e)}catch(t){if(t.code===Ce.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",ro(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&Hi.throwError("invalid or unsupported coin data",Ce.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getAvatar(){return Vi(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<oo.length;r++){const n=e.match(oo[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:uo(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),u=Je(tr.from(s[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:Ve(["0x6352211e",u])}));if(o!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=tr.from(yield this.provider.call({to:a,data:Ve(["0x00fdd58e",Je(o,32),u])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const l={to:this.provider.formatter.address(s[0]),data:Ve([r,u])};let h=so(yield this.provider.call(l));if(null==h)return null;t.push({type:"metadata-url-base",content:h}),"erc1155"===i&&(h=h.replace("{id}",u.substring(2)),t.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=uo(h)),t.push({type:"metadata-url",content:h});const f=yield wn(h);if(!f)return null;t.push({type:"metadata",content:JSON.stringify(f)});let c=f.image;if("string"!=typeof c)return null;if(c.match(/^(https:\/\/|data:)/i));else{if(null==c.match(io))return null;t.push({type:"url-ipfs",content:c}),c=uo(c)}return t.push({type:"url",content:c}),{linkage:t,url:c}}}}}catch(t){}return null}))}getContentHash(){return Vi(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+_r.encode("0x"+e[1])}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&64===r[1].length?"bzz://"+r[1]:Hi.throwError("invalid or unsupported content hash data",Ce.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return Vi(this,void 0,void 0,(function*(){let e=xr(t);e=Be([ro(64),ro(e.length),e]),e.length%32!=0&&(e=Be([e,Je("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",We(e));return null==r||"0x"===r?null:kr(r)}))}}let ho=null,fo=1;class co extends Er{constructor(t){if(Hi.checkNew(new.target,Er),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),sr(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=ar(new.target,"getNetwork")(t);e?(sr(this,"_network",e),this.emit("network",e,null)):Hi.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Vi(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||Hi.throwError("no network detected",Ce.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:sr(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return An((()=>this._ready().then((t=>t),(t=>{if(t.code!==Ce.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==ho&&(ho=new zi),ho}static getNetwork(t){return Ir(null==t?"homestead":t)}_getInternalBlockNumber(t){return Vi(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(Yi()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=Yi(),r=ur({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=Yi();return(t=tr.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:i}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return Vi(this,void 0,void 0,(function*(){const t=fo++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Hi.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Hi.makeError("network block skew detected",Ce.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":{const n=t.filter;n.fromBlock=this._lastBlockNumber+1,n.toBlock=r;const i=this.getLogs(n).then((t=>{0!==t.length&&t.forEach((t=>{this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)}))})).catch((t=>{this.emit("error",t)}));e.push(i);break}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Vi(this,void 0,void 0,(function*(){return Hi.throwError("provider does not support network detection",Ce.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Vi(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield Zi(0),this._network;const r=Hi.makeError("underlying network changed",Ce.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=Yi();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=Yi(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return Vi(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return Vi(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,o)=>{const s=[];let a=!1;const u=function(){return!!a||(a=!0,s.forEach((t=>{t()})),!1)},l=t=>{t.confirmations<e||u()||i(t)};if(this.on(t,l),s.push((()=>{this.removeListener(t,l)})),n){let r=n.startBlock,i=null;const l=s=>Vi(this,void 0,void 0,(function*(){a||(yield Zi(1e3),this.getTransactionCount(n.from).then((h=>Vi(this,void 0,void 0,(function*(){if(!a){if(h<=n.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===t)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(u())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(Hi.makeError("transaction was replaced",Ce.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}i++}}a||this.once("block",l)}}))),(t=>{a||this.once("block",l)})))}));if(a)return;this.once("block",l),s.push((()=>{this.removeListener("block",l)}))}if("number"==typeof r&&r>0){const t=setTimeout((()=>{u()||o(Hi.makeError("timeout exceeded",Ce.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),s.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return Vi(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return tr.from(t)}catch(e){return Hi.throwError("bad result from backend",Ce.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ur({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return tr.from(n)}catch(t){return Hi.throwError("bad result from backend",Ce.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:t})}}))}getTransactionCount(t,e){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ur({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return tr.from(n).toNumber()}catch(t){return Hi.throwError("bad result from backend",Ce.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:t})}}))}getCode(t,e){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ur({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return We(n)}catch(t){return Hi.throwError("bad result from backend",Ce.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:t})}}))}getStorageAt(t,e,r){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ur({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>He(t)))}),i=yield this.perform("getStorageAt",n);try{return We(i)}catch(t){return Hi.throwError("bad result from backend",Ce.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==Ke(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&Hi.throwError("Transaction hash mismatch from Provider.sendTransaction.",Ce.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>Vi(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,n,i);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&Hi.throwError("transaction failed",Ce.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),n}sendTransaction(t){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>We(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return Vi(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?tr.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?We(t):null)))})),this.formatter.transactionRequest(yield ur(r))}))}_getFilter(t){return Vi(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield ur(e))}))}call(t,e){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ur({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("call",r);try{return We(n)}catch(t){return Hi.throwError("bad result from backend",Ce.errors.SERVER_ERROR,{method:"call",params:r,result:n,error:t})}}))}estimateGas(t){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield ur({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return tr.from(r)}catch(t){return Hi.throwError("bad result from backend",Ce.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return Vi(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&Hi.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&Hi.throwError("ENS name not configured",Ce.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(ze(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),ze(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(e){Hi.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return An((()=>Vi(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const n=t.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return An((()=>Vi(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return An((()=>Vi(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return Vi(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield ur({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),zi.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return Vi(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return Vi(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&Hi.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return Vi(this,void 0,void 0,(function*(){try{const e=yield this._getResolver(t);return null==e?null:new lo(this,e,t)}catch(t){if(t.code===Ce.errors.CALL_EXCEPTION)return null;throw t}}))}_getResolver(t){return Vi(this,void 0,void 0,(function*(){const e=yield this.getNetwork();e.ensAddress||Hi.throwError("network does not support ENS",Ce.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:e.name});const r={to:e.ensAddress,data:"0x0178b8bf"+cn(t).substring(2)};try{return this.formatter.callAddress(yield this.call(r))}catch(t){if(t.code===Ce.errors.CALL_EXCEPTION)return null;throw t}}))}resolveName(t){return Vi(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(ze(t))throw e}"string"!=typeof t&&Hi.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return Vi(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e);if(!r)return null;let n=Le(yield this.call({to:r,data:"0x691f3431"+cn(e).substring(2)}));if(n.length<32||!tr.from(n.slice(0,32)).eq(32))return null;if(n=n.slice(32),n.length<32)return null;const i=tr.from(n.slice(0,32)).toNumber();if(n=n.slice(32),i>n.length)return null;const o=kr(n.slice(0,i));return(yield this.resolveName(o))!=t?null:o}))}getAvatar(t){return Vi(this,void 0,void 0,(function*(){let e=null;if(ze(t)){const r=this.formatter.address(t),n=r.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(n);if(!i)return null;e=new lo(this,i,"_",r)}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return Hi.throwError(t+" not implemented",Ce.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new to(Qi(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],i=Qi(t);return this._events=this._events.filter((t=>t.tag!==i||(setTimeout((()=>{t.listener.apply(this,e)}),0),r=!0,!t.once||(n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t)})),r}listenerCount(t){if(!t)return this._events.length;let e=Qi(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=Qi(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=Qi(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||!!n||(n=!0,r.push(t),!1))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=Qi(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var go=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const po=new Ce("abstract-signer/5.7.0"),mo=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Eo=[Ce.errors.INSUFFICIENT_FUNDS,Ce.errors.NONCE_EXPIRED,Ce.errors.REPLACEMENT_UNDERPRICED];class yo{constructor(){po.checkAbstract(new.target,yo),sr(this,"_isSigner",!0)}getBalance(t){return go(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return go(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return go(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield ur(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return go(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield ur(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return go(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return go(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return go(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return go(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return go(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===mo.indexOf(e)&&po.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=lr(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&po.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return go(this,void 0,void 0,(function*(){const e=yield ur(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>go(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&po.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||po.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):po.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&po.throwError("network does not support EIP-1559",Ce.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):po.throwError("failed to get consistent fee data",Ce.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(Eo.indexOf(t.code)>=0)throw t;return po.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ce.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&po.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield ur(e)}))}_checkProvider(t){this.provider||po.throwError("missing provider",Ce.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}function vo(t){return Lr(xr(t))}const bo=new Ce(Br),wo=new Uint8Array(32);wo.fill(0);const Ao=tr.from(-1),No=tr.from(0),Ro=tr.from(1),Io=tr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),So=Je(Ro.toHexString(),32),_o=Je(No.toHexString(),32),Mo={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},To=["name","version","chainId","verifyingContract","salt"];function Po(t){return function(e){return"string"!=typeof e&&bo.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Co={name:Po("name"),version:Po("version"),chainId:function(t){try{return tr.from(t).toString()}catch(t){}return bo.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Bn(t).toLowerCase()}catch(t){}return bo.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Le(t);if(32!==e.length)throw new Error("bad length");return We(e)}catch(t){}return bo.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Oo(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&bo.throwArgumentError("invalid numeric width","type",t);const i=Io.mask(r?n-1:n),o=r?i.add(Ro).mul(Ao):No;return function(e){const r=tr.from(e);return(r.lt(o)||r.gt(i))&&bo.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),Je(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&bo.throwArgumentError("invalid bytes width","type",t),function(e){return Le(e).length!==r&&bo.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=Le(t),r=e.length%32;return r?Ve([e,wo.slice(r)]):We(e)}(e)}}}switch(t){case"address":return function(t){return Je(Bn(t),32)};case"bool":return function(t){return t?So:_o};case"bytes":return function(t){return Lr(t)};case"string":return function(t){return vo(t)}}return null}function Uo(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class xo{constructor(t){sr(this,"types",Object.freeze(dr(t))),sr(this,"_encoderCache",{}),sr(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((o=>{i[o.name]&&bo.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",t),i[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&bo.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t),Oo(s)||(r[s]||bo.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",t),r[s].push(n),e[n][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?bo.throwArgumentError("missing primary type","types",t):i.length>1&&bo.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),sr(this,"primaryType",i[0]),function i(o,s){s[o]&&bo.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=Uo(e,t[e])+r.map((e=>Uo(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=Oo(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&bo.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(Lr)),Lr(Ve(i))}}const r=this.types[t];if(r){const e=vo(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?Lr(n):n}));return n.unshift(e),Ve(n)}}return bo.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||bo.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Lr(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Oo(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&bo.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):bo.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new xo(t)}static getPrimaryType(t){return xo.from(t).primaryType}static hashStruct(t,e,r){return xo.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=Mo[r];n||bo.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>To.indexOf(t.name)-To.indexOf(e.name))),xo.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Ve(["0x1901",xo.hashDomain(t),xo.from(e).hash(r)])}static hash(t,e,r){return Lr(xo.encode(t,e,r))}static resolveNames(t,e,r,n){return i=this,o=void 0,a=function*(){t=lr(t);const i={};t.verifyingContract&&!ze(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=xo.from(e);o.visit(r,((t,e)=>("address"!==t||ze(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}},new((s=void 0)||(s=Promise))((function(t,e){function r(t){try{u(a.next(t))}catch(t){e(t)}}function n(t){try{u(a.throw(t))}catch(t){e(t)}}function u(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(r,n)}u((a=a.apply(i,o||[])).next())}));var i,o,s,a}static getPayload(t,e,r){xo.hashDomain(t);const n={},i=[];To.forEach((e=>{const r=t[e];null!=r&&(n[e]=Co[e](r),i.push({name:e,type:Mo[e]}))}));const o=xo.from(e),s=lr(e);return s.EIP712Domain?bo.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return We(Le(e));if(t.match(/^u?int/))return tr.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&bo.throwArgumentError("invalid string","value",e),e}return bo.throwArgumentError("unsupported type","type",t)}))}}}var ko=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Fo=new Ce(In),Do=["call","estimateGas"];function Lo(t,e,r){if("call"===t&&e.code===Ce.errors.SERVER_ERROR){const t=e.error;if(t&&t.message.match("reverted")&&ze(t.data))return t.data;Fo.throwError("missing revert data in call exception",Ce.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===Ce.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?n=e.error.message:"string"==typeof e.body?n=e.body:"string"==typeof e.responseText&&(n=e.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&Fo.throwError("insufficient funds for intrinsic transaction cost",Ce.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:i}),n.match(/nonce too low/)&&Fo.throwError("nonce has already been used",Ce.errors.NONCE_EXPIRED,{error:e,method:t,transaction:i}),n.match(/replacement transaction underpriced/)&&Fo.throwError("replacement fee too low",Ce.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:i}),n.match(/only replay-protected/)&&Fo.throwError("legacy pre-eip-155 transactions not supported",Ce.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:i}),Do.indexOf(t)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Fo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ce.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:i}),e}function Bo(t){return new Promise((function(e){setTimeout(e,t)}))}function Go(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function zo(t){return t?t.toLowerCase():t}const jo={};class Wo extends yo{constructor(t,e,r){if(Fo.checkNew(new.target,Wo),super(),t!==jo)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");sr(this,"provider",e),null==r&&(r=0),"string"==typeof r?(sr(this,"_address",this.provider.formatter.address(r)),sr(this,"_index",null)):"number"==typeof r?(sr(this,"_index",r),sr(this,"_address",null)):Fo.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return Fo.throwError("cannot alter JSON-RPC Signer connection",Ce.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Ko(jo,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&Fo.throwError("unknown account #"+this._index,Ce.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=lr(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=lr(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>ko(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&Fo.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),ur({tx:ur(t),sender:e}).then((({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&Fo.throwArgumentError("from address mismatch","transaction",t):e.from=r;const n=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((t=>t),(t=>Lo("sendTransaction",t,n)))}))}signTransaction(t){return Fo.throwError("signing transactions is unsupported",Ce.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return ko(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield An((()=>ko(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return ko(this,void 0,void 0,(function*(){const e="string"==typeof t?xr(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[We(e),r.toLowerCase()])}))}_legacySignMessage(t){return ko(this,void 0,void 0,(function*(){const e="string"==typeof t?xr(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),We(e)])}))}_signTypedData(t,e,r){return ko(this,void 0,void 0,(function*(){const n=yield xo.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(xo.getPayload(n.domain,e,n.value))])}))}unlock(t){return ko(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class Ko extends Wo{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const qo={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Vo extends co{constructor(t,e){Fo.checkNew(new.target,Vo);let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=ar(this.constructor,"defaultUrl")()),sr(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(lr(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ko(this,void 0,void 0,(function*(){yield Bo(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=ar(this.constructor,"getNetwork");try{return e(tr.from(t).toNumber())}catch(e){return Fo.throwError("could not detect network",Ce.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return Fo.throwError("could not detect network",Ce.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new Wo(jo,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:dr(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=wn(this.connection,JSON.stringify(r),Go).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[zo(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[zo(e.address),e.blockTag]];case"getCode":return["eth_getCode",[zo(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[zo(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[ar(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[ar(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=zo(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return ko(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&tr.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=lr(e)).transaction=lr(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&Fo.throwError(t+" not implemented",Ce.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return Lo(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return Bo(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=lr(qo);if(e)for(const t in e)e[t]&&(r[t]=!0);var n,i;i=r,(n=t)&&"object"==typeof n||or.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||or.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)}));const o={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=He(t[e]);"gasLimit"===e&&(e="gas"),o[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(o[e]=We(t[e]))})),t.accessList&&(o.accessList=ki(t.accessList)),o}}let Ho=null;try{if(Ho=WebSocket,null==Ho)throw new Error("inject please")}catch(t){const e=new Ce(In);Ho=function(){e.throwError("WebSockets not supported in this environment",Ce.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Jo=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Xo=new Ce(In);let Qo=1;class Yo extends Vo{constructor(t,e){"any"===e&&Xo.throwError("WebSocketProvider does not support 'any' network yet",Ce.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super(t,e),this._pollingInterval=-1,this._wsReady=!1,sr(this,"_websocket",new Ho(this.connection.url)),sr(this,"_requests",{}),sr(this,"_subs",{}),sr(this,"_subIds",{}),sr(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((t=>{this._websocket.send(this._requests[t].payload)}))},this._websocket.onmessage=t=>{const e=t.data,r=JSON.parse(e);if(null!=r.id){const t=String(r.id),n=this._requests[t];if(delete this._requests[t],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let t=null;r.error?(t=new Error(r.error.message||"unknown error"),sr(t,"code",r.error.code||null),sr(t,"response",e)):t=new Error("unknown error"),n.callback(t,void 0),this.emit("debug",{action:"response",error:t,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const t=this._subs[r.params.subscription];t&&t.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(t){Xo.throwError("cannot reset events block on WebSocketProvider",Ce.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(t){Xo.throwError("cannot set polling interval on WebSocketProvider",Ce.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Jo(this,void 0,void 0,(function*(){return null}))}set polling(t){t&&Xo.throwError("cannot set polling on WebSocketProvider",Ce.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(t,e){const r=Qo++;return new Promise(((n,i)=>{const o=JSON.stringify({method:t,params:e,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:function(t,e){return t?i(t):n(e)},payload:o},this._wsReady&&this._websocket.send(o)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(t,e,r){return Jo(this,void 0,void 0,(function*(){let n=this._subIds[t];null==n&&(n=Promise.all(e).then((t=>this.send("eth_subscribe",t))),this._subIds[t]=n);const i=yield n;this._subs[i]={tag:t,processFunc:r}}))}_startEvent(t){switch(t.type){case"block":this._subscribe("block",["newHeads"],(t=>{const e=tr.from(t.number).toNumber();this._emitted.block=e,this.emit("block",e)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(t=>{this.emit("pending",t)}));break;case"filter":this._subscribe(t.tag,["logs",this._getFilter(t.filter)],(e=>{null==e.removed&&(e.removed=!1),this.emit(t.filter,this.formatter.filterLog(e))}));break;case"tx":{const e=t=>{const e=t.hash;this.getTransactionReceipt(e).then((t=>{t&&this.emit(e,t)}))};e(t),this._subscribe("tx",["newHeads"],(t=>{this._events.filter((t=>"tx"===t.type)).forEach(e)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",t)}}_stopEvent(t){let e=t.tag;if("tx"===t.type){if(this._events.filter((t=>"tx"===t.type)).length)return;e="tx"}else if(this.listenerCount(t.event))return;const r=this._subIds[e];r&&(delete this._subIds[e],r.then((t=>{this._subs[t]&&(delete this._subs[t],this.send("eth_unsubscribe",[t]))})))}destroy(){return Jo(this,void 0,void 0,(function*(){this._websocket.readyState===Ho.CONNECTING&&(yield new Promise((t=>{this._websocket.onopen=function(){t(!0)},this._websocket.onerror=function(){t(!1)}}))),this._websocket.close(1e3)}))}}const Zo=new Ce(In);class $o extends Vo{detectNetwork(){const t=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return e=this,r=void 0,i=function*(){let e=this.network;return null==e&&(e=yield t.detectNetwork.call(this),e||Zo.throwError("no network detected",Ce.errors.UNKNOWN_ERROR,{}),null==this._network&&(sr(this,"_network",e),this.emit("network",e,null))),e},new((n=void 0)||(n=Promise))((function(t,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(s,a)}u((i=i.apply(e,r||[])).next())}));var e,r,n,i}}class ts extends $o{constructor(t,e){Zo.checkAbstract(new.target,ts),t=ar(new.target,"getNetwork")(t),e=ar(new.target,"getApiKey")(e),super(ar(new.target,"getUrl")(t,e),t),"string"==typeof e?sr(this,"apiKey",e):null!=e&&Object.keys(e).forEach((t=>{sr(this,t,e[t])}))}_startPending(){Zo.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(t){return Zo.throwError("API provider does not support signing",Ce.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(t){return t}static getUrl(t,e){return Zo.throwError("not implemented; sub-classes must override getUrl",Ce.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const es=new Ce(In),rs="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class ns extends Yo{constructor(t,e){const r=new is(t,e);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),sr(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===rs}}class is extends ts{static getWebSocketProvider(t,e){return new ns(t,e)}static getApiKey(t){return null==t?rs:(t&&"string"!=typeof t&&es.throwArgumentError("invalid apiKey","apiKey",t),t)}static getUrl(t,e){let r=null;switch(t.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:es.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+e,throttleCallback:(t,r)=>(e===rs&&qi(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===rs}}const os=new Ce(In);class ss extends ts{static getApiKey(t){return null!=t&&os.throwArgumentError("apiKey not supported for cloudflare","apiKey",t),null}static getUrl(t,e){let r=null;return"homestead"===t.name?r="https://cloudflare-eth.com/":os.throwArgumentError("unsupported network","network",arguments[0]),r}perform(t,e){const r=Object.create(null,{perform:{get:()=>super.perform}});return n=this,i=void 0,s=function*(){return"getBlockNumber"===t?(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number:r.perform.call(this,t,e)},new((o=void 0)||(o=Promise))((function(t,e){function r(t){try{u(s.next(t))}catch(t){e(t)}}function a(t){try{u(s.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(r,a)}u((s=s.apply(n,i||[])).next())}));var n,i,o,s}}var as=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const us=new Ce(In);function ls(t){const e={};for(let r in t){if(null==t[r])continue;let n=t[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?He(We(n)):"accessList"===r?"["+ki(n).map((t=>`{address:"${t.address}",storageKeys:["${t.storageKeys.join('","')}"]}`)).join(",")+"]":We(n),e[r]=n)}return e}function hs(t){if(0==t.status&&("No records found"===t.message||"No transactions found"===t.message))return t.result;if(1!=t.status||"OK"!=t.message){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function fs(t){if(t&&0==t.status&&"NOTOK"==t.message&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if("2.0"!=t.jsonrpc){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function cs(t){if("pending"===t)throw new Error("pending not supported");return"latest"===t?t:parseInt(t.substring(2),16)}const ds="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function gs(t,e,r){if("call"===t&&e.code===Ce.errors.SERVER_ERROR){const t=e.error;if(t&&(t.message.match(/reverted/i)||t.message.match(/VM execution error/i))){let r=t.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),ze(r))return r;us.throwError("missing revert data in call exception",Ce.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===Ce.errors.SERVER_ERROR&&(e.error&&"string"==typeof e.error.message?n=e.error.message:"string"==typeof e.body?n=e.body:"string"==typeof e.responseText&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&us.throwError("insufficient funds for intrinsic transaction cost",Ce.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&us.throwError("nonce has already been used",Ce.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&us.throwError("replacement fee too low",Ce.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&us.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ce.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class ps extends co{constructor(t,e){us.checkNew(new.target,ps),super(t),sr(this,"baseUrl",this.getBaseUrl()),sr(this,"apiKey",e||ds)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return us.throwArgumentError("unsupported network","network",name)}getUrl(t,e){const r=Object.keys(e).reduce(((t,r)=>{const n=e[r];return null!=n&&(t+=`&${r}=${n}`),t}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${t}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(t,e){return e.module=t,e.apikey=this.apiKey,e}fetch(t,e,r){return as(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(t,e),i=r?this.getPostData(t,e):null,o="proxy"===t?fs:hs;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(t,e)=>(this.isCommunityResource()&&qi(),Promise.resolve(!0))};let a=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(i).map((t=>`${t}=${i[t]}`)).join("&"));const u=yield wn(s,a,o||fs);return this.emit("debug",{action:"response",request:n,response:dr(u),provider:this}),u}))}detectNetwork(){return as(this,void 0,void 0,(function*(){return this.network}))}perform(t,e){const r=Object.create(null,{perform:{get:()=>super.perform}});return as(this,void 0,void 0,(function*(){switch(t){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch((t=>gs("sendTransaction",t,e.signedTransaction)));case"getBlock":if(e.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.transactionHash});case"call":{if("latest"!==e.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const t=ls(e.transaction);t.module="proxy",t.action="eth_call";try{return yield this.fetch("proxy",t,!0)}catch(t){return gs("call",t,e.transaction)}}case"estimateGas":{const t=ls(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return yield this.fetch("proxy",t,!0)}catch(t){return gs("estimateGas",t,e.transaction)}}case"getLogs":{const t={action:"getLogs"};if(e.filter.fromBlock&&(t.fromBlock=cs(e.filter.fromBlock)),e.filter.toBlock&&(t.toBlock=cs(e.filter.toBlock)),e.filter.address&&(t.address=e.filter.address),e.filter.topics&&e.filter.topics.length>0&&(e.filter.topics.length>1&&us.throwError("unsupported topic count",Ce.errors.UNSUPPORTED_OPERATION,{topics:e.filter.topics}),1===e.filter.topics.length)){const r=e.filter.topics[0];"string"==typeof r&&66===r.length||us.throwError("unsupported topic format",Ce.errors.UNSUPPORTED_OPERATION,{topic0:r}),t.topic0=r}const r=yield this.fetch("logs",t);let n={};for(let t=0;t<r.length;t++){const e=r[t];if(null==e.blockHash){if(null==n[e.blockNumber]){const t=yield this.getBlock(e.blockNumber);t&&(n[e.blockNumber]=t.hash)}e.blockHash=n[e.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,t,e)}))}getHistory(t,e,r){return as(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(t),startblock:null==e?0:e,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((t=>{["contractAddress","to"].forEach((function(e){""==t[e]&&delete t[e]})),null==t.creates&&null!=t.contractAddress&&(t.creates=t.contractAddress);const e=this.formatter.transactionResponse(t);return t.timeStamp&&(e.timestamp=parseInt(t.timeStamp)),e}))}))}isCommunityResource(){return this.apiKey===ds}}var ms=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Es=new Ce(In);function ys(){return(new Date).getTime()}function vs(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(null==n)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||null==e.ensAddress&&null==n.ensAddress)||Es.throwArgumentError("provider mismatch","networks",t):e=n}return e}function bs(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return null!=e&&Math.abs(n-i)>e?null:(n+i)/2}function ws(t){if(null===t)return"null";if("number"==typeof t||"boolean"==typeof t)return JSON.stringify(t);if("string"==typeof t)return t;if(tr.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map((t=>ws(t))));if("object"==typeof t){const e=Object.keys(t);return e.sort(),"{"+e.map((e=>{let r=t[e];return r="function"==typeof r?"[function]":ws(r),JSON.stringify(e)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let As=1;function Ns(t){let e=null,r=null,n=new Promise((n=>{e=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(e,t)}));return{cancel:e,getPromise:function(){return n},wait:t=>(n=n.then(t),n)}}const Rs=[Ce.errors.CALL_EXCEPTION,Ce.errors.INSUFFICIENT_FUNDS,Ce.errors.NONCE_EXPIRED,Ce.errors.REPLACEMENT_UNDERPRICED,Ce.errors.UNPREDICTABLE_GAS_LIMIT],Is=["address","args","errorArgs","errorSignature","method","transaction"];function Ss(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function _s(t,e){return ms(this,void 0,void 0,(function*(){const r=t.provider;return null!=r.blockNumber&&r.blockNumber>=e||-1===e?r:An((()=>new Promise(((n,i)=>{setTimeout((function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function Ms(t,e,r,n){return ms(this,void 0,void 0,(function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&ze(n.blockTag)&&(i=yield _s(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&ze(n.blockTag)&&(i=yield _s(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&ze(n.blockTag)&&(i=yield _s(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&ze(n.blockTag)&&(i=yield _s(t,e)),i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&ze(r.fromBlock)||r.toBlock&&ze(r.toBlock))&&(i=yield _s(t,e)),i.getLogs(r)}}return Es.throwError("unknown method error",Ce.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class Ts extends co{constructor(t,e){Es.checkNew(new.target,Ts),0===t.length&&Es.throwArgumentError("missing providers","providers",t);const r=t.map(((t,e)=>{if(Er.isProvider(t)){const e=Wi(t)?2e3:750,r=1;return Object.freeze({provider:t,weight:1,stallTimeout:e,priority:r})}const r=lr(t);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=Wi(t)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&Es.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${e}].weight`,n),Object.freeze(r)})),n=r.reduce(((t,e)=>t+e.weight),0);null==e?e=n/2:e>n&&Es.throwArgumentError("quorum will always fail; larger than total weight","quorum",e);let i=vs(r.map((t=>t.provider.network)));null==i&&(i=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then(t,e)}),0)}))),super(i),sr(this,"providerConfigs",Object.freeze(r)),sr(this,"quorum",e),this._highestBlockNumber=-1}detectNetwork(){return ms(this,void 0,void 0,(function*(){return vs(yield Promise.all(this.providerConfigs.map((t=>t.provider.getNetwork()))))}))}perform(t,e){return ms(this,void 0,void 0,(function*(){if("sendTransaction"===t){const t=yield Promise.all(this.providerConfigs.map((t=>t.provider.sendTransaction(e.signedTransaction).then((t=>t.hash),(t=>t)))));for(let e=0;e<t.length;e++){const r=t[e];if("string"==typeof r)return r}throw t[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==t&&(yield this.getBlockNumber());const r=function(t,e,r){let n=ws;switch(e){case"getBlockNumber":return function(e){const r=e.map((t=>t.result));let n=bs(e.map((t=>t.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=t._highestBlockNumber&&(t._highestBlockNumber=n),t._highestBlockNumber};case"getGasPrice":return function(t){const e=t.map((t=>t.result));return e.sort(),e[Math.floor(e.length/2)]};case"getEtherPrice":return function(t){return bs(t.map((t=>t.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(t){return null==t?null:((t=lr(t)).confirmations=-1,ws(t))};break;case"getBlock":n=r.includeTransactions?function(t){return null==t?null:((t=lr(t)).transactions=t.transactions.map((t=>((t=lr(t)).confirmations=-1,t))),ws(t))}:function(t){return null==t?null:ws(t)};break;default:throw new Error("unknown method: "+e)}return function(t,e){return function(r){const n={};r.forEach((e=>{const r=t(e.result);n[r]||(n[r]={count:0,result:e.result}),n[r].count++}));const i=Object.keys(n);for(let t=0;t<i.length;t++){const r=n[i[t]];if(r.count>=e)return r.result}}}(n,t.quorum)}(this,t,e),n=function(t){for(let e=(t=t.slice()).length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}(this.providerConfigs.map(lr));n.sort(((t,e)=>t.priority-e.priority));const i=this._highestBlockNumber;let o=0,s=!0;for(;;){const a=ys();let u=n.filter((t=>t.runner&&a-t.start<t.stallTimeout)).reduce(((t,e)=>t+e.weight),0);for(;u<this.quorum&&o<n.length;){const r=n[o++],s=As++;r.start=ys(),r.staller=Ns(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=Ms(r,i,t,e).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Ss(r,ys()),request:{method:t,params:dr(e)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Ss(r,ys()),request:{method:t,params:dr(e)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:Ss(r,null),request:{method:t,params:dr(e)},provider:this}),u+=r.weight}const l=[];n.forEach((t=>{!t.done&&t.runner&&(l.push(t.runner),t.staller&&l.push(t.staller.getPromise()))})),l.length&&(yield Promise.race(l));const h=n.filter((t=>t.done&&null==t.error));if(h.length>=this.quorum){const t=r(h);if(void 0!==t)return n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0})),t;s||(yield Ns(100).getPromise()),s=!1}const f=n.reduce(((t,e)=>{if(!e.done||null==e.error)return t;const r=e.error.code;return Rs.indexOf(r)>=0&&(t[r]||(t[r]={error:e.error,weight:0}),t[r].weight+=e.weight),t}),{});if(Object.keys(f).forEach((t=>{const e=f[t];if(e.weight<this.quorum)return;n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0}));const r=e.error,i={};Is.forEach((t=>{null!=r[t]&&(i[t]=r[t])})),Es.throwError(r.reason||r.message,t,i)})),0===n.filter((t=>!t.done)).length)break}return n.forEach((t=>{t.staller&&t.staller.cancel(),t.cancelled=!0})),Es.throwError("failed to meet quorum",Ce.errors.SERVER_ERROR,{method:t,params:e,results:n.map((t=>Ss(t))),provider:this})}))}}const Ps=null,Cs=new Ce(In),Os="84842078b09946638c03157f83405213";class Us extends Yo{constructor(t,e){const r=new xs(t,e),n=r.connection;n.password&&Cs.throwError("INFURA WebSocket project secrets unsupported",Ce.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),t),sr(this,"apiKey",r.projectId),sr(this,"projectId",r.projectId),sr(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===Os}}class xs extends ts{static getWebSocketProvider(t,e){return new Us(t,e)}static getApiKey(t){const e={apiKey:Os,projectId:Os,projectSecret:null};return null==t||("string"==typeof t?e.projectId=t:null!=t.projectSecret?(Cs.assertArgument("string"==typeof t.projectId,"projectSecret requires a projectId","projectId",t.projectId),Cs.assertArgument("string"==typeof t.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),e.projectId=t.projectId,e.projectSecret=t.projectSecret):t.projectId&&(e.projectId=t.projectId),e.apiKey=e.projectId),e}static getUrl(t,e){let r=null;switch(t?t.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:Cs.throwError("unsupported network",Ce.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+e.projectId,throttleCallback:(t,r)=>(e.projectId===Os&&qi(),Promise.resolve(!0))};return null!=e.projectSecret&&(n.user="",n.password=e.projectSecret),n}isCommunityResource(){return this.projectId===Os}}class ks extends Vo{send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},i=new Promise(((t,e)=>{n.resolve=t,n.reject=e}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const t=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const e=t.map((t=>t.request));return this.emit("debug",{action:"requestBatch",request:dr(e),provider:this}),wn(this.connection,JSON.stringify(e)).then((r=>{this.emit("debug",{action:"response",request:e,response:r,provider:this}),t.forEach(((t,e)=>{const n=r[e];if(n.error){const e=new Error(n.error.message);e.code=n.error.code,e.data=n.error.data,t.reject(e)}else t.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:e,provider:this}),t.forEach((t=>{t.reject(r)}))}))}),10)),i}}const Fs=new Ce(In);class Ds extends ts{static getApiKey(t){return t&&"string"!=typeof t&&Fs.throwArgumentError("invalid apiKey","apiKey",t),t||"ETHERS_JS_SHARED"}static getUrl(t,e){Fs.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(t.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Fs.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+e}}const Ls=new Ce(In),Bs={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class Gs extends ts{constructor(t,e){if(null==e){const r=ar(new.target,"getNetwork")(t);if(r){const t=Bs[r.name];t&&(e={applicationId:t,loadBalancer:!0})}null==e&&Ls.throwError("unsupported network",Ce.errors.INVALID_ARGUMENT,{argument:"network",value:t})}super(t,e)}static getApiKey(t){null==t&&Ls.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",t);const e={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"==typeof t?e.applicationId=t:null!=t.applicationSecretKey?(Ls.assertArgument("string"==typeof t.applicationId,"applicationSecretKey requires an applicationId","applicationId",t.applicationId),Ls.assertArgument("string"==typeof t.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),e.applicationId=t.applicationId,e.applicationSecretKey=t.applicationSecretKey,e.loadBalancer=!!t.loadBalancer):t.applicationId?(Ls.assertArgument("string"==typeof t.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",t.applicationId),e.applicationId=t.applicationId,e.loadBalancer=!!t.loadBalancer):Ls.throwArgumentError("unsupported PocketProvider apiKey","apiKey",t),e}static getUrl(t,e){let r=null;switch(t?t.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:Ls.throwError("unsupported network",Ce.errors.INVALID_ARGUMENT,{argument:"network",value:t})}let n=null;n=e.loadBalancer?`https://${r}/v1/lb/${e.applicationId}`:`https://${r}/v1/${e.applicationId}`;const i={url:n,headers:{}};return null!=e.applicationSecretKey&&(i.user="",i.password=e.applicationSecretKey),i}isCommunityResource(){return this.applicationId===Bs[this.network.name]}}const zs=new Ce(In);let js=1;function Ws(t,e){const r="Web3LegacyFetcher";return function(t,n){const i={method:t,params:n,id:js++,jsonrpc:"2.0"};return new Promise(((t,n)=>{this.emit("debug",{action:"request",fetcher:r,request:dr(i),provider:this}),e(i,((e,o)=>{if(e)return this.emit("debug",{action:"response",fetcher:r,error:e,request:i,provider:this}),n(e);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const t=new Error(o.error.message);return t.code=o.error.code,t.data=o.error.data,n(t)}t(o.result)}))}))}}class Ks extends Vo{constructor(t,e){zs.checkNew(new.target,Ks),null==t&&zs.throwArgumentError("missing provider","provider",t);let r=null,n=null,i=null;"function"==typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),i=t,t.request?(""===r&&(r="eip-1193:"),n=function(t){return function(e,r){null==r&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:dr(n),provider:this}),t.request(n).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:t,provider:this}),t}))}}(t)):t.sendAsync?n=Ws(0,t.sendAsync.bind(t)):t.send?n=Ws(0,t.send.bind(t)):zs.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,e),sr(this,"jsonRpcFetchFunc",n),sr(this,"provider",i)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const qs=new Ce(In);function Vs(t,e){if(null==t&&(t="homestead"),"string"==typeof t){const e=t.match(/^(ws|http)s?:/i);if(e)switch(e[1]){case"http":return new Vo(t);case"ws":return new Yo(t);default:qs.throwArgumentError("unsupported URL scheme","network",t)}}const r=Ir(t);return r&&r._defaultProvider||qs.throwError("unsupported getDefaultProvider network",Ce.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:Ts,AlchemyProvider:is,CloudflareProvider:ss,EtherscanProvider:ps,InfuraProvider:xs,JsonRpcProvider:Vo,NodesmithProvider:Ds,PocketProvider:Gs,Web3Provider:Ks,IpcProvider:Ps},e)}let Hs=!1,Js=!1;const Xs={debug:1,default:2,info:2,warning:3,error:4,off:5};let Qs=Xs.default,Ys=null;const Zs=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var $s,ta;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}($s||($s={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(ta||(ta={}));const ea="0123456789abcdef";class ra{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Xs[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Qs>Xs[r]||console.log.apply(console,e)}debug(...t){this._log(ra.levels.DEBUG,t)}info(...t){this._log(ra.levels.INFO,t)}warn(...t){this._log(ra.levels.WARNING,t)}makeError(t,e,r){if(Js)return this.makeError("censored error",e,{});e||(e=ra.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=ea[e[t]>>4],r+=ea[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case ta.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ta.CALL_EXCEPTION:case ta.INSUFFICIENT_FUNDS:case ta.MISSING_NEW:case ta.NONCE_EXPIRED:case ta.REPLACEMENT_UNDERPRICED:case ta.TRANSACTION_REPLACED:case ta.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,ra.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Zs&&this.throwError("platform missing String.prototype.normalize",ra.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Zs})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,ra.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,ra.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,ra.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,ra.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",ra.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",ra.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",ra.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Ys||(Ys=new ra("logger/5.7.0")),Ys}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",ra.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Hs){if(!t)return;this.globalLogger().throwError("error censorship permanent",ra.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Js=!!t,Hs=!!e}static setLogLevel(t){const e=Xs[t.toLowerCase()];null!=e?Qs=e:ra.globalLogger().warn("invalid log level - "+t)}static from(t){return new ra(t)}}ra.errors=ta,ra.levels=$s;const na=new ra("bytes/5.7.0");function ia(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ia(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function oa(t){return"number"==typeof t&&t==t&&t%1==0}function sa(t,e){if(e||(e={}),"number"==typeof t){na.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),ia(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":na.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return ia(new Uint8Array(n))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!oa(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!oa(r)||r<0||r>=256)return!1}return!0}(t)?ia(new Uint8Array(t)):na.throwArgumentError("invalid arrayify value","value",t)}const aa=new ra("strings/5.7.0");var ua,la;function ha(t,e,r,n,i){if(t===la.BAD_PREFIX||t===la.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===la.OVERRUN?r.length-e-1:0}function fa(t){return e=function(t,e=ua.current){e!=ua.current&&(aa.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return sa(r)}(t),"0x"+Dr().keccak_256(sa(e));var e}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(ua||(ua={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(la||(la={})),Object.freeze({error:function(t,e,r,n,i){return aa.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:ha,replace:function(t,e,r,n,i){return t===la.OVERLONG?(n.push(i),0):(n.push(65533),ha(t,e,r))}}),new ra("properties/5.7.0");const ca=new ra("wordlists/5.5.0");class da{constructor(t){ca.checkAbstract(new.target,da),function(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){const e=[];for(let r=0;r<2048;r++){const n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return fa(e.join("\n")+"\n")}static register(t,e){e||(e=t.locale)}}let ga=null;function pa(t){if(null==ga&&(ga="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==da.check(t)))throw ga=null,new Error("BIP39 Wordlist for en (English) FAILED")}const ma=new class extends da{constructor(){super("en")}getWord(t){return pa(this),ga[t]}getWordIndex(t){return pa(this),ga.indexOf(t)}};da.register(ma);const Ea={en:ma};var ya=r(7594),va=r(14855);const ba="abi/5.5.0";var wa=r(69009);const Aa=new Ut.Logger(ba);function Na(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let i in n){const o=t.slice();o.push(i);try{r(o,n[i])}catch(t){e.push({path:o,error:t})}}};return r([],t),e}class Ra{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){Aa.throwArgumentError(t,this.localName,e)}}class Ia{constructor(t){(0,va.zG)(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return(0,ya.xs)(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData((0,ya.zo)(t._data))}writeBytes(t){let e=(0,ya.lE)(t);const r=e.length%this.wordSize;return r&&(e=(0,ya.zo)([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=(0,ya.lE)(wa.O$.from(t));return e.length>this.wordSize&&Aa.throwError("value out-of-bounds",Ut.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=(0,ya.zo)([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Sa{constructor(t,e,r,n){(0,va.zG)(this,"_data",(0,ya.lE)(t)),(0,va.zG)(this,"wordSize",e||32),(0,va.zG)(this,"_coerceFunc",r),(0,va.zG)(this,"allowLoose",n),this._offset=0}get data(){return(0,ya.Dv)(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Sa.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:Aa.throwError("data out-of-bounds",Ut.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new Sa(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return wa.O$.from(this.readBytes(this.wordSize))}}var _a=r(90343);class Ma extends Ra{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=(0,_a.Kn)(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return(0,_a.Kn)((0,ya.$m)(t.readValue().toHexString(),20))}}class Ta extends Ra{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const Pa=new Ut.Logger(ba);function Ca(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||Pa.throwError("cannot encode object for signature with missing names",Ut.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&Pa.throwError("cannot encode object for signature with duplicate names",Ut.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else Pa.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Pa.throwArgumentError("types/value length mismatch","tuple",r);let i=new Ia(t.wordSize),o=new Ia(t.wordSize),s=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=o.length;t.encode(o,r);let n=i.writeUpdatableValue();s.push((t=>{n(t+e)}))}else t.encode(i,r)})),s.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function Oa(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readValue(),o=n.subReader(r.toNumber());try{i=e.decode(o)}catch(t){if(t.code===Ut.Logger.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(t.code===Ut.Logger.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}null!=i&&r.push(i)}));const i=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o}));for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class Ua extends Ra{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),Pa.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let t=0;t<e.length;t++)n.push(this.coder);return Ca(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&Pa.throwError("insufficient data length",Ut.Logger.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new Ta(this.coder));return t.coerce(this.name,Oa(t,r))}}class xa extends Ra{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class ka extends Ra{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=(0,ya.lE)(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class Fa extends ka{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,(0,ya.Dv)(super.decode(t)))}}class Da extends Ra{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=(0,ya.lE)(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,(0,ya.Dv)(t.readBytes(this.size)))}}class La extends Ra{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}var Ba=r(36704);class Ga extends Ra{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=wa.O$.from(e),n=Ba.Bz.mask(8*t.wordSize);if(this.signed){let t=n.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(Ba.fh).mul(Ba.tL)))&&this._throwError("value out-of-bounds",e)}else(r.lt(Ba._Y)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}var za=r(15242);class ja extends ka{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,(0,za.Y0)(e))}decode(t){return(0,za.ZN)(super.decode(t))}}class Wa extends Ra{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)})),super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){return Ca(t,this.coders,e)}decode(t){return t.coerce(this.name,Oa(t,this.coders))}}const Ka=new Ut.Logger(ba),qa={};let Va={calldata:!0,memory:!0,storage:!0},Ha={calldata:!0,memory:!0};function Ja(t,e){if("bytes"===t||"string"===t){if(Va[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&Ha[e])return!0;return(Va[e]||"payable"===e)&&Ka.throwArgumentError("invalid modifier","name",e),!1}function Xa(t,e){for(let r in e)(0,va.zG)(t,r,e[r])}const Qa=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Ya=new RegExp(/^(.*)\[([0-9]*)\]$/);class Za{constructor(t,e){t!==qa&&Ka.throwError("use fromString",Ut.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Xa(this,e);let r=this.type.match(Ya);Xa(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Za.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=Qa.sighash),Qa[t]||Ka.throwArgumentError("invalid format type","format",t),t===Qa.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==Qa.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===Qa.full?", ":",")+")"):e+=this.type,t!==Qa.sighash&&(!0===this.indexed&&(e+=" indexed"),t===Qa.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?Za.fromString(t,e):Za.fromObject(t)}static fromObject(t){return Za.isParamType(t)?t:new Za(qa,{name:t.name||null,type:lu(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(Za.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function n(e){Ka.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function i(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<t.length;r++){let o=t[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=lu(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(e||n(r),s.indexed=!0,s.name=""),Ja(s.type,s.name)&&(s.name=""),s.type=lu(s.type);let t=s;s=s.parent,s||n(r),delete t.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(e||n(r),s.indexed=!0,s.name=""),Ja(s.type,s.name)&&(s.name=""),s.type=lu(s.type);let a=i(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=lu(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(e||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):Ja(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:n(r)}}return s.parent&&Ka.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):Ja(s.type,s.name)&&(s.name=""),o.type=lu(o.type),o}(t,!!e),Za.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function $a(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&Ka.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}(t).map((t=>Za.fromString(t,e)))}class tu{constructor(t,e){t!==qa&&Ka.throwError("use a static from method",Ut.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Xa(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return tu.isFragment(t)?t:"string"==typeof t?tu.fromString(t):tu.fromObject(t)}static fromObject(t){if(tu.isFragment(t))return t;switch(t.type){case"function":return su.fromObject(t);case"event":return eu.fromObject(t);case"constructor":return ou.fromObject(t);case"error":return uu.fromObject(t);case"fallback":case"receive":return null}return Ka.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?eu.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?su.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?ou.fromString(t.trim()):"error"===t.split(" ")[0]?uu.fromString(t.substring(5).trim()):Ka.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class eu extends tu{format(t){if(t||(t=Qa.sighash),Qa[t]||Ka.throwArgumentError("invalid format type","format",t),t===Qa.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Qa.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Qa.full?", ":",")+") ",t!==Qa.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?eu.fromString(t):eu.fromObject(t)}static fromObject(t){if(eu.isEventFragment(t))return t;"event"!==t.type&&Ka.throwArgumentError("invalid event object","value",t);const e={name:fu(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Za.fromObject):[],type:"event"};return new eu(qa,e)}static fromString(t){let e=t.match(cu);e||Ka.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:Ka.warn("unknown modifier: "+t)}})),eu.fromObject({name:e[1].trim(),anonymous:r,inputs:$a(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function ru(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&Ka.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ka.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=wa.O$.from(r[1]),r[0]):t}function nu(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function iu(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&Ka.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&Ka.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||Ka.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ka.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&Ka.throwArgumentError("unable to determine stateMutability","value",t),e}class ou extends tu{format(t){if(t||(t=Qa.sighash),Qa[t]||Ka.throwArgumentError("invalid format type","format",t),t===Qa.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===Qa.sighash&&Ka.throwError("cannot format a constructor for sighash",Ut.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===Qa.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?ou.fromString(t):ou.fromObject(t)}static fromObject(t){if(ou.isConstructorFragment(t))return t;"constructor"!==t.type&&Ka.throwArgumentError("invalid constructor object","value",t);let e=iu(t);e.constant&&Ka.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Za.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?wa.O$.from(t.gas):null};return new ou(qa,r)}static fromString(t){let e={type:"constructor"},r=(t=ru(t,e)).match(cu);return r&&"constructor"===r[1].trim()||Ka.throwArgumentError("invalid constructor string","value",t),e.inputs=$a(r[2].trim(),!1),nu(r[3].trim(),e),ou.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class su extends ou{format(t){if(t||(t=Qa.sighash),Qa[t]||Ka.throwArgumentError("invalid format type","format",t),t===Qa.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Qa.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Qa.full?", ":",")+") ",t!==Qa.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?su.fromString(t):su.fromObject(t)}static fromObject(t){if(su.isFunctionFragment(t))return t;"function"!==t.type&&Ka.throwArgumentError("invalid function object","value",t);let e=iu(t);const r={type:t.type,name:fu(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Za.fromObject):[],outputs:t.outputs?t.outputs.map(Za.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?wa.O$.from(t.gas):null};return new su(qa,r)}static fromString(t){let e={type:"function"},r=(t=ru(t,e)).split(" returns ");r.length>2&&Ka.throwArgumentError("invalid function string","value",t);let n=r[0].match(cu);if(n||Ka.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&fu(e.name),e.inputs=$a(n[2],!1),nu(n[3].trim(),e),r.length>1){let n=r[1].match(cu);""==n[1].trim()&&""==n[3].trim()||Ka.throwArgumentError("unexpected tokens","value",t),e.outputs=$a(n[2],!1)}else e.outputs=[];return su.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function au(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||Ka.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class uu extends tu{format(t){if(t||(t=Qa.sighash),Qa[t]||Ka.throwArgumentError("invalid format type","format",t),t===Qa.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Qa.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Qa.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?uu.fromString(t):uu.fromObject(t)}static fromObject(t){if(uu.isErrorFragment(t))return t;"error"!==t.type&&Ka.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:fu(t.name),inputs:t.inputs?t.inputs.map(Za.fromObject):[]};return au(new uu(qa,e))}static fromString(t){let e={type:"error"},r=t.match(cu);return r||Ka.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&fu(e.name),e.inputs=$a(r[2],!1),au(uu.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function lu(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const hu=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function fu(t){return t&&t.match(hu)||Ka.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const cu=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),du=new Ut.Logger(ba),gu=new RegExp(/^bytes([0-9]*)$/),pu=new RegExp(/^(u?int)([0-9]*)$/);class mu{constructor(t){du.checkNew(new.target,mu),(0,va.zG)(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Ma(t.name);case"bool":return new xa(t.name);case"string":return new ja(t.name);case"bytes":return new Fa(t.name);case"array":return new Ua(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Wa((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new La(t.name)}let e=t.type.match(pu);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&du.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Ga(r/8,"int"===e[1],t.name)}if(e=t.type.match(gu),e){let r=parseInt(e[1]);return(0===r||r>32)&&du.throwArgumentError("invalid bytes length","param",t),new Da(r,t.name)}return du.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Sa(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new Ia(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(Za.from(t))));return new Wa(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&du.throwError("types/values length mismatch",Ut.Logger.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(Za.from(t)))),n=new Wa(r,"_"),i=this._getWriter();return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this._getCoder(Za.from(t))));return new Wa(n,"_").decode(this._getReader((0,ya.lE)(e),r))}}const Eu=new mu;var yu=r(61243),vu=r(21812);const bu=new Ut.Logger(ba);class wu extends va.dk{}class Au extends va.dk{}class Nu extends va.dk{}class Ru extends va.dk{static isIndexed(t){return!(!t||!t._isIndexed)}}const Iu={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Su(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class _u{constructor(t){bu.checkNew(new.target,_u);let e=[];e="string"==typeof t?JSON.parse(t):t,(0,va.zG)(this,"fragments",e.map((t=>tu.from(t))).filter((t=>null!=t))),(0,va.zG)(this,"_abiCoder",(0,va.tu)(new.target,"getAbiCoder")()),(0,va.zG)(this,"functions",{}),(0,va.zG)(this,"errors",{}),(0,va.zG)(this,"events",{}),(0,va.zG)(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void bu.warn("duplicate definition - constructor"):void(0,va.zG)(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?bu.warn("duplicate definition - "+r):e[r]=t})),this.deploy||(0,va.zG)(this,"deploy",ou.from({payable:!1,type:"constructor"})),(0,va.zG)(this,"_isInterface",!0)}format(t){t||(t=Qa.full),t===Qa.sighash&&bu.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===Qa.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return Eu}static getAddress(t){return(0,_a.Kn)(t)}static getSighash(t){return(0,ya.p3)((0,yu.id)(t.format()),0,4)}static getEventTopic(t){return(0,yu.id)(t.format())}getFunction(t){if((0,ya.A7)(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];bu.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?bu.throwArgumentError("no matching function","name",e):r.length>1&&bu.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[su.fromString(t).format()];return e||bu.throwArgumentError("no matching function","signature",t),e}getEvent(t){if((0,ya.A7)(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];bu.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?bu.throwArgumentError("no matching event","name",e):r.length>1&&bu.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[eu.fromString(t).format()];return e||bu.throwArgumentError("no matching event","signature",t),e}getError(t){if((0,ya.A7)(t)){const e=(0,va.tu)(this.constructor,"getSighash");for(const r in this.errors)if(t===e(this.errors[r]))return this.errors[r];bu.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?bu.throwArgumentError("no matching error","name",e):r.length>1&&bu.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[su.fromString(t).format()];return e||bu.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"==typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(t){throw e}}return(0,va.tu)(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),(0,va.tu)(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"==typeof t&&(t=this.getError(t));const r=(0,ya.lE)(e);return(0,ya.Dv)(r.slice(0,4))!==this.getSighash(t)&&bu.throwArgumentError(`data signature does not match error ${t.name}.`,"data",(0,ya.Dv)(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"==typeof t&&(t=this.getError(t)),(0,ya.Dv)((0,ya.zo)([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=(0,ya.lE)(e);return(0,ya.Dv)(r.slice(0,4))!==this.getSighash(t)&&bu.throwArgumentError(`data signature does not match function ${t.name}.`,"data",(0,ya.Dv)(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),(0,ya.Dv)((0,ya.zo)([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=(0,ya.lE)(e),n=null,i=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=(0,ya.Dv)(r.slice(0,4)),e=Iu[t];if(e)i=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.signature,e.reason&&(n=i[0]);else try{const e=this.getError(t);i=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.format()}catch(t){console.log(t)}break}}return bu.throwError("call revert exception",Ut.Logger.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:i,errorName:o,errorSignature:s,reason:n})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),(0,ya.Dv)(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&bu.throwError("too many arguments for "+t.format(),Ut.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?(0,yu.id)(e):"bytes"===t.type?(0,vu.w)((0,ya.Dv)(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),(0,ya.$m)((0,ya.Dv)(e),32));for(e.forEach(((e,i)=>{let o=t.inputs[i];o.indexed?null==e?r.push(null):"array"===o.baseType||"tuple"===o.baseType?bu.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?r.push(e.map((t=>n(o,t)))):r.push(n(o,e)):null!=e&&bu.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],n=[],i=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&bu.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,o)=>{const s=e[o];if(t.indexed)if("string"===t.type)r.push((0,yu.id)(s));else if("bytes"===t.type)r.push((0,vu.w)(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[s]))}else n.push(t),i.push(s)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);(0,ya.A7)(r[0],32)&&r[0].toLowerCase()===e||bu.throwError("fragment/topic mismatch",Ut.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(Za.fromObject({type:"bytes32",name:t.name})),o.push(!0)):(n.push(t),o.push(!1)):(i.push(t),o.push(!1))}));let s=null!=r?this._abiCoder.decode(n,(0,ya.zo)(r)):null,a=this._abiCoder.decode(i,e,!0),u=[],l=0,h=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==s)u[e]=new Ru({_isIndexed:!0,hash:null});else if(o[e])u[e]=new Ru({_isIndexed:!0,hash:s[h++]});else try{u[e]=s[h++]}catch(t){u[e]=t}else try{u[e]=a[l++]}catch(t){u[e]=t}if(t.name&&null==u[t.name]){const r=u[e];r instanceof Error?Object.defineProperty(u,t.name,{enumerable:!0,get:()=>{throw Su(`property ${JSON.stringify(t.name)}`,r)}}):u[t.name]=r}}));for(let t=0;t<u.length;t++){const e=u[t];e instanceof Error&&Object.defineProperty(u,t,{enumerable:!0,get:()=>{throw Su(`index ${t}`,e)}})}return Object.freeze(u)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new Au({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:wa.O$.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new wu({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=(0,ya.Dv)(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new Nu({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}let Mu=!1,Tu=!1;const Pu={debug:1,default:2,info:2,warning:3,error:4,off:5};let Cu=Pu.default,Ou=null;const Uu=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var xu,ku;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(xu||(xu={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(ku||(ku={}));const Fu="0123456789abcdef";class Du{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Pu[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Cu>Pu[r]||console.log.apply(console,e)}debug(...t){this._log(Du.levels.DEBUG,t)}info(...t){this._log(Du.levels.INFO,t)}warn(...t){this._log(Du.levels.WARNING,t)}makeError(t,e,r){if(Tu)return this.makeError("censored error",e,{});e||(e=Du.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Fu[e[t]>>4],r+=Fu[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case ku.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ku.CALL_EXCEPTION:case ku.INSUFFICIENT_FUNDS:case ku.MISSING_NEW:case ku.NONCE_EXPIRED:case ku.REPLACEMENT_UNDERPRICED:case ku.TRANSACTION_REPLACED:case ku.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Du.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Uu&&this.throwError("platform missing String.prototype.normalize",Du.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Uu})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Du.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Du.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Du.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Du.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Du.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Du.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Du.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Ou||(Ou=new Du("logger/5.7.0")),Ou}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Du.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Mu){if(!t)return;this.globalLogger().throwError("error censorship permanent",Du.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Tu=!!t,Mu=!!e}static setLogLevel(t){const e=Pu[t.toLowerCase()];null!=e?Cu=e:Du.globalLogger().warn("invalid log level - "+t)}static from(t){return new Du(t)}}Du.errors=ku,Du.levels=xu;const Lu=new Du("bytes/5.7.0");function Bu(t){return!!t.toHexString}function Gu(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Gu(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function zu(t){return"number"==typeof t&&t==t&&t%1==0}function ju(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!zu(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!zu(r)||r<0||r>=256)return!1}return!0}function Wu(t,e){if(e||(e={}),"number"==typeof t){Lu.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Gu(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Bu(t)&&(t=t.toHexString()),Ku(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Lu.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Gu(new Uint8Array(n))}return ju(t)?Gu(new Uint8Array(t)):Lu.throwArgumentError("invalid arrayify value","value",t)}function Ku(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const qu="0123456789abcdef";function Vu(t,e){if(e||(e={}),"number"==typeof t){Lu.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=qu[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Bu(t))return t.toHexString();if(Ku(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Lu.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ju(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=qu[(240&n)>>4]+qu[15&n]}return e}return Lu.throwArgumentError("invalid hexlify value","value",t)}function Hu(t){if("string"!=typeof t)t=Vu(t);else if(!Ku(t)||t.length%2)return null;return(t.length-2)/2}function Ju(t,e,r){return"string"!=typeof t?t=Vu(t):(!Ku(t)||t.length%2)&&Lu.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}var Xu=zt().BN;const Qu=new Du("bignumber/5.7.0"),Yu={};let Zu=!1;class $u{constructor(t,e){t!==Yu&&Qu.throwError("cannot call constructor directly; use BigNumber.from",Du.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return el(rl(this).fromTwos(t))}toTwos(t){return el(rl(this).toTwos(t))}abs(){return"-"===this._hex[0]?$u.from(this._hex.substring(1)):this}add(t){return el(rl(this).add(rl(t)))}sub(t){return el(rl(this).sub(rl(t)))}div(t){return $u.from(t).isZero()&&nl("division-by-zero","div"),el(rl(this).div(rl(t)))}mul(t){return el(rl(this).mul(rl(t)))}mod(t){const e=rl(t);return e.isNeg()&&nl("division-by-zero","mod"),el(rl(this).umod(e))}pow(t){const e=rl(t);return e.isNeg()&&nl("negative-power","pow"),el(rl(this).pow(e))}and(t){const e=rl(t);return(this.isNegative()||e.isNeg())&&nl("unbound-bitwise-result","and"),el(rl(this).and(e))}or(t){const e=rl(t);return(this.isNegative()||e.isNeg())&&nl("unbound-bitwise-result","or"),el(rl(this).or(e))}xor(t){const e=rl(t);return(this.isNegative()||e.isNeg())&&nl("unbound-bitwise-result","xor"),el(rl(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&nl("negative-width","mask"),el(rl(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&nl("negative-width","shl"),el(rl(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&nl("negative-width","shr"),el(rl(this).shrn(t))}eq(t){return rl(this).eq(rl(t))}lt(t){return rl(this).lt(rl(t))}lte(t){return rl(this).lte(rl(t))}gt(t){return rl(this).gt(rl(t))}gte(t){return rl(this).gte(rl(t))}isNegative(){return"-"===this._hex[0]}isZero(){return rl(this).isZero()}toNumber(){try{return rl(this).toNumber()}catch(t){nl("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Qu.throwError("this platform does not support BigInt",Du.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Zu||(Zu=!0,Qu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Qu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Du.errors.UNEXPECTED_ARGUMENT,{}):Qu.throwError("BigNumber.toString does not accept parameters",Du.errors.UNEXPECTED_ARGUMENT,{})),rl(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof $u)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new $u(Yu,tl(t)):t.match(/^-?[0-9]+$/)?new $u(Yu,tl(new Xu(t))):Qu.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&nl("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&nl("overflow","BigNumber.from",t),$u.from(String(t));const e=t;if("bigint"==typeof e)return $u.from(e.toString());if(ju(e))return $u.from(Vu(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return $u.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Ku(t)||"-"===t[0]&&Ku(t.substring(1))))return $u.from(t)}return Qu.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function tl(t){if("string"!=typeof t)return tl(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Qu.throwArgumentError("invalid hex","value",t),"0x00"===(t=tl(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function el(t){return $u.from(tl(t))}function rl(t){const e=$u.from(t).toHexString();return"-"===e[0]?new Xu("-"+e.substring(3),16):new Xu(e.substring(2),16)}function nl(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Qu.throwError(t,Du.errors.NUMERIC_FAULT,n)}function il(t){return"0x"+Dr().keccak_256(Wu(t))}const ol=new Du("rlp/5.7.0");function sl(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function al(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(al(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=sl(e.length);return r.unshift(247+r.length),r.concat(e)}var e;Ku(e=t)&&!(e.length%2)||ju(e)||ol.throwArgumentError("RLP object must be BytesLike","object",t);const r=Array.prototype.slice.call(Wu(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;const n=sl(r.length);return n.unshift(183+n.length),n.concat(r)}const ul=new Du("address/5.5.0");function ll(t){Ku(t,20)||ul.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Wu(il(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const hl={};for(let t=0;t<10;t++)hl[String(t)]=String(t);for(let t=0;t<26;t++)hl[String.fromCharCode(65+t)]=String(10+t);const fl=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function cl(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>hl[t])).join("");for(;e.length>=fl;){let t=e.substring(0,fl);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function dl(t){let e=null;if("string"!=typeof t&&ul.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=ll(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&ul.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==cl(t)&&ul.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Xu(r,36).toString(16);e.length<40;)e="0"+e;e=ll("0x"+e)}else ul.throwArgumentError("invalid address","address",t);var r;return e}function gl(t){try{return dl(t),!0}catch(t){}return!1}function pl(t){let e=(r=dl(t).substring(2),new Xu(r,16).toString(36)).toUpperCase();for(var r;e.length<30;)e="0"+e;return"XE"+cl("XE00"+e)+e}function ml(t){let e=null;try{e=dl(t.from)}catch(e){ul.throwArgumentError("missing from address","transaction",t)}return dl(Ju(il(Vu(al([e,function(t){let e=Wu(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}(Wu($u.from(t.nonce).toHexString()))]))),12))}function El(t,e,r){return 32!==Hu(e)&&ul.throwArgumentError("salt must be 32 bytes","salt",e),32!==Hu(r)&&ul.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),dl(Ju(il(function(t){const e=t.map((t=>Wu(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Gu(n)}(["0xff",dl(t),e,r])),12))}let yl=!1,vl=!1;const bl={debug:1,default:2,info:2,warning:3,error:4,off:5};let wl=bl.default,Al=null;const Nl=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Rl,Il;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Rl||(Rl={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Il||(Il={}));const Sl="0123456789abcdef";class _l{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==bl[r]&&this.throwArgumentError("invalid log level name","logLevel",t),wl>bl[r]||console.log.apply(console,e)}debug(...t){this._log(_l.levels.DEBUG,t)}info(...t){this._log(_l.levels.INFO,t)}warn(...t){this._log(_l.levels.WARNING,t)}makeError(t,e,r){if(vl)return this.makeError("censored error",e,{});e||(e=_l.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Sl[e[t]>>4],r+=Sl[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Il.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Il.CALL_EXCEPTION:case Il.INSUFFICIENT_FUNDS:case Il.MISSING_NEW:case Il.NONCE_EXPIRED:case Il.REPLACEMENT_UNDERPRICED:case Il.TRANSACTION_REPLACED:case Il.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,_l.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Nl&&this.throwError("platform missing String.prototype.normalize",_l.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Nl})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,_l.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,_l.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,_l.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,_l.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",_l.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",_l.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",_l.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Al||(Al=new _l("logger/5.7.0")),Al}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",_l.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),yl){if(!t)return;this.globalLogger().throwError("error censorship permanent",_l.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vl=!!t,yl=!!e}static setLogLevel(t){const e=bl[t.toLowerCase()];null!=e?wl=e:_l.globalLogger().warn("invalid log level - "+t)}static from(t){return new _l(t)}}_l.errors=Il,_l.levels=Rl;const Ml=new _l("bytes/5.7.0");function Tl(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Tl(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Pl(t){return"number"==typeof t&&t==t&&t%1==0}function Cl(t,e){if(e||(e={}),"number"==typeof t){Ml.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Tl(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Ml.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Tl(new Uint8Array(n))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Pl(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Pl(r)||r<0||r>=256)return!1}return!0}(t)?Tl(new Uint8Array(t)):Ml.throwArgumentError("invalid arrayify value","value",t)}function Ol(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Cl(e)}function Ul(t){t=Cl(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}let xl=!1,kl=!1;const Fl={debug:1,default:2,info:2,warning:3,error:4,off:5};let Dl=Fl.default,Ll=null;const Bl=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Gl,zl;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Gl||(Gl={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(zl||(zl={}));const jl="0123456789abcdef";class Wl{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Fl[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Dl>Fl[r]||console.log.apply(console,e)}debug(...t){this._log(Wl.levels.DEBUG,t)}info(...t){this._log(Wl.levels.INFO,t)}warn(...t){this._log(Wl.levels.WARNING,t)}makeError(t,e,r){if(kl)return this.makeError("censored error",e,{});e||(e=Wl.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=jl[e[t]>>4],r+=jl[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case zl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case zl.CALL_EXCEPTION:case zl.INSUFFICIENT_FUNDS:case zl.MISSING_NEW:case zl.NONCE_EXPIRED:case zl.REPLACEMENT_UNDERPRICED:case zl.TRANSACTION_REPLACED:case zl.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Wl.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Bl&&this.throwError("platform missing String.prototype.normalize",Wl.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Bl})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Wl.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Wl.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Wl.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Wl.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Wl.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Wl.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Wl.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Ll||(Ll=new Wl("logger/5.7.0")),Ll}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Wl.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),xl){if(!t)return;this.globalLogger().throwError("error censorship permanent",Wl.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}kl=!!t,xl=!!e}static setLogLevel(t){const e=Fl[t.toLowerCase()];null!=e?Dl=e:Wl.globalLogger().warn("invalid log level - "+t)}static from(t){return new Wl(t)}}Wl.errors=zl,Wl.levels=Gl;const Kl=new Wl("bytes/5.7.0");function ql(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ql(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vl(t){return"number"==typeof t&&t==t&&t%1==0}function Hl(t,e){if(e||(e={}),"number"==typeof t){Kl.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),ql(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Kl.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return ql(new Uint8Array(n))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Vl(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Vl(r)||r<0||r>=256)return!1}return!0}(t)?ql(new Uint8Array(t)):Kl.throwArgumentError("invalid arrayify value","value",t)}function Jl(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}new Wl("properties/5.7.0");class Xl{constructor(t){Jl(this,"alphabet",t),Jl(this,"base",t.length),Jl(this,"_alphabetMap",{}),Jl(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Hl(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Hl(new Uint8Array(e.reverse()))}}new Xl("abcdefghijklmnopqrstuvwxyz234567");const Ql=new Xl("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");let Yl=!1,Zl=!1;const $l={debug:1,default:2,info:2,warning:3,error:4,off:5};let th=$l.default,eh=null;const rh=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var nh,ih;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(nh||(nh={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(ih||(ih={}));const oh="0123456789abcdef";class sh{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==$l[r]&&this.throwArgumentError("invalid log level name","logLevel",t),th>$l[r]||console.log.apply(console,e)}debug(...t){this._log(sh.levels.DEBUG,t)}info(...t){this._log(sh.levels.INFO,t)}warn(...t){this._log(sh.levels.WARNING,t)}makeError(t,e,r){if(Zl)return this.makeError("censored error",e,{});e||(e=sh.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=oh[e[t]>>4],r+=oh[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case ih.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ih.CALL_EXCEPTION:case ih.INSUFFICIENT_FUNDS:case ih.MISSING_NEW:case ih.NONCE_EXPIRED:case ih.REPLACEMENT_UNDERPRICED:case ih.TRANSACTION_REPLACED:case ih.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,sh.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),rh&&this.throwError("platform missing String.prototype.normalize",sh.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:rh})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,sh.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,sh.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,sh.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,sh.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",sh.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",sh.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",sh.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return eh||(eh=new sh("logger/5.7.0")),eh}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",sh.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Yl){if(!t)return;this.globalLogger().throwError("error censorship permanent",sh.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Zl=!!t,Yl=!!e}static setLogLevel(t){const e=$l[t.toLowerCase()];null!=e?th=e:sh.globalLogger().warn("invalid log level - "+t)}static from(t){return new sh(t)}}sh.errors=ih,sh.levels=nh;const ah=new sh("bytes/5.5.0");function uh(t){return!!t.toHexString}function lh(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return lh(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function hh(t){return Eh(t)&&!(t.length%2)||ch(t)}function fh(t){return"number"==typeof t&&t==t&&t%1==0}function ch(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!fh(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!fh(r)||r<0||r>=256)return!1}return!0}function dh(t,e){if(e||(e={}),"number"==typeof t){ah.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),lh(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),uh(t)&&(t=t.toHexString()),Eh(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":ah.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return lh(new Uint8Array(n))}return ch(t)?lh(new Uint8Array(t)):ah.throwArgumentError("invalid arrayify value","value",t)}function gh(t){const e=t.map((t=>dh(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),lh(n)}function ph(t){let e=dh(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function mh(t,e){(t=dh(t)).length>e&&ah.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),lh(r)}function Eh(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const yh="0123456789abcdef";function vh(t,e){if(e||(e={}),"number"==typeof t){ah.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=yh[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),uh(t))return t.toHexString();if(Eh(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":ah.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ch(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=yh[(240&n)>>4]+yh[15&n]}return e}return ah.throwArgumentError("invalid hexlify value","value",t)}function bh(t){if("string"!=typeof t)t=vh(t);else if(!Eh(t)||t.length%2)return null;return(t.length-2)/2}function wh(t,e,r){return"string"!=typeof t?t=vh(t):(!Eh(t)||t.length%2)&&ah.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ah(t){let e="0x";return t.forEach((t=>{e+=vh(t).substring(2)})),e}function Nh(t){const e=Rh(vh(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function Rh(t){"string"!=typeof t&&(t=vh(t)),Eh(t)||ah.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}function Ih(t,e){for("string"!=typeof t?t=vh(t):Eh(t)||ah.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ah.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Sh(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(hh(t)){const r=dh(t);65!==r.length&&ah.throwArgumentError("invalid signature string; must be 65 bytes","signature",t),e.r=vh(r.slice(0,32)),e.s=vh(r.slice(32,64)),e.v=r[64],e.v<27&&(0===e.v||1===e.v?e.v+=27:ah.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=vh(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=mh(dh(e._vs),32);e._vs=vh(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&ah.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=vh(r);null==e.s?e.s=i:e.s!==i&&ah.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?ah.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&ah.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Eh(e.r)?e.r=Ih(e.r,32):ah.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Eh(e.s)?e.s=Ih(e.s,32):ah.throwArgumentError("signature missing or invalid s","signature",t);const r=dh(e.s);r[0]>=128&&ah.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=vh(r);e._vs&&(Eh(e._vs)||ah.throwArgumentError("signature invalid _vs","signature",t),e._vs=Ih(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&ah.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e}function _h(t){return vh(gh([(t=Sh(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}let Mh=!1,Th=!1;const Ph={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ch=Ph.default,Oh=null;const Uh=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var xh,kh;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(xh||(xh={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(kh||(kh={}));const Fh="0123456789abcdef";class Dh{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Ph[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Ch>Ph[r]||console.log.apply(console,e)}debug(...t){this._log(Dh.levels.DEBUG,t)}info(...t){this._log(Dh.levels.INFO,t)}warn(...t){this._log(Dh.levels.WARNING,t)}makeError(t,e,r){if(Th)return this.makeError("censored error",e,{});e||(e=Dh.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Fh[e[t]>>4],r+=Fh[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case kh.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case kh.CALL_EXCEPTION:case kh.INSUFFICIENT_FUNDS:case kh.MISSING_NEW:case kh.NONCE_EXPIRED:case kh.REPLACEMENT_UNDERPRICED:case kh.TRANSACTION_REPLACED:case kh.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Dh.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Uh&&this.throwError("platform missing String.prototype.normalize",Dh.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Uh})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Dh.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Dh.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Dh.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Dh.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Dh.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Dh.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Dh.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Oh||(Oh=new Dh("logger/5.7.0")),Oh}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Dh.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Mh){if(!t)return;this.globalLogger().throwError("error censorship permanent",Dh.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Th=!!t,Mh=!!e}static setLogLevel(t){const e=Ph[t.toLowerCase()];null!=e?Ch=e:Dh.globalLogger().warn("invalid log level - "+t)}static from(t){return new Dh(t)}}Dh.errors=kh,Dh.levels=xh;const Lh=new Dh("bytes/5.7.0");function Bh(t){return!!t.toHexString}function Gh(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Gh(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function zh(t){return"number"==typeof t&&t==t&&t%1==0}function jh(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!zh(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!zh(r)||r<0||r>=256)return!1}return!0}function Wh(t,e){if(e||(e={}),"number"==typeof t){Lh.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Gh(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Bh(t)&&(t=t.toHexString()),qh(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Lh.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Gh(new Uint8Array(n))}return jh(t)?Gh(new Uint8Array(t)):Lh.throwArgumentError("invalid arrayify value","value",t)}function Kh(t){const e=t.map((t=>Wh(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Gh(n)}function qh(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Vh="0123456789abcdef";function Hh(t,e){if(e||(e={}),"number"==typeof t){Lh.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Vh[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Bh(t))return t.toHexString();if(qh(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Lh.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(jh(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Vh[(240&n)>>4]+Vh[15&n]}return e}return Lh.throwArgumentError("invalid hexlify value","value",t)}function Jh(t){let e="0x";return t.forEach((t=>{e+=Hh(t).substring(2)})),e}function Xh(t,e){for("string"!=typeof t?t=Hh(t):qh(t)||Lh.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Lh.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Qh(t){return"0x"+Dr().keccak_256(Wh(t))}const Yh=new Dh("strings/5.7.0");var Zh,$h;function tf(t,e,r,n,i){if(t===$h.BAD_PREFIX||t===$h.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===$h.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Zh||(Zh={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}($h||($h={}));const ef=Object.freeze({error:function(t,e,r,n,i){return Yh.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:tf,replace:function(t,e,r,n,i){return t===$h.OVERLONG?(n.push(i),0):(n.push(65533),tf(t,e,r))}});function rf(t,e=Zh.current){e!=Zh.current&&(Yh.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Wh(r)}function nf(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function of(t,e=Zh.current){return function(t,e){null==e&&(e=ef.error),t=Wh(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?$h.UNEXPECTED_CONTINUE:$h.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e($h.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e($h.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e($h.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e($h.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e($h.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}(rf(t,e))}const sf="Ethereum Signed Message:\n";function af(t){return"string"==typeof t&&(t=rf(t)),Qh(Kh([rf(sf),rf(String(t.length)),t]))}function uf(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function lf(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function hf(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const ff=lf("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),cf="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),df=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],gf=uf("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),pf=uf("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),mf=uf("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Ef=lf("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function yf(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=of(t);var r;r=e.map((t=>{if(cf.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=hf(t,df);if(e)return[t+e.s];let r=gf[t];if(r)return r;let n=pf[t];return n?[t+n[0]]:mf[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=of(nf(e),Zh.NFKC),e.forEach((t=>{if(hf(t,Ef))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(hf(t,ff))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=nf(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");return n}const vf="hash/5.5.0",bf=new Dh(vf),wf=new Uint8Array(32);wf.fill(0);const Af=new RegExp("^((.*)\\.)?([^.]+)$");function Nf(t){try{const e=t.split(".");for(let t=0;t<e.length;t++)if(0===yf(e[t]).length)throw new Error("empty");return!0}catch(t){}return!1}function Rf(t){"string"!=typeof t&&bf.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=wf;for(;e.length;){const n=e.match(Af);null!=n&&""!==n[2]||bf.throwArgumentError("invalid ENS address; missing component","name",t),r=Qh(Kh([r,Qh(rf(yf(n[3])))])),e=n[2]||""}return Hh(r)}function If(t){return Qh(rf(t))}var Sf=zt().BN;const _f=new Dh("bignumber/5.7.0"),Mf={};let Tf=!1;class Pf{constructor(t,e){t!==Mf&&_f.throwError("cannot call constructor directly; use BigNumber.from",Dh.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Of(Uf(this).fromTwos(t))}toTwos(t){return Of(Uf(this).toTwos(t))}abs(){return"-"===this._hex[0]?Pf.from(this._hex.substring(1)):this}add(t){return Of(Uf(this).add(Uf(t)))}sub(t){return Of(Uf(this).sub(Uf(t)))}div(t){return Pf.from(t).isZero()&&xf("division-by-zero","div"),Of(Uf(this).div(Uf(t)))}mul(t){return Of(Uf(this).mul(Uf(t)))}mod(t){const e=Uf(t);return e.isNeg()&&xf("division-by-zero","mod"),Of(Uf(this).umod(e))}pow(t){const e=Uf(t);return e.isNeg()&&xf("negative-power","pow"),Of(Uf(this).pow(e))}and(t){const e=Uf(t);return(this.isNegative()||e.isNeg())&&xf("unbound-bitwise-result","and"),Of(Uf(this).and(e))}or(t){const e=Uf(t);return(this.isNegative()||e.isNeg())&&xf("unbound-bitwise-result","or"),Of(Uf(this).or(e))}xor(t){const e=Uf(t);return(this.isNegative()||e.isNeg())&&xf("unbound-bitwise-result","xor"),Of(Uf(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&xf("negative-width","mask"),Of(Uf(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&xf("negative-width","shl"),Of(Uf(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&xf("negative-width","shr"),Of(Uf(this).shrn(t))}eq(t){return Uf(this).eq(Uf(t))}lt(t){return Uf(this).lt(Uf(t))}lte(t){return Uf(this).lte(Uf(t))}gt(t){return Uf(this).gt(Uf(t))}gte(t){return Uf(this).gte(Uf(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Uf(this).isZero()}toNumber(){try{return Uf(this).toNumber()}catch(t){xf("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return _f.throwError("this platform does not support BigInt",Dh.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Tf||(Tf=!0,_f.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?_f.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Dh.errors.UNEXPECTED_ARGUMENT,{}):_f.throwError("BigNumber.toString does not accept parameters",Dh.errors.UNEXPECTED_ARGUMENT,{})),Uf(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Pf)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Pf(Mf,Cf(t)):t.match(/^-?[0-9]+$/)?new Pf(Mf,Cf(new Sf(t))):_f.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&xf("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&xf("overflow","BigNumber.from",t),Pf.from(String(t));const e=t;if("bigint"==typeof e)return Pf.from(e.toString());if(jh(e))return Pf.from(Hh(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Pf.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(qh(t)||"-"===t[0]&&qh(t.substring(1))))return Pf.from(t)}return _f.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Cf(t){if("string"!=typeof t)return Cf(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&_f.throwArgumentError("invalid hex","value",t),"0x00"===(t=Cf(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Of(t){return Pf.from(Cf(t))}function Uf(t){const e=Pf.from(t).toHexString();return"-"===e[0]?new Sf("-"+e.substring(3),16):new Sf(e.substring(2),16)}function xf(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),_f.throwError(t,Dh.errors.NUMERIC_FAULT,n)}const kf=new Dh("address/5.7.0");function Ff(t){qh(t,20)||kf.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Wh(Qh(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Df={};for(let t=0;t<10;t++)Df[String(t)]=String(t);for(let t=0;t<26;t++)Df[String.fromCharCode(65+t)]=String(10+t);const Lf=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Bf(t){let e=null;if("string"!=typeof t&&kf.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Ff(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&kf.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Df[t])).join("");for(;e.length>=Lf;){let t=e.substring(0,Lf);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&kf.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Sf(r,36).toString(16);e.length<40;)e="0"+e;e=Ff("0x"+e)}else kf.throwArgumentError("invalid address","address",t);var r;return e}const Gf=new Dh("properties/5.7.0");function zf(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function jf(t){const e={};for(const r in t)e[r]=t[r];return e}const Wf={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Kf(t){if(null==t||Wf[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!Kf(n))return!1}return!0}return Gf.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function qf(t){if(Kf(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Vf(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&zf(e,r,Vf(n))}return e}return Gf.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Vf(t){return qf(t)}const Hf=new Dh(vf),Jf=new Uint8Array(32);Jf.fill(0);const Xf=Pf.from(-1),Qf=Pf.from(0),Yf=Pf.from(1),Zf=Pf.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$f=Xh(Yf.toHexString(),32),tc=Xh(Qf.toHexString(),32),ec={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},rc=["name","version","chainId","verifyingContract","salt"];function nc(t){return function(e){return"string"!=typeof e&&Hf.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const ic={name:nc("name"),version:nc("version"),chainId:function(t){try{return Pf.from(t).toString()}catch(t){}return Hf.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Bf(t).toLowerCase()}catch(t){}return Hf.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Wh(t);if(32!==e.length)throw new Error("bad length");return Hh(e)}catch(t){}return Hf.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function oc(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&Hf.throwArgumentError("invalid numeric width","type",t);const i=Zf.mask(r?n-1:n),o=r?i.add(Yf).mul(Xf):Qf;return function(e){const r=Pf.from(e);return(r.lt(o)||r.gt(i))&&Hf.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),Xh(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&Hf.throwArgumentError("invalid bytes width","type",t),function(e){return Wh(e).length!==r&&Hf.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=Wh(t),r=e.length%32;return r?Jh([e,Jf.slice(r)]):Hh(e)}(e)}}}switch(t){case"address":return function(t){return Xh(Bf(t),32)};case"bool":return function(t){return t?$f:tc};case"bytes":return function(t){return Qh(t)};case"string":return function(t){return If(t)}}return null}function sc(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class ac{constructor(t){zf(this,"types",Object.freeze(Vf(t))),zf(this,"_encoderCache",{}),zf(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((o=>{i[o.name]&&Hf.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",t),i[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&Hf.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t),oc(s)||(r[s]||Hf.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",t),r[s].push(n),e[n][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?Hf.throwArgumentError("missing primary type","types",t):i.length>1&&Hf.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),zf(this,"primaryType",i[0]),function i(o,s){s[o]&&Hf.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=sc(e,t[e])+r.map((e=>sc(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=oc(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&Hf.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(Qh)),Qh(Jh(i))}}const r=this.types[t];if(r){const e=If(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?Qh(n):n}));return n.unshift(e),Jh(n)}}return Hf.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||Hf.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Qh(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(oc(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&Hf.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):Hf.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new ac(t)}static getPrimaryType(t){return ac.from(t).primaryType}static hashStruct(t,e,r){return ac.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=ec[r];n||Hf.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>rc.indexOf(t.name)-rc.indexOf(e.name))),ac.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Jh(["0x1901",ac.hashDomain(t),ac.from(e).hash(r)])}static hash(t,e,r){return Qh(ac.encode(t,e,r))}static resolveNames(t,e,r,n){return i=this,o=void 0,a=function*(){t=jf(t);const i={};t.verifyingContract&&!qh(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=ac.from(e);o.visit(r,((t,e)=>("address"!==t||qh(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}},new((s=void 0)||(s=Promise))((function(t,e){function r(t){try{u(a.next(t))}catch(t){e(t)}}function n(t){try{u(a.throw(t))}catch(t){e(t)}}function u(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(r,n)}u((a=a.apply(i,o||[])).next())}));var i,o,s,a}static getPayload(t,e,r){ac.hashDomain(t);const n={},i=[];rc.forEach((e=>{const r=t[e];null!=r&&(n[e]=ic[e](r),i.push({name:e,type:ec[e]}))}));const o=ac.from(e),s=jf(e);return s.EIP712Domain?Hf.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Hh(Wh(e));if(t.match(/^u?int/))return Pf.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&Hf.throwArgumentError("invalid string","value",e),e}return Hf.throwArgumentError("unsupported type","type",t)}))}}}var uc=r(87836),lc=r(39352),hc=r(3662),fc=r(2345),cc=r(81874);const dc=new Ut.Logger("wordlists/5.7.0");class gc{constructor(t){dc.checkAbstract(new.target,gc),(0,va.zG)(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){const e=[];for(let r=0;r<2048;r++){const n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return(0,yu.id)(e.join("\n")+"\n")}static register(t,e){e||(e=t.locale)}}let pc=null;function mc(t){if(null==pc&&(pc="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==gc.check(t)))throw pc=null,new Error("BIP39 Wordlist for en (English) FAILED")}const Ec=new class extends gc{constructor(){super("en")}getWord(t){return mc(this),pc[t]}getWordIndex(t){return mc(this),pc.indexOf(t)}};gc.register(Ec);const yc={en:Ec},vc=new Ut.Logger("hdnode/5.5.0"),bc=wa.O$.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wc=(0,za.Y0)("Bitcoin seed"),Ac=2147483648;function Nc(t){return(1<<t)-1<<8-t}function Rc(t){return(0,ya.$m)((0,ya.Dv)(t),32)}function Ic(t){return uc.eU.encode((0,ya.zo)([t,(0,ya.p3)((0,lc.JQ)((0,lc.JQ)(t)),0,4)]))}function Sc(t){if(null==t)return yc.en;if("string"==typeof t){const e=yc[t];return null==e&&vc.throwArgumentError("unknown locale","wordlist",t),e}return t}const _c={},Mc="m/44'/60'/0'/0/0";class Tc{constructor(t,e,r,n,i,o,s,a){if(vc.checkNew(new.target,Tc),t!==_c)throw new Error("HDNode constructor cannot be called directly");if(e){const t=new hc.Et(e);(0,va.zG)(this,"privateKey",t.privateKey),(0,va.zG)(this,"publicKey",t.compressedPublicKey)}else(0,va.zG)(this,"privateKey",null),(0,va.zG)(this,"publicKey",(0,ya.Dv)(r));(0,va.zG)(this,"parentFingerprint",n),(0,va.zG)(this,"fingerprint",(0,ya.p3)((0,lc.bP)((0,lc.JQ)(this.publicKey)),0,4)),(0,va.zG)(this,"address",(0,cc.db)(this.publicKey)),(0,va.zG)(this,"chainCode",i),(0,va.zG)(this,"index",o),(0,va.zG)(this,"depth",s),null==a?((0,va.zG)(this,"mnemonic",null),(0,va.zG)(this,"path",null)):"string"==typeof a?((0,va.zG)(this,"mnemonic",null),(0,va.zG)(this,"path",a)):((0,va.zG)(this,"mnemonic",a),(0,va.zG)(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Ic((0,ya.zo)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,ya.Dv)(this.depth),this.parentFingerprint,(0,ya.$m)((0,ya.Dv)(this.index),4),this.chainCode,null!=this.privateKey?(0,ya.zo)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Tc(_c,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(t){if(t>4294967295)throw new Error("invalid index - "+String(t));let e=this.path;e&&(e+="/"+(t&~Ac));const r=new Uint8Array(37);if(t&Ac){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set((0,ya.lE)(this.privateKey),1),e&&(e+="'")}else r.set((0,ya.lE)(this.publicKey));for(let e=24;e>=0;e-=8)r[33+(e>>3)]=t>>24-e&255;const n=(0,ya.lE)((0,lc.Gy)(fc.p.sha512,this.chainCode,r)),i=n.slice(0,32),o=n.slice(32);let s=null,a=null;this.privateKey?s=Rc(wa.O$.from(i).add(this.privateKey).mod(bc)):a=new hc.Et((0,ya.Dv)(i))._addPoint(this.publicKey);let u=e;const l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:e,locale:l.locale||"en"})),new Tc(_c,s,a,this.fingerprint,Rc(o),t,this.depth+1,u)}derivePath(t){const e=t.split("/");if(0===e.length||"m"===e[0]&&0!==this.depth)throw new Error("invalid path - "+t);"m"===e[0]&&e.shift();let r=this;for(let t=0;t<e.length;t++){const n=e[t];if(n.match(/^[0-9]+'$/)){const t=parseInt(n.substring(0,n.length-1));if(t>=Ac)throw new Error("invalid path index - "+n);r=r._derive(Ac+t)}else{if(!n.match(/^[0-9]+$/))throw new Error("invalid path component - "+n);{const t=parseInt(n);if(t>=Ac)throw new Error("invalid path index - "+n);r=r._derive(t)}}}return r}static _fromSeed(t,e){const r=(0,ya.lE)(t);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=(0,ya.lE)((0,lc.Gy)(fc.p.sha512,wc,r));return new Tc(_c,Rc(n.slice(0,32)),null,"0x00000000",Rc(n.slice(32)),0,0,e)}static fromMnemonic(t,e,r){return t=Oc(Cc(t,r=Sc(r)),r),Tc._fromSeed(Pc(t,e),{phrase:t,path:"m",locale:r.locale})}static fromSeed(t){return Tc._fromSeed(t,null)}static fromExtendedKey(t){const e=uc.eU.decode(t);82===e.length&&Ic(e.slice(0,78))===t||vc.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=e[4],n=(0,ya.Dv)(e.slice(5,9)),i=parseInt((0,ya.Dv)(e.slice(9,13)).substring(2),16),o=(0,ya.Dv)(e.slice(13,45)),s=e.slice(45,78);switch((0,ya.Dv)(e.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Tc(_c,null,(0,ya.Dv)(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new Tc(_c,(0,ya.Dv)(s.slice(1)),null,n,o,i,r,null)}return vc.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Pc(t,e){e||(e="");const r=(0,za.Y0)("mnemonic"+e,za.Uj.NFKD);return function(t,e,r,n,i){let o;t=(0,ya.lE)(t),e=(0,ya.lE)(e);let s=1;const a=new Uint8Array(64),u=new Uint8Array(e.length+4);let l,h;u.set(e);for(let r=1;r<=s;r++){u[e.length]=r>>24&255,u[e.length+1]=r>>16&255,u[e.length+2]=r>>8&255,u[e.length+3]=255&r;let n=(0,ya.lE)((0,lc.Gy)(i,t,u));o||(o=n.length,h=new Uint8Array(o),s=Math.ceil(64/o),l=64-(s-1)*o),h.set(n);for(let e=1;e<2048;e++){n=(0,ya.lE)((0,lc.Gy)(i,t,n));for(let t=0;t<o;t++)h[t]^=n[t]}const f=(r-1)*o,c=r===s?l:o;a.set((0,ya.lE)(h).slice(0,c),f)}return(0,ya.Dv)(a)}((0,za.Y0)(t,za.Uj.NFKD),r,0,0,"sha512")}function Cc(t,e){e=Sc(e),vc.checkNormalize();const r=e.split(t);if(r.length%3!=0)throw new Error("invalid mnemonic");const n=(0,ya.lE)(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let t=0;t<r.length;t++){let o=e.getWordIndex(r[t].normalize("NFKD"));if(-1===o)throw new Error("invalid mnemonic");for(let t=0;t<11;t++)o&1<<10-t&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=Nc(r.length/3);if(((0,ya.lE)((0,lc.JQ)(n.slice(0,o/8)))[0]&s)!=(n[n.length-1]&s))throw new Error("invalid checksum");return(0,ya.Dv)(n.slice(0,o/8))}function Oc(t,e){if(e=Sc(e),(t=(0,ya.lE)(t)).length%4!=0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let e=0;e<t.length;e++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[e],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[e]>>8-n,r.push(t[e]&(1<<8-n)-1),n+=3);const i=t.length/4,o=(0,ya.lE)((0,lc.JQ)(t))[0]&Nc(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map((t=>e.getWord(t))))}function Uc(t,e){try{return Cc(t,e),!0}catch(t){}return!1}function xc(t){return("number"!=typeof t||t<0||t>=Ac||t%1)&&vc.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}function kc(t){if(function(t){let e=null;try{e=JSON.parse(t)}catch(t){return!1}return e.encseed&&e.ethaddr}(t))try{return(0,_a.Kn)(JSON.parse(t).ethaddr)}catch(t){return null}if(function(t){let e=null;try{e=JSON.parse(t)}catch(t){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}(t))try{return(0,_a.Kn)(JSON.parse(t).address)}catch(t){return null}return null}let Fc=!1,Dc=!1;const Lc={debug:1,default:2,info:2,warning:3,error:4,off:5};let Bc=Lc.default,Gc=null;const zc=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var jc,Wc;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(jc||(jc={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Wc||(Wc={}));const Kc="0123456789abcdef";class qc{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Lc[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Bc>Lc[r]||console.log.apply(console,e)}debug(...t){this._log(qc.levels.DEBUG,t)}info(...t){this._log(qc.levels.INFO,t)}warn(...t){this._log(qc.levels.WARNING,t)}makeError(t,e,r){if(Dc)return this.makeError("censored error",e,{});e||(e=qc.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Kc[e[t]>>4],r+=Kc[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Wc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Wc.CALL_EXCEPTION:case Wc.INSUFFICIENT_FUNDS:case Wc.MISSING_NEW:case Wc.NONCE_EXPIRED:case Wc.REPLACEMENT_UNDERPRICED:case Wc.TRANSACTION_REPLACED:case Wc.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,qc.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),zc&&this.throwError("platform missing String.prototype.normalize",qc.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:zc})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,qc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,qc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,qc.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,qc.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",qc.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",qc.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",qc.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Gc||(Gc=new qc("logger/5.7.0")),Gc}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",qc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Fc){if(!t)return;this.globalLogger().throwError("error censorship permanent",qc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Dc=!!t,Fc=!!e}static setLogLevel(t){const e=Lc[t.toLowerCase()];null!=e?Bc=e:qc.globalLogger().warn("invalid log level - "+t)}static from(t){return new qc(t)}}qc.errors=Wc,qc.levels=jc;const Vc=new qc("bytes/5.7.0");function Hc(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Hc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Jc(t){return"number"==typeof t&&t==t&&t%1==0}function Xc(t,e){if(e||(e={}),"number"==typeof t){Vc.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Hc(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Vc.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Hc(new Uint8Array(n))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Jc(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Jc(r)||r<0||r>=256)return!1}return!0}(t)?Hc(new Uint8Array(t)):Vc.throwArgumentError("invalid arrayify value","value",t)}function Qc(t){return"0x"+Dr().keccak_256(Xc(t))}let Yc=!1,Zc=!1;const $c={debug:1,default:2,info:2,warning:3,error:4,off:5};let td=$c.default,ed=null;const rd=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var nd,id;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(nd||(nd={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(id||(id={}));const od="0123456789abcdef";class sd{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==$c[r]&&this.throwArgumentError("invalid log level name","logLevel",t),td>$c[r]||console.log.apply(console,e)}debug(...t){this._log(sd.levels.DEBUG,t)}info(...t){this._log(sd.levels.INFO,t)}warn(...t){this._log(sd.levels.WARNING,t)}makeError(t,e,r){if(Zc)return this.makeError("censored error",e,{});e||(e=sd.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=od[e[t]>>4],r+=od[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,sd.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),rd&&this.throwError("platform missing String.prototype.normalize",sd.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:rd})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,sd.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,sd.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,sd.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,sd.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",sd.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",sd.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",sd.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ed||(ed=new sd("logger/5.5.0")),ed}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",sd.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Yc){if(!t)return;this.globalLogger().throwError("error censorship permanent",sd.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Zc=!!t,Yc=!!e}static setLogLevel(t){const e=$c[t.toLowerCase()];null!=e?td=e:sd.globalLogger().warn("invalid log level - "+t)}static from(t){return new sd(t)}}sd.errors=id,sd.levels=nd;let ad=!1,ud=!1;const ld={debug:1,default:2,info:2,warning:3,error:4,off:5};let hd=ld.default,fd=null;const cd=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var dd,gd;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(dd||(dd={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(gd||(gd={}));const pd="0123456789abcdef";class md{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==ld[r]&&this.throwArgumentError("invalid log level name","logLevel",t),hd>ld[r]||console.log.apply(console,e)}debug(...t){this._log(md.levels.DEBUG,t)}info(...t){this._log(md.levels.INFO,t)}warn(...t){this._log(md.levels.WARNING,t)}makeError(t,e,r){if(ud)return this.makeError("censored error",e,{});e||(e=md.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=pd[e[t]>>4],r+=pd[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case gd.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case gd.CALL_EXCEPTION:case gd.INSUFFICIENT_FUNDS:case gd.MISSING_NEW:case gd.NONCE_EXPIRED:case gd.REPLACEMENT_UNDERPRICED:case gd.TRANSACTION_REPLACED:case gd.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,md.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),cd&&this.throwError("platform missing String.prototype.normalize",md.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:cd})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,md.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,md.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,md.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,md.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",md.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",md.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",md.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return fd||(fd=new md("logger/5.7.0")),fd}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",md.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ad){if(!t)return;this.globalLogger().throwError("error censorship permanent",md.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ud=!!t,ad=!!e}static setLogLevel(t){const e=ld[t.toLowerCase()];null!=e?hd=e:md.globalLogger().warn("invalid log level - "+t)}static from(t){return new md(t)}}md.errors=gd,md.levels=dd;const Ed=new md("bytes/5.7.0");function yd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return yd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function vd(t){return"number"==typeof t&&t==t&&t%1==0}function bd(t,e){if(e||(e={}),"number"==typeof t){Ed.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),yd(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Ed.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return yd(new Uint8Array(n))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!vd(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!vd(r)||r<0||r>=256)return!1}return!0}(t)?yd(new Uint8Array(t)):Ed.throwArgumentError("invalid arrayify value","value",t)}var wd,Ad;(Ad=wd||(wd={})).sha256="sha256",Ad.sha512="sha512";const Nd=new md("sha2/5.5.0");function Rd(t){return"0x"+gn().ripemd160().update(bd(t)).digest("hex")}function Id(t){return"0x"+gn().sha256().update(bd(t)).digest("hex")}function Sd(t){return"0x"+gn().sha512().update(bd(t)).digest("hex")}function _d(t,e,r){return wd[t]||Nd.throwError("unsupported algorithm "+t,md.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+gn().hmac(gn()[t],bd(e)).update(bd(r)).digest("hex")}var Md=r(10528),Td=r(84772),Pd=r(2222);const Cd=new RegExp("^bytes([0-9]+)$"),Od=new RegExp("^(u?int)([0-9]*)$"),Ud=new RegExp("^(.*)\\[([0-9]*)\\]$"),xd="0000000000000000000000000000000000000000000000000000000000000000",kd=new Ut.Logger("solidity/5.5.0");function Fd(t,e,r){switch(t){case"address":return r?(0,At.zeroPad)(e,32):(0,At.arrayify)(e);case"string":return(0,Pd.Y0)(e);case"bytes":return(0,At.arrayify)(e);case"bool":return e=e?"0x01":"0x00",r?(0,At.zeroPad)(e,32):(0,At.arrayify)(e)}let n=t.match(Od);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!=0||0===i||i>256)&&kd.throwArgumentError("invalid number type","type",t),r&&(i=256),e=Md.O$.from(e).toTwos(i),(0,At.zeroPad)(e,i/8)}if(n=t.match(Cd),n){const i=parseInt(n[1]);return(String(i)!==n[1]||0===i||i>32)&&kd.throwArgumentError("invalid bytes type","type",t),(0,At.arrayify)(e).byteLength!==i&&kd.throwArgumentError(`invalid value for ${t}`,"value",e),r?(0,At.arrayify)((e+xd).substring(0,66)):e}if(n=t.match(Ud),n&&Array.isArray(e)){const r=n[1];parseInt(n[2]||String(e.length))!=e.length&&kd.throwArgumentError(`invalid array length for ${t}`,"value",e);const i=[];return e.forEach((function(t){i.push(Fd(r,t,!0))})),(0,At.concat)(i)}return kd.throwArgumentError("invalid type","type",t)}function Dd(t,e){t.length!=e.length&&kd.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach((function(t,n){r.push(Fd(t,e[n]))})),(0,At.hexlify)((0,At.concat)(r))}function Ld(t,e){return(0,St.keccak256)(Dd(t,e))}function Bd(t,e){return(0,Td.JQ)(Dd(t,e))}let Gd=!1,zd=!1;const jd={debug:1,default:2,info:2,warning:3,error:4,off:5};let Wd=jd.default,Kd=null;const qd=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Vd,Hd;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Vd||(Vd={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Hd||(Hd={}));const Jd="0123456789abcdef";class Xd{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==jd[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Wd>jd[r]||console.log.apply(console,e)}debug(...t){this._log(Xd.levels.DEBUG,t)}info(...t){this._log(Xd.levels.INFO,t)}warn(...t){this._log(Xd.levels.WARNING,t)}makeError(t,e,r){if(zd)return this.makeError("censored error",e,{});e||(e=Xd.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Jd[e[t]>>4],r+=Jd[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Hd.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Hd.CALL_EXCEPTION:case Hd.INSUFFICIENT_FUNDS:case Hd.MISSING_NEW:case Hd.NONCE_EXPIRED:case Hd.REPLACEMENT_UNDERPRICED:case Hd.TRANSACTION_REPLACED:case Hd.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Xd.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),qd&&this.throwError("platform missing String.prototype.normalize",Xd.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:qd})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Xd.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Xd.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Xd.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Xd.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Xd.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Xd.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Xd.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Kd||(Kd=new Xd("logger/5.7.0")),Kd}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Xd.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Gd){if(!t)return;this.globalLogger().throwError("error censorship permanent",Xd.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}zd=!!t,Gd=!!e}static setLogLevel(t){const e=jd[t.toLowerCase()];null!=e?Wd=e:Xd.globalLogger().warn("invalid log level - "+t)}static from(t){return new Xd(t)}}Xd.errors=Hd,Xd.levels=Vd;const Qd=new Xd("bytes/5.7.0");function Yd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Yd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Zd(t){return"number"==typeof t&&t==t&&t%1==0}function $d(t,e){if(e||(e={}),"number"==typeof t){Qd.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Yd(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Qd.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Yd(new Uint8Array(n))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Zd(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Zd(r)||r<0||r>=256)return!1}return!0}(t)?Yd(new Uint8Array(t)):Qd.throwArgumentError("invalid arrayify value","value",t)}const tg=new Xd("random/5.5.1"),eg=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();let rg=eg.crypto||eg.msCrypto;function ng(t){(t<=0||t>1024||t%1||t!=t)&&tg.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return rg.getRandomValues(e),$d(e)}function ig(t){for(let e=(t=t.slice()).length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}rg&&rg.getRandomValues||(tg.warn("WARNING: Missing strong random number source"),rg={getRandomValues:function(t){return tg.throwError("no secure random source avaialble",Xd.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});let og=!1,sg=!1;const ag={debug:1,default:2,info:2,warning:3,error:4,off:5};let ug=ag.default,lg=null;const hg=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var fg,cg;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(fg||(fg={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(cg||(cg={}));const dg="0123456789abcdef";class gg{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==ag[r]&&this.throwArgumentError("invalid log level name","logLevel",t),ug>ag[r]||console.log.apply(console,e)}debug(...t){this._log(gg.levels.DEBUG,t)}info(...t){this._log(gg.levels.INFO,t)}warn(...t){this._log(gg.levels.WARNING,t)}makeError(t,e,r){if(sg)return this.makeError("censored error",e,{});e||(e=gg.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=dg[e[t]>>4],r+=dg[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case cg.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case cg.CALL_EXCEPTION:case cg.INSUFFICIENT_FUNDS:case cg.MISSING_NEW:case cg.NONCE_EXPIRED:case cg.REPLACEMENT_UNDERPRICED:case cg.TRANSACTION_REPLACED:case cg.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,gg.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),hg&&this.throwError("platform missing String.prototype.normalize",gg.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:hg})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,gg.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,gg.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,gg.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,gg.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",gg.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",gg.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",gg.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return lg||(lg=new gg("logger/5.7.0")),lg}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",gg.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),og){if(!t)return;this.globalLogger().throwError("error censorship permanent",gg.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}sg=!!t,og=!!e}static setLogLevel(t){const e=ag[t.toLowerCase()];null!=e?ug=e:gg.globalLogger().warn("invalid log level - "+t)}static from(t){return new gg(t)}}gg.errors=cg,gg.levels=fg;var pg=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const mg=new gg("properties/5.5.0");function Eg(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function yg(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function vg(t){return pg(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function bg(t,e){t&&"object"==typeof t||mg.throwArgumentError("invalid object","object",t),Object.keys(t).forEach((r=>{e[r]||mg.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)}))}function wg(t){const e={};for(const r in t)e[r]=t[r];return e}const Ag={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Ng(t){if(null==t||Ag[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!Ng(n))return!1}return!0}return mg.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Rg(t){if(Ng(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Ig(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&Eg(e,r,Ig(n))}return e}return mg.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Ig(t){return Rg(t)}let Sg=!1,_g=!1;const Mg={debug:1,default:2,info:2,warning:3,error:4,off:5};let Tg=Mg.default,Pg=null;const Cg=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Og,Ug;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Og||(Og={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Ug||(Ug={}));const xg="0123456789abcdef";class kg{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Mg[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Tg>Mg[r]||console.log.apply(console,e)}debug(...t){this._log(kg.levels.DEBUG,t)}info(...t){this._log(kg.levels.INFO,t)}warn(...t){this._log(kg.levels.WARNING,t)}makeError(t,e,r){if(_g)return this.makeError("censored error",e,{});e||(e=kg.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=xg[e[t]>>4],r+=xg[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Ug.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Ug.CALL_EXCEPTION:case Ug.INSUFFICIENT_FUNDS:case Ug.MISSING_NEW:case Ug.NONCE_EXPIRED:case Ug.REPLACEMENT_UNDERPRICED:case Ug.TRANSACTION_REPLACED:case Ug.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,kg.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),Cg&&this.throwError("platform missing String.prototype.normalize",kg.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Cg})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,kg.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,kg.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,kg.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,kg.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",kg.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",kg.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",kg.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Pg||(Pg=new kg("logger/5.7.0")),Pg}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",kg.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Sg){if(!t)return;this.globalLogger().throwError("error censorship permanent",kg.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_g=!!t,Sg=!!e}static setLogLevel(t){const e=Mg[t.toLowerCase()];null!=e?Tg=e:kg.globalLogger().warn("invalid log level - "+t)}static from(t){return new kg(t)}}kg.errors=Ug,kg.levels=Og;const Fg=new kg("bytes/5.7.0");function Dg(t){return!!t.toHexString}function Lg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Lg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Bg(t){return"number"==typeof t&&t==t&&t%1==0}function Gg(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Bg(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Bg(r)||r<0||r>=256)return!1}return!0}function zg(t,e){if(e||(e={}),"number"==typeof t){Fg.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Lg(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Dg(t)&&(t=t.toHexString()),jg(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Fg.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Lg(new Uint8Array(n))}return Gg(t)?Lg(new Uint8Array(t)):Fg.throwArgumentError("invalid arrayify value","value",t)}function jg(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Wg="0123456789abcdef";function Kg(t,e){if(e||(e={}),"number"==typeof t){Fg.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Wg[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Dg(t))return t.toHexString();if(jg(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Fg.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Gg(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Wg[(240&n)>>4]+Wg[15&n]}return e}return Fg.throwArgumentError("invalid hexlify value","value",t)}const qg=new kg("rlp/5.5.0");function Vg(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Hg(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function Jg(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Jg(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Vg(e.length);return r.unshift(247+r.length),r.concat(e)}var e;jg(e=t)&&!(e.length%2)||Gg(e)||qg.throwArgumentError("RLP object must be BytesLike","object",t);const r=Array.prototype.slice.call(zg(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;const n=Vg(r.length);return n.unshift(183+n.length),n.concat(r)}function Xg(t){return Kg(Jg(t))}function Qg(t,e,r,n){const i=[];for(;r<e+1+n;){const o=Yg(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&qg.throwError("child data too short",kg.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Yg(t,e){if(0===t.length&&qg.throwError("data too short",kg.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&qg.throwError("data short segment too short",kg.errors.BUFFER_OVERRUN,{});const n=Hg(t,e+1,r);return e+1+r+n>t.length&&qg.throwError("data long segment too short",kg.errors.BUFFER_OVERRUN,{}),Qg(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&qg.throwError("data array too short",kg.errors.BUFFER_OVERRUN,{}),Qg(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&qg.throwError("data array too short",kg.errors.BUFFER_OVERRUN,{});const n=Hg(t,e+1,r);return e+1+r+n>t.length&&qg.throwError("data array too short",kg.errors.BUFFER_OVERRUN,{}),{consumed:1+r+n,result:Kg(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;return e+1+r>t.length&&qg.throwError("data too short",kg.errors.BUFFER_OVERRUN,{}),{consumed:1+r,result:Kg(t.slice(e+1,e+1+r))}}return{consumed:1,result:Kg(t[e])}}function Zg(t){const e=zg(t),r=Yg(e,0);return r.consumed!==e.length&&qg.throwArgumentError("invalid rlp data","data",t),r.result}var $g=r(7790),tp=r.n($g);function ep(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var rp=np;function np(t,e){if(!t)throw new Error(e||"Assertion failed")}np.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ip=ep((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),op=ep((function(t,e){var r=e;r.assert=rp,r.toArray=ip.toArray,r.zero2=ip.zero2,r.toHex=ip.toHex,r.encode=ip.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!=(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(tp())(t,"hex","le")}})),sp=op.getNAF,ap=op.getJSF,up=op.assert;function lp(t,e){this.type=t,this.p=new(tp())(e.p,16),this.red=e.prime?tp().red(e.prime):tp().mont(this.p),this.zero=new(tp())(0).toRed(this.red),this.one=new(tp())(1).toRed(this.red),this.two=new(tp())(2).toRed(this.red),this.n=e.n&&new(tp())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var hp=lp;function fp(t,e){this.curve=t,this.type=e,this.precomputed=null}lp.prototype.point=function(){throw new Error("Not implemented")},lp.prototype.validate=function(){throw new Error("Not implemented")},lp.prototype._fixedNafMul=function(t,e){up(t.precomputed);var r=t._getDoubles(),n=sp(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?h=h.mixedAdd(r.points[o]):s===-f&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},lp.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=sp(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];up(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},lp.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,f=0;for(o=0;o<n;o++){var c=(a=e[o])._getNAFPoints(t);u[o]=c.wnd,l[o]=c.points}for(o=n-1;o>=1;o-=2){var d=o-1,g=o;if(1===u[d]&&1===u[g]){var p=[e[d],null,null,e[g]];0===e[d].y.cmp(e[g].y)?(p[1]=e[d].add(e[g]),p[2]=e[d].toJ().mixedAdd(e[g].neg())):0===e[d].y.cmp(e[g].y.redNeg())?(p[1]=e[d].toJ().mixedAdd(e[g]),p[2]=e[d].add(e[g].neg())):(p[1]=e[d].toJ().mixedAdd(e[g]),p[2]=e[d].toJ().mixedAdd(e[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],E=ap(r[d],r[g]);for(f=Math.max(E[0].length,f),h[d]=new Array(f),h[g]=new Array(f),s=0;s<f;s++){var y=0|E[0][s],v=0|E[1][s];h[d][s]=m[3*(y+1)+(v+1)],h[g][s]=0,l[d]=p}}else h[d]=sp(r[d],u[d],this._bitLength),h[g]=sp(r[g],u[g],this._bitLength),f=Math.max(h[d].length,f),f=Math.max(h[g].length,f)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(o=f;o>=0;o--){for(var A=0;o>=0;){var N=!0;for(s=0;s<n;s++)w[s]=0|h[s][o],0!==w[s]&&(N=!1);if(!N)break;A++,o--}if(o>=0&&A++,b=b.dblp(A),o<0)break;for(s=0;s<n;s++){var R=w[s];0!==R&&(R>0?a=l[s][R-1>>1]:R<0&&(a=l[s][-R-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},lp.BasePoint=fp,fp.prototype.eq=function(){throw new Error("Not implemented")},fp.prototype.validate=function(){return this.curve.validate(this)},lp.prototype.decodePoint=function(t,e){t=op.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?up(t[t.length-1]%2==0):7===t[0]&&up(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},fp.prototype.encodeCompressed=function(t){return this.encode(t,!0)},fp.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},fp.prototype.encode=function(t,e){return op.encode(this._encode(e),t)},fp.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},fp.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},fp.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},fp.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},fp.prototype._getBeta=function(){return null},fp.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var cp=ep((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),dp=op.assert;function gp(t){hp.call(this,"short",t),this.a=new(tp())(t.a,16).toRed(this.red),this.b=new(tp())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}cp(gp,hp);var pp=gp;function mp(t,e,r,n){hp.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(tp())(e,16),this.y=new(tp())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Ep(t,e,r,n){hp.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(tp())(0)):(this.x=new(tp())(e,16),this.y=new(tp())(r,16),this.z=new(tp())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}gp.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(tp())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(tp())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],dp(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(tp())(t.a,16),b:new(tp())(t.b,16)}})):this._getEndoBasis(r)}}},gp.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:tp().mont(t),r=new(tp())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(tp())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},gp.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,c=this.n.clone(),d=new(tp())(1),g=new(tp())(0),p=new(tp())(0),m=new(tp())(1),E=0;0!==f.cmpn(0);){var y=c.div(f);u=c.sub(y.mul(f)),l=p.sub(y.mul(d));var v=m.sub(y.mul(g));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++E)break;a=u,c=f,f=u,p=d,d=l,m=g,g=v}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},gp.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},gp.prototype.pointFromX=function(t,e){(t=new(tp())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},gp.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},gp.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},cp(mp,hp.BasePoint),gp.prototype.point=function(t,e,r){return new mp(this,t,e,r)},gp.prototype.pointFromJSON=function(t,e){return mp.fromJSON(this,t,e)},mp.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},mp.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},mp.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},mp.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},mp.prototype.isInfinity=function(){return this.inf},mp.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},mp.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},mp.prototype.getX=function(){return this.x.fromRed()},mp.prototype.getY=function(){return this.y.fromRed()},mp.prototype.mul=function(t){return t=new(tp())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},mp.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},mp.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},mp.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},mp.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},mp.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},cp(Ep,hp.BasePoint),gp.prototype.jpoint=function(t,e,r){return new Ep(this,t,e,r)},Ep.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Ep.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ep.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),f=n.redMul(l),c=u.redSqr().redIAdd(h).redISub(f).redISub(f),d=u.redMul(f.redISub(c)).redISub(o.redMul(h)),g=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(c,d,g)},Ep.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),f=a.redSqr().redIAdd(l).redISub(h).redISub(h),c=a.redMul(h.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(f,c,d)},Ep.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),f=l.redSqr(),c=f.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),g=o.redMul(f),p=d.redSqr().redISub(g.redAdd(g)),m=g.redISub(p),E=d.redMul(m);E=E.redIAdd(E).redISub(c);var y=l.redMul(a);e+1<t&&(u=u.redMul(c)),o=p,a=y,l=E}return this.curve.jpoint(o,l.redMul(i),a)},Ep.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ep.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),c=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(h).redISub(c);d=d.redIAdd(d);var g=h.redAdd(h).redIAdd(h),p=g.redSqr(),m=c.redIAdd(c);m=(m=m.redIAdd(m)).redIAdd(m),t=p.redISub(d).redISub(d),e=g.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Ep.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),c=this.x.redMul(f),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var g=c.redIAdd(c),p=(g=g.redIAdd(g)).redAdd(g);t=d.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(g.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},Ep.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(h),c=s.redSqr();c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redMul(f).redISub(c),g=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,g)},Ep.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.x.redMul(a).redISub(h);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,c,d)},Ep.prototype.mul=function(t,e){return t=new(tp())(t,e),this.curve._wnafMul(this,t)},Ep.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Ep.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Ep.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ep.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var yp=ep((function(t,e){var r=e;r.base=hp,r.short=pp,r.mont=null,r.edwards=null})),vp=ep((function(t,e){var r,n=e,i=op.assert;function o(t){"short"===t.type?this.curve=new yp.short(t):"edwards"===t.type?this.curve=new yp.edwards(t):this.curve=new yp.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function bp(t){if(!(this instanceof bp))return new bp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ip.toArray(t.entropy,t.entropyEnc||"hex"),r=ip.toArray(t.nonce,t.nonceEnc||"hex"),n=ip.toArray(t.pers,t.persEnc||"hex");rp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var wp=bp;bp.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},bp.prototype._hmac=function(){return new(gn().hmac)(this.hash,this.K)},bp.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},bp.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=ip.toArray(t,e),r=ip.toArray(r,n),rp(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},bp.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=ip.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,ip.encode(o,e)};var Ap=op.assert;function Np(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Rp=Np;Np.fromPublic=function(t,e,r){return e instanceof Np?e:new Np(t,{pub:e,pubEnc:r})},Np.fromPrivate=function(t,e,r){return e instanceof Np?e:new Np(t,{priv:e,privEnc:r})},Np.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Np.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Np.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Np.prototype._importPrivate=function(t,e){this.priv=new(tp())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Np.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Ap(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Ap(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Np.prototype.derive=function(t){return t.validate()||Ap(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Np.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Np.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Np.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ip=op.assert;function Sp(t,e){if(t instanceof Sp)return t;this._importDER(t,e)||(Ip(t.r&&t.s,"Signature without r or s"),this.r=new(tp())(t.r,16),this.s=new(tp())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var _p=Sp;function Mp(){this.place=0}function Tp(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function Pp(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Cp(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Sp.prototype._importDER=function(t,e){t=op.toArray(t,e);var r=new Mp;if(48!==t[r.place++])return!1;var n=Tp(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Tp(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=Tp(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(tp())(o),this.s=new(tp())(a),this.recoveryParam=null,!0},Sp.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Pp(e),r=Pp(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Cp(n,e.length),(n=n.concat(e)).push(2),Cp(n,r.length);var i=n.concat(r),o=[48];return Cp(o,i.length),o=o.concat(i),op.encode(o,t)};var Op=function(){throw new Error("unsupported")},Up=op.assert;function xp(t){if(!(this instanceof xp))return new xp(t);"string"==typeof t&&(Up(Object.prototype.hasOwnProperty.call(vp,t),"Unknown curve "+t),t=vp[t]),t instanceof vp.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var kp=xp;xp.prototype.keyPair=function(t){return new Rp(this,t)},xp.prototype.keyFromPrivate=function(t,e){return Rp.fromPrivate(this,t,e)},xp.prototype.keyFromPublic=function(t,e){return Rp.fromPublic(this,t,e)},xp.prototype.genKeyPair=function(t){t||(t={});for(var e=new wp({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Op(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(tp())(2));;){var i=new(tp())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},xp.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},xp.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(tp())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new wp({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(tp())(1)),l=0;;l++){var h=n.k?n.k(l):new(tp())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var c=f.getX(),d=c.umod(this.n);if(0!==d.cmpn(0)){var g=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var p=(f.getY().isOdd()?1:0)|(0!==c.cmp(d)?2:0);return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),p^=1),new _p({r:d,s:g,recoveryParam:p})}}}}}},xp.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(tp())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new _p(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},xp.prototype.recoverPubKey=function(t,e,r,n){Up((3&r)===r,"The recovery param is more than two bits"),e=new _p(e,n);var i=this.n,o=new(tp())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),f=i.sub(o).mul(h).umod(i),c=a.mul(h).umod(i);return this.g.mulAdd(f,s,c)},xp.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new _p(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Fp=ep((function(t,e){var r=e;r.version="6.5.4",r.utils=op,r.rand=function(){throw new Error("unsupported")},r.curve=yp,r.curves=vp,r.ec=kp,r.eddsa=null})).ec;let Dp=!1,Lp=!1;const Bp={debug:1,default:2,info:2,warning:3,error:4,off:5};let Gp=Bp.default,zp=null;const jp=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Wp,Kp;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Wp||(Wp={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Kp||(Kp={}));const qp="0123456789abcdef";class Vp{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Bp[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Gp>Bp[r]||console.log.apply(console,e)}debug(...t){this._log(Vp.levels.DEBUG,t)}info(...t){this._log(Vp.levels.INFO,t)}warn(...t){this._log(Vp.levels.WARNING,t)}makeError(t,e,r){if(Lp)return this.makeError("censored error",e,{});e||(e=Vp.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=qp[e[t]>>4],r+=qp[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Kp.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Kp.CALL_EXCEPTION:case Kp.INSUFFICIENT_FUNDS:case Kp.MISSING_NEW:case Kp.NONCE_EXPIRED:case Kp.REPLACEMENT_UNDERPRICED:case Kp.TRANSACTION_REPLACED:case Kp.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Vp.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),jp&&this.throwError("platform missing String.prototype.normalize",Vp.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:jp})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Vp.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Vp.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Vp.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Vp.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Vp.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Vp.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Vp.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return zp||(zp=new Vp("logger/5.7.0")),zp}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Vp.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Dp){if(!t)return;this.globalLogger().throwError("error censorship permanent",Vp.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Lp=!!t,Dp=!!e}static setLogLevel(t){const e=Bp[t.toLowerCase()];null!=e?Gp=e:Vp.globalLogger().warn("invalid log level - "+t)}static from(t){return new Vp(t)}}Vp.errors=Kp,Vp.levels=Wp;const Hp=new Vp("bytes/5.7.0");function Jp(t){return!!t.toHexString}function Xp(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Xp(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Qp(t){return"number"==typeof t&&t==t&&t%1==0}function Yp(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Qp(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Qp(r)||r<0||r>=256)return!1}return!0}function Zp(t,e){if(e||(e={}),"number"==typeof t){Hp.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Xp(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Jp(t)&&(t=t.toHexString()),$p(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Hp.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Xp(new Uint8Array(n))}return Yp(t)?Xp(new Uint8Array(t)):Hp.throwArgumentError("invalid arrayify value","value",t)}function $p(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const tm="0123456789abcdef";function em(t,e){if(e||(e={}),"number"==typeof t){Hp.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=tm[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Jp(t))return t.toHexString();if($p(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Hp.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Yp(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=tm[(240&n)>>4]+tm[15&n]}return e}return Hp.throwArgumentError("invalid hexlify value","value",t)}function rm(t,e){for("string"!=typeof t?t=em(t):$p(t)||Hp.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Hp.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function nm(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if($p(r=t)&&!(r.length%2)||Yp(r)){let r=Zp(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=em(r.slice(0,32)),e.s=em(r.slice(32,64))):65===r.length?(e.r=em(r.slice(0,32)),e.s=em(r.slice(32,64)),e.v=r[64]):Hp.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Hp.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=em(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Zp(t)).length>e&&Hp.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Xp(r)}(Zp(e._vs),32);e._vs=em(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Hp.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=em(r);null==e.s?e.s=i:e.s!==i&&Hp.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Hp.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Hp.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&$p(e.r)?e.r=rm(e.r,32):Hp.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&$p(e.s)?e.s=rm(e.s,32):Hp.throwArgumentError("signature missing or invalid s","signature",t);const r=Zp(e.s);r[0]>=128&&Hp.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=em(r);e._vs&&($p(e._vs)||Hp.throwArgumentError("signature invalid _vs","signature",t),e._vs=rm(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Hp.throwArgumentError("signature _vs mismatch v and s","signature",t)}var r;return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function im(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}new Vp("properties/5.7.0");const om=new Vp("signing-key/5.5.0");let sm=null;function am(){return sm||(sm=new Fp("secp256k1")),sm}class um{constructor(t){im(this,"curve","secp256k1"),im(this,"privateKey",em(t));const e=am().keyFromPrivate(Zp(this.privateKey));im(this,"publicKey","0x"+e.getPublic(!1,"hex")),im(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),im(this,"_isSigningKey",!0)}_addPoint(t){const e=am().keyFromPublic(Zp(this.publicKey)),r=am().keyFromPublic(Zp(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=am().keyFromPrivate(Zp(this.privateKey)),r=Zp(t);32!==r.length&&om.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return nm({recoveryParam:n.recoveryParam,r:rm("0x"+n.r.toString(16),32),s:rm("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=am().keyFromPrivate(Zp(this.privateKey)),r=am().keyFromPublic(Zp(hm(t)));return rm("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function lm(t,e){const r=nm(e),n={r:Zp(r.r),s:Zp(r.s)};return"0x"+am().recoverPubKey(Zp(t),n,r.recoveryParam).encode("hex",!1)}function hm(t,e){const r=Zp(t);if(32===r.length){const t=new um(r);return e?"0x"+am().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?em(r):"0x"+am().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+am().keyFromPublic(r).getPublic(!0,"hex"):em(r):om.throwArgumentError("invalid public or private key","key","[REDACTED]")}let fm=!1,cm=!1;const dm={debug:1,default:2,info:2,warning:3,error:4,off:5};let gm=dm.default,pm=null;const mm=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Em,ym;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Em||(Em={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(ym||(ym={}));const vm="0123456789abcdef";class bm{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==dm[r]&&this.throwArgumentError("invalid log level name","logLevel",t),gm>dm[r]||console.log.apply(console,e)}debug(...t){this._log(bm.levels.DEBUG,t)}info(...t){this._log(bm.levels.INFO,t)}warn(...t){this._log(bm.levels.WARNING,t)}makeError(t,e,r){if(cm)return this.makeError("censored error",e,{});e||(e=bm.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=vm[e[t]>>4],r+=vm[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case ym.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ym.CALL_EXCEPTION:case ym.INSUFFICIENT_FUNDS:case ym.MISSING_NEW:case ym.NONCE_EXPIRED:case ym.REPLACEMENT_UNDERPRICED:case ym.TRANSACTION_REPLACED:case ym.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,bm.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),mm&&this.throwError("platform missing String.prototype.normalize",bm.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mm})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,bm.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,bm.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,bm.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,bm.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",bm.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",bm.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",bm.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return pm||(pm=new bm("logger/5.7.0")),pm}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",bm.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),fm){if(!t)return;this.globalLogger().throwError("error censorship permanent",bm.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cm=!!t,fm=!!e}static setLogLevel(t){const e=dm[t.toLowerCase()];null!=e?gm=e:bm.globalLogger().warn("invalid log level - "+t)}static from(t){return new bm(t)}}bm.errors=ym,bm.levels=Em;const wm=new bm("bytes/5.7.0");function Am(t){return!!t.toHexString}function Nm(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Nm(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Rm(t){return"number"==typeof t&&t==t&&t%1==0}function Im(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Rm(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Rm(r)||r<0||r>=256)return!1}return!0}function Sm(t,e){if(e||(e={}),"number"==typeof t){wm.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Nm(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Am(t)&&(t=t.toHexString()),_m(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":wm.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Nm(new Uint8Array(n))}return Im(t)?Nm(new Uint8Array(t)):wm.throwArgumentError("invalid arrayify value","value",t)}function _m(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Mm="0123456789abcdef";const Tm=new bm("strings/5.5.0");var Pm,Cm;function Om(t,e,r,n,i){if(t===Cm.BAD_PREFIX||t===Cm.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Cm.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Pm||(Pm={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Cm||(Cm={}));const Um=Object.freeze({error:function(t,e,r,n,i){return Tm.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Om,replace:function(t,e,r,n,i){return t===Cm.OVERLONG?(n.push(i),0):(n.push(65533),Om(t,e,r))}});function xm(t,e){null==e&&(e=Um.error),t=Sm(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?Cm.UNEXPECTED_CONTINUE:Cm.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(Cm.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e(Cm.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(Cm.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(Cm.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(Cm.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function km(t,e=Pm.current){e!=Pm.current&&(Tm.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Sm(r)}function Fm(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function Dm(t,e){return'"'+xm(t,e).map((t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?Fm(t):Fm(55296+((t-=65536)>>10&1023))+Fm(56320+(1023&t))})).join("")+'"'}function Lm(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function Bm(t,e){return Lm(xm(t,e))}function Gm(t,e=Pm.current){return xm(km(t,e))}function zm(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function jm(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function Wm(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const Km=jm("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),qm="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Vm=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Hm=zm("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Jm=zm("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Xm=zm("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Qm=jm("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Ym(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Gm(t);var r;r=e.map((t=>{if(qm.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=Wm(t,Vm);if(e)return[t+e.s];let r=Hm[t];if(r)return r;let n=Jm[t];return n?[t+n[0]]:Xm[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=Gm(Lm(e),Pm.NFKC),e.forEach((t=>{if(Wm(t,Qm))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(Wm(t,Km))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=Lm(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}const Zm="0x0000000000000000000000000000000000000000000000000000000000000000";function $m(t){const e=km(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return function(t,e){if(e||(e={}),"number"==typeof t){wm.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Mm[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Am(t))return t.toHexString();if(_m(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":wm.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Im(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Mm[(240&n)>>4]+Mm[15&n]}return e}return wm.throwArgumentError("invalid hexlify value","value",t)}(function(t){const e=t.map((t=>Sm(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Nm(n)}([e,Zm]).slice(0,32))}function tE(t){const e=Sm(t);if(32!==e.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==e[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===e[r-1];)r--;return Bm(e.slice(0,r))}let eE=!1,rE=!1;const nE={debug:1,default:2,info:2,warning:3,error:4,off:5};let iE=nE.default,oE=null;const sE=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var aE,uE;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(aE||(aE={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(uE||(uE={}));const lE="0123456789abcdef";class hE{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==nE[r]&&this.throwArgumentError("invalid log level name","logLevel",t),iE>nE[r]||console.log.apply(console,e)}debug(...t){this._log(hE.levels.DEBUG,t)}info(...t){this._log(hE.levels.INFO,t)}warn(...t){this._log(hE.levels.WARNING,t)}makeError(t,e,r){if(rE)return this.makeError("censored error",e,{});e||(e=hE.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=lE[e[t]>>4],r+=lE[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case uE.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case uE.CALL_EXCEPTION:case uE.INSUFFICIENT_FUNDS:case uE.MISSING_NEW:case uE.NONCE_EXPIRED:case uE.REPLACEMENT_UNDERPRICED:case uE.TRANSACTION_REPLACED:case uE.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,hE.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),sE&&this.throwError("platform missing String.prototype.normalize",hE.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:sE})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,hE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,hE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,hE.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,hE.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",hE.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",hE.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",hE.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return oE||(oE=new hE("logger/5.7.0")),oE}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",hE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),eE){if(!t)return;this.globalLogger().throwError("error censorship permanent",hE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rE=!!t,eE=!!e}static setLogLevel(t){const e=nE[t.toLowerCase()];null!=e?iE=e:hE.globalLogger().warn("invalid log level - "+t)}static from(t){return new hE(t)}}hE.errors=uE,hE.levels=aE;const fE=new hE("bytes/5.7.0");function cE(t){return!!t.toHexString}function dE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return dE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function gE(t){return vE(t)&&!(t.length%2)||mE(t)}function pE(t){return"number"==typeof t&&t==t&&t%1==0}function mE(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!pE(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!pE(r)||r<0||r>=256)return!1}return!0}function EE(t,e){if(e||(e={}),"number"==typeof t){fE.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),dE(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),cE(t)&&(t=t.toHexString()),vE(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":fE.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return dE(new Uint8Array(n))}return mE(t)?dE(new Uint8Array(t)):fE.throwArgumentError("invalid arrayify value","value",t)}function yE(t){let e=EE(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function vE(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const bE="0123456789abcdef";function wE(t,e){if(e||(e={}),"number"==typeof t){fE.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=bE[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),cE(t))return t.toHexString();if(vE(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":fE.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(mE(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=bE[(240&n)>>4]+bE[15&n]}return e}return fE.throwArgumentError("invalid hexlify value","value",t)}function AE(t){if("string"!=typeof t)t=wE(t);else if(!vE(t)||t.length%2)return null;return(t.length-2)/2}function NE(t,e,r){return"string"!=typeof t?t=wE(t):(!vE(t)||t.length%2)&&fE.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function RE(t){let e="0x";return t.forEach((t=>{e+=wE(t).substring(2)})),e}function IE(t,e){for("string"!=typeof t?t=wE(t):vE(t)||fE.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&fE.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function SE(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(gE(t)){let r=EE(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=wE(r.slice(0,32)),e.s=wE(r.slice(32,64))):65===r.length?(e.r=wE(r.slice(0,32)),e.s=wE(r.slice(32,64)),e.v=r[64]):fE.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:fE.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=wE(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=EE(t)).length>e&&fE.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),dE(r)}(EE(e._vs),32);e._vs=wE(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&fE.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=wE(r);null==e.s?e.s=i:e.s!==i&&fE.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?fE.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&fE.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&vE(e.r)?e.r=IE(e.r,32):fE.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&vE(e.s)?e.s=IE(e.s,32):fE.throwArgumentError("signature missing or invalid s","signature",t);const r=EE(e.s);r[0]>=128&&fE.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=wE(r);e._vs&&(vE(e._vs)||fE.throwArgumentError("signature invalid _vs","signature",t),e._vs=IE(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&fE.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var _E=zt().BN;const ME=new hE("bignumber/5.7.0"),TE={};let PE=!1;class CE{constructor(t,e){t!==TE&&ME.throwError("cannot call constructor directly; use BigNumber.from",hE.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return UE(xE(this).fromTwos(t))}toTwos(t){return UE(xE(this).toTwos(t))}abs(){return"-"===this._hex[0]?CE.from(this._hex.substring(1)):this}add(t){return UE(xE(this).add(xE(t)))}sub(t){return UE(xE(this).sub(xE(t)))}div(t){return CE.from(t).isZero()&&kE("division-by-zero","div"),UE(xE(this).div(xE(t)))}mul(t){return UE(xE(this).mul(xE(t)))}mod(t){const e=xE(t);return e.isNeg()&&kE("division-by-zero","mod"),UE(xE(this).umod(e))}pow(t){const e=xE(t);return e.isNeg()&&kE("negative-power","pow"),UE(xE(this).pow(e))}and(t){const e=xE(t);return(this.isNegative()||e.isNeg())&&kE("unbound-bitwise-result","and"),UE(xE(this).and(e))}or(t){const e=xE(t);return(this.isNegative()||e.isNeg())&&kE("unbound-bitwise-result","or"),UE(xE(this).or(e))}xor(t){const e=xE(t);return(this.isNegative()||e.isNeg())&&kE("unbound-bitwise-result","xor"),UE(xE(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&kE("negative-width","mask"),UE(xE(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&kE("negative-width","shl"),UE(xE(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&kE("negative-width","shr"),UE(xE(this).shrn(t))}eq(t){return xE(this).eq(xE(t))}lt(t){return xE(this).lt(xE(t))}lte(t){return xE(this).lte(xE(t))}gt(t){return xE(this).gt(xE(t))}gte(t){return xE(this).gte(xE(t))}isNegative(){return"-"===this._hex[0]}isZero(){return xE(this).isZero()}toNumber(){try{return xE(this).toNumber()}catch(t){kE("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return ME.throwError("this platform does not support BigInt",hE.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?PE||(PE=!0,ME.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ME.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",hE.errors.UNEXPECTED_ARGUMENT,{}):ME.throwError("BigNumber.toString does not accept parameters",hE.errors.UNEXPECTED_ARGUMENT,{})),xE(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof CE)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new CE(TE,OE(t)):t.match(/^-?[0-9]+$/)?new CE(TE,OE(new _E(t))):ME.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&kE("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&kE("overflow","BigNumber.from",t),CE.from(String(t));const e=t;if("bigint"==typeof e)return CE.from(e.toString());if(mE(e))return CE.from(wE(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return CE.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(vE(t)||"-"===t[0]&&vE(t.substring(1))))return CE.from(t)}return ME.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function OE(t){if("string"!=typeof t)return OE(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&ME.throwArgumentError("invalid hex","value",t),"0x00"===(t=OE(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function UE(t){return CE.from(OE(t))}function xE(t){const e=CE.from(t).toHexString();return"-"===e[0]?new _E("-"+e.substring(3),16):new _E(e.substring(2),16)}function kE(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),ME.throwError(t,hE.errors.NUMERIC_FAULT,n)}function FE(t){return"0x"+Dr().keccak_256(EE(t))}const DE=new hE("address/5.7.0");function LE(t){vE(t,20)||DE.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=EE(FE(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const BE={};for(let t=0;t<10;t++)BE[String(t)]=String(t);for(let t=0;t<26;t++)BE[String.fromCharCode(65+t)]=String(10+t);const GE=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function zE(t){let e=null;if("string"!=typeof t&&DE.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=LE(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&DE.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>BE[t])).join("");for(;e.length>=GE;){let t=e.substring(0,GE);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&DE.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new _E(r,36).toString(16);e.length<40;)e="0"+e;e=LE("0x"+e)}else DE.throwArgumentError("invalid address","address",t);var r;return e}const jE=CE.from(0),WE=new hE("properties/5.7.0");function KE(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const qE=new hE("rlp/5.7.0");function VE(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function HE(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function JE(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(JE(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=VE(e.length);return r.unshift(247+r.length),r.concat(e)}gE(t)||qE.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(EE(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=VE(e.length);return r.unshift(183+r.length),r.concat(e)}function XE(t){return wE(JE(t))}function QE(t,e,r,n){const i=[];for(;r<e+1+n;){const o=YE(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&qE.throwError("child data too short",hE.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function YE(t,e){if(0===t.length&&qE.throwError("data too short",hE.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&qE.throwError("data short segment too short",hE.errors.BUFFER_OVERRUN,{});const n=HE(t,e+1,r);return e+1+r+n>t.length&&qE.throwError("data long segment too short",hE.errors.BUFFER_OVERRUN,{}),QE(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&qE.throwError("data array too short",hE.errors.BUFFER_OVERRUN,{}),QE(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&qE.throwError("data array too short",hE.errors.BUFFER_OVERRUN,{});const n=HE(t,e+1,r);return e+1+r+n>t.length&&qE.throwError("data array too short",hE.errors.BUFFER_OVERRUN,{}),{consumed:1+r+n,result:wE(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;return e+1+r>t.length&&qE.throwError("data too short",hE.errors.BUFFER_OVERRUN,{}),{consumed:1+r,result:wE(t.slice(e+1,e+1+r))}}return{consumed:1,result:wE(t[e])}}function ZE(t){const e=EE(t),r=YE(e,0);return r.consumed!==e.length&&qE.throwArgumentError("invalid rlp data","data",t),r.result}function $E(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var ty=ey;function ey(t,e){if(!t)throw new Error(e||"Assertion failed")}ey.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ry=$E((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),ny=$E((function(t,e){var r=e;r.assert=ty,r.toArray=ry.toArray,r.zero2=ry.zero2,r.toHex=ry.toHex,r.encode=ry.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),s=0==(1&u)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(s),a=0==(1&l)?0:3!=(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(zt())(t,"hex","le")}})),iy=ny.getNAF,oy=ny.getJSF,sy=ny.assert;function ay(t,e){this.type=t,this.p=new(zt())(e.p,16),this.red=e.prime?zt().red(e.prime):zt().mont(this.p),this.zero=new(zt())(0).toRed(this.red),this.one=new(zt())(1).toRed(this.red),this.two=new(zt())(2).toRed(this.red),this.n=e.n&&new(zt())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var uy=ay;function ly(t,e){this.curve=t,this.type=e,this.precomputed=null}ay.prototype.point=function(){throw new Error("Not implemented")},ay.prototype.validate=function(){throw new Error("Not implemented")},ay.prototype._fixedNafMul=function(t,e){sy(t.precomputed);var r=t._getDoubles(),n=iy(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?h=h.mixedAdd(r.points[o]):s===-f&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},ay.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=iy(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var l=o[a];sy(0!==l),s="affine"===t.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===t.type?s.toP():s},ay.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,f=0;for(o=0;o<n;o++){var c=(a=e[o])._getNAFPoints(t);u[o]=c.wnd,l[o]=c.points}for(o=n-1;o>=1;o-=2){var d=o-1,g=o;if(1===u[d]&&1===u[g]){var p=[e[d],null,null,e[g]];0===e[d].y.cmp(e[g].y)?(p[1]=e[d].add(e[g]),p[2]=e[d].toJ().mixedAdd(e[g].neg())):0===e[d].y.cmp(e[g].y.redNeg())?(p[1]=e[d].toJ().mixedAdd(e[g]),p[2]=e[d].add(e[g].neg())):(p[1]=e[d].toJ().mixedAdd(e[g]),p[2]=e[d].toJ().mixedAdd(e[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],E=oy(r[d],r[g]);for(f=Math.max(E[0].length,f),h[d]=new Array(f),h[g]=new Array(f),s=0;s<f;s++){var y=0|E[0][s],v=0|E[1][s];h[d][s]=m[3*(y+1)+(v+1)],h[g][s]=0,l[d]=p}}else h[d]=iy(r[d],u[d],this._bitLength),h[g]=iy(r[g],u[g],this._bitLength),f=Math.max(h[d].length,f),f=Math.max(h[g].length,f)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(o=f;o>=0;o--){for(var A=0;o>=0;){var N=!0;for(s=0;s<n;s++)w[s]=0|h[s][o],0!==w[s]&&(N=!1);if(!N)break;A++,o--}if(o>=0&&A++,b=b.dblp(A),o<0)break;for(s=0;s<n;s++){var R=w[s];0!==R&&(R>0?a=l[s][R-1>>1]:R<0&&(a=l[s][-R-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)l[o]=null;return i?b:b.toP()},ay.BasePoint=ly,ly.prototype.eq=function(){throw new Error("Not implemented")},ly.prototype.validate=function(){return this.curve.validate(this)},ay.prototype.decodePoint=function(t,e){t=ny.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?sy(t[t.length-1]%2==0):7===t[0]&&sy(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},ly.prototype.encodeCompressed=function(t){return this.encode(t,!0)},ly.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},ly.prototype.encode=function(t,e){return ny.encode(this._encode(e),t)},ly.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},ly.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},ly.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},ly.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},ly.prototype._getBeta=function(){return null},ly.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var hy=$E((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),fy=ny.assert;function cy(t){uy.call(this,"short",t),this.a=new(zt())(t.a,16).toRed(this.red),this.b=new(zt())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}hy(cy,uy);var dy=cy;function gy(t,e,r,n){uy.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(zt())(e,16),this.y=new(zt())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function py(t,e,r,n){uy.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(zt())(0)):(this.x=new(zt())(e,16),this.y=new(zt())(r,16),this.z=new(zt())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}cy.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(zt())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(zt())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],fy(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(zt())(t.a,16),b:new(zt())(t.b,16)}})):this._getEndoBasis(r)}}},cy.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:zt().mont(t),r=new(zt())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(zt())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},cy.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,c=this.n.clone(),d=new(zt())(1),g=new(zt())(0),p=new(zt())(0),m=new(zt())(1),E=0;0!==f.cmpn(0);){var y=c.div(f);u=c.sub(y.mul(f)),l=p.sub(y.mul(d));var v=m.sub(y.mul(g));if(!n&&u.cmp(h)<0)e=a.neg(),r=d,n=u.neg(),i=l;else if(n&&2==++E)break;a=u,c=f,f=u,p=d,d=l,m=g,g=v}o=u.neg(),s=l;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},cy.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},cy.prototype.pointFromX=function(t,e){(t=new(zt())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},cy.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},cy.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},hy(gy,uy.BasePoint),cy.prototype.point=function(t,e,r){return new gy(this,t,e,r)},cy.prototype.pointFromJSON=function(t,e){return gy.fromJSON(this,t,e)},gy.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},gy.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},gy.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},gy.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},gy.prototype.isInfinity=function(){return this.inf},gy.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},gy.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},gy.prototype.getX=function(){return this.x.fromRed()},gy.prototype.getY=function(){return this.y.fromRed()},gy.prototype.mul=function(t){return t=new(zt())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},gy.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},gy.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},gy.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},gy.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},gy.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},hy(py,uy.BasePoint),cy.prototype.jpoint=function(t,e,r){return new py(this,t,e,r)},py.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},py.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},py.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),f=n.redMul(l),c=u.redSqr().redIAdd(h).redISub(f).redISub(f),d=u.redMul(f.redISub(c)).redISub(o.redMul(h)),g=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(c,d,g)},py.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=r.redMul(u),f=a.redSqr().redIAdd(l).redISub(h).redISub(h),c=a.redMul(h.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(s);return this.curve.jpoint(f,c,d)},py.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(e=0;e<t;e++){var h=o.redSqr(),f=l.redSqr(),c=f.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),g=o.redMul(f),p=d.redSqr().redISub(g.redAdd(g)),m=g.redISub(p),E=d.redMul(m);E=E.redIAdd(E).redISub(c);var y=l.redMul(a);e+1<t&&(u=u.redMul(c)),o=p,a=y,l=E}return this.curve.jpoint(o,l.redMul(i),a)},py.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},py.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),c=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(h).redISub(c);d=d.redIAdd(d);var g=h.redAdd(h).redIAdd(h),p=g.redSqr(),m=c.redIAdd(c);m=(m=m.redIAdd(m)).redIAdd(m),t=p.redISub(d).redISub(d),e=g.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},py.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),c=this.x.redMul(f),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var g=c.redIAdd(c),p=(g=g.redIAdd(g)).redAdd(g);t=d.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(g.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},py.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),f=l.redISub(h),c=s.redSqr();c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redMul(f).redISub(c),g=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,g)},py.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.x.redMul(a).redISub(h);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,c,d)},py.prototype.mul=function(t,e){return t=new(zt())(t,e),this.curve._wnafMul(this,t)},py.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},py.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},py.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},py.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var my=$E((function(t,e){var r=e;r.base=uy,r.short=dy,r.mont=null,r.edwards=null})),Ey=$E((function(t,e){var r,n=e,i=ny.assert;function o(t){"short"===t.type?this.curve=new my.short(t):"edwards"===t.type?this.curve=new my.edwards(t):this.curve=new my.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function yy(t){if(!(this instanceof yy))return new yy(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ry.toArray(t.entropy,t.entropyEnc||"hex"),r=ry.toArray(t.nonce,t.nonceEnc||"hex"),n=ry.toArray(t.pers,t.persEnc||"hex");ty(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var vy=yy;yy.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},yy.prototype._hmac=function(){return new(gn().hmac)(this.hash,this.K)},yy.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},yy.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=ry.toArray(t,e),r=ry.toArray(r,n),ty(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},yy.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=ry.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,ry.encode(o,e)};var by=ny.assert;function wy(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ay=wy;wy.fromPublic=function(t,e,r){return e instanceof wy?e:new wy(t,{pub:e,pubEnc:r})},wy.fromPrivate=function(t,e,r){return e instanceof wy?e:new wy(t,{priv:e,privEnc:r})},wy.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},wy.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},wy.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},wy.prototype._importPrivate=function(t,e){this.priv=new(zt())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},wy.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?by(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||by(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},wy.prototype.derive=function(t){return t.validate()||by(t.validate(),"public point not validated"),t.mul(this.priv).getX()},wy.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},wy.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},wy.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ny=ny.assert;function Ry(t,e){if(t instanceof Ry)return t;this._importDER(t,e)||(Ny(t.r&&t.s,"Signature without r or s"),this.r=new(zt())(t.r,16),this.s=new(zt())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Iy=Ry;function Sy(){this.place=0}function _y(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function My(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Ty(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Ry.prototype._importDER=function(t,e){t=ny.toArray(t,e);var r=new Sy;if(48!==t[r.place++])return!1;var n=_y(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=_y(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=_y(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(zt())(o),this.s=new(zt())(a),this.recoveryParam=null,!0},Ry.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=My(e),r=My(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Ty(n,e.length),(n=n.concat(e)).push(2),Ty(n,r.length);var i=n.concat(r),o=[48];return Ty(o,i.length),o=o.concat(i),ny.encode(o,t)};var Py=function(){throw new Error("unsupported")},Cy=ny.assert;function Oy(t){if(!(this instanceof Oy))return new Oy(t);"string"==typeof t&&(Cy(Object.prototype.hasOwnProperty.call(Ey,t),"Unknown curve "+t),t=Ey[t]),t instanceof Ey.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Uy=Oy;Oy.prototype.keyPair=function(t){return new Ay(this,t)},Oy.prototype.keyFromPrivate=function(t,e){return Ay.fromPrivate(this,t,e)},Oy.prototype.keyFromPublic=function(t,e){return Ay.fromPublic(this,t,e)},Oy.prototype.genKeyPair=function(t){t||(t={});for(var e=new vy({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Py(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(zt())(2));;){var i=new(zt())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Oy.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Oy.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(zt())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new vy({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(zt())(1)),l=0;;l++){var h=n.k?n.k(l):new(zt())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var c=f.getX(),d=c.umod(this.n);if(0!==d.cmpn(0)){var g=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var p=(f.getY().isOdd()?1:0)|(0!==c.cmp(d)?2:0);return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),p^=1),new Iy({r:d,s:g,recoveryParam:p})}}}}}},Oy.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(zt())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Iy(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Oy.prototype.recoverPubKey=function(t,e,r,n){Cy((3&r)===r,"The recovery param is more than two bits"),e=new Iy(e,n);var i=this.n,o=new(zt())(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var h=e.r.invm(i),f=i.sub(o).mul(h).umod(i),c=a.mul(h).umod(i);return this.g.mulAdd(f,s,c)},Oy.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Iy(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var xy=$E((function(t,e){var r=e;r.version="6.5.4",r.utils=ny,r.rand=function(){throw new Error("unsupported")},r.curve=my,r.curves=Ey,r.ec=Uy,r.eddsa=null})).ec;const ky=new hE("signing-key/5.7.0");let Fy=null;function Dy(){return Fy||(Fy=new xy("secp256k1")),Fy}class Ly{constructor(t){KE(this,"curve","secp256k1"),KE(this,"privateKey",wE(t)),32!==AE(this.privateKey)&&ky.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Dy().keyFromPrivate(EE(this.privateKey));KE(this,"publicKey","0x"+e.getPublic(!1,"hex")),KE(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),KE(this,"_isSigningKey",!0)}_addPoint(t){const e=Dy().keyFromPublic(EE(this.publicKey)),r=Dy().keyFromPublic(EE(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Dy().keyFromPrivate(EE(this.privateKey)),r=EE(t);32!==r.length&&ky.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return SE({recoveryParam:n.recoveryParam,r:IE("0x"+n.r.toString(16),32),s:IE("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=Dy().keyFromPrivate(EE(this.privateKey)),r=Dy().keyFromPublic(EE(By(t)));return IE("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function By(t,e){const r=EE(t);if(32===r.length){const t=new Ly(r);return e?"0x"+Dy().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?wE(r):"0x"+Dy().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Dy().keyFromPublic(r).getPublic(!0,"hex"):wE(r):ky.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Gy=new hE("transactions/5.5.0");var zy;function jy(t){return"0x"===t?null:zE(t)}function Wy(t){return"0x"===t?jE:CE.from(t)}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(zy||(zy={}));const Ky=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],qy={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Vy(t){return zE(NE(FE(NE(By(t),1)),12))}function Hy(t,e){return Vy(function(t,e){const r=SE(e),n={r:EE(r.r),s:EE(r.s)};return"0x"+Dy().recoverPubKey(EE(t),n,r.recoveryParam).encode("hex",!1)}(EE(t),e))}function Jy(t,e){const r=yE(CE.from(t).toHexString());return r.length>32&&Gy.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Xy(t,e){return{address:zE(t),storageKeys:(e||[]).map(((e,r)=>(32!==AE(e)&&Gy.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function Qy(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Gy.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),Xy(t[0],t[1])):Xy(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Xy(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function Yy(t){return Qy(t).map((t=>[t.address,t.storageKeys]))}function Zy(t,e){if(null!=t.gasPrice){const e=CE.from(t.gasPrice),r=CE.from(t.maxFeePerGas||0);e.eq(r)||Gy.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[Jy(t.chainId||0,"chainId"),Jy(t.nonce||0,"nonce"),Jy(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Jy(t.maxFeePerGas||0,"maxFeePerGas"),Jy(t.gasLimit||0,"gasLimit"),null!=t.to?zE(t.to):"0x",Jy(t.value||0,"value"),t.data||"0x",Yy(t.accessList||[])];if(e){const t=SE(e);r.push(Jy(t.recoveryParam,"recoveryParam")),r.push(yE(t.r)),r.push(yE(t.s))}return RE(["0x02",XE(r)])}function $y(t,e){const r=[Jy(t.chainId||0,"chainId"),Jy(t.nonce||0,"nonce"),Jy(t.gasPrice||0,"gasPrice"),Jy(t.gasLimit||0,"gasLimit"),null!=t.to?zE(t.to):"0x",Jy(t.value||0,"value"),t.data||"0x",Yy(t.accessList||[])];if(e){const t=SE(e);r.push(Jy(t.recoveryParam,"recoveryParam")),r.push(yE(t.r)),r.push(yE(t.s))}return RE(["0x01",XE(r)])}function tv(t,e){if(null==t.type||0===t.type)return null!=t.accessList&&Gy.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),function(t,e){var r,n;n=qy,(r=t)&&"object"==typeof r||WE.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((t=>{n[t]||WE.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)}));const i=[];Ky.forEach((function(e){let r=t[e.name]||[];const n={};e.numeric&&(n.hexPad="left"),r=EE(wE(r,n)),e.length&&r.length!==e.length&&r.length>0&&Gy.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r),e.maxLength&&(r=yE(r),r.length>e.maxLength&&Gy.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,r)),i.push(wE(r))}));let o=0;if(null!=t.chainId?(o=t.chainId,"number"!=typeof o&&Gy.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!gE(e)&&e.v>28&&(o=Math.floor((e.v-35)/2)),0!==o&&(i.push(wE(o)),i.push("0x"),i.push("0x")),!e)return XE(i);const s=SE(e);let a=27+s.recoveryParam;return 0!==o?(i.pop(),i.pop(),i.pop(),a+=2*o+8,s.v>28&&s.v!==a&&Gy.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):s.v!==a&&Gy.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),i.push(wE(a)),i.push(yE(EE(s.r))),i.push(yE(EE(s.s))),XE(i)}(t,e);switch(t.type){case 1:return $y(t,e);case 2:return Zy(t,e)}return Gy.throwError(`unsupported transaction type: ${t.type}`,hE.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function ev(t,e,r){try{const r=Wy(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(t){Gy.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=IE(e[1],32),t.s=IE(e[2],32);try{const e=FE(r(t));t.from=Hy(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){console.log(t)}}function rv(t){const e=EE(t);if(e[0]>127)return function(t){const e=ZE(t);9!==e.length&&6!==e.length&&Gy.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Wy(e[0]).toNumber(),gasPrice:Wy(e[1]),gasLimit:Wy(e[2]),to:jy(e[3]),value:Wy(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=CE.from(e[6]).toNumber()}catch(t){return console.log(t),r}if(r.r=IE(e[7],32),r.s=IE(e[8],32),CE.from(r.r).isZero()&&CE.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(wE(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=FE(XE(i));try{r.from=Hy(o,{r:wE(r.r),s:wE(r.s),recoveryParam:n})}catch(t){console.log(t)}r.hash=FE(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=ZE(t.slice(1));8!==e.length&&11!==e.length&&Gy.throwArgumentError("invalid component count for transaction type: 1","payload",wE(t));const r={type:1,chainId:Wy(e[0]).toNumber(),nonce:Wy(e[1]).toNumber(),gasPrice:Wy(e[2]),gasLimit:Wy(e[3]),to:jy(e[4]),value:Wy(e[5]),data:e[6],accessList:Qy(e[7])};return 8===e.length||(r.hash=FE(t),ev(r,e.slice(8),$y)),r}(e);case 2:return function(t){const e=ZE(t.slice(1));9!==e.length&&12!==e.length&&Gy.throwArgumentError("invalid component count for transaction type: 2","payload",wE(t));const r=Wy(e[2]),n=Wy(e[3]),i={type:2,chainId:Wy(e[0]).toNumber(),nonce:Wy(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Wy(e[4]),to:jy(e[5]),value:Wy(e[6]),data:e[7],accessList:Qy(e[8])};return 9===e.length||(i.hash=FE(t),ev(i,e.slice(9),Zy)),i}(e)}return Gy.throwError(`unsupported transaction type: ${e[0]}`,hE.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}var nv=r(49222);const iv=new Ut.Logger("units/5.5.0"),ov=["wei","kwei","mwei","gwei","szabo","finney","ether"];function sv(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||"."===t||"-."===t)&&iv.throwArgumentError("invalid value","value",t);let r=e[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let i="";for(2===e.length&&(i="."+(e[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);const o=[];for(;r.length;){if(r.length<=3){o.unshift(r);break}{const t=r.length-3;o.unshift(r.substring(t)),r=r.substring(0,t)}}return n+o.join(",")+i}function av(t,e){if("string"==typeof e){const t=ov.indexOf(e);-1!==t&&(e=3*t)}return(0,nv.S5)(t,null!=e?e:18)}function uv(t,e){if("string"!=typeof t&&iv.throwArgumentError("value must be a string","value",t),"string"==typeof e){const t=ov.indexOf(e);-1!==t&&(e=3*t)}return(0,nv.Ox)(t,null!=e?e:18)}function lv(t){return av(t,18)}function hv(t){return uv(t,18)}let fv=!1,cv=!1;const dv={debug:1,default:2,info:2,warning:3,error:4,off:5};let gv=dv.default,pv=null;const mv=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Ev,yv;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Ev||(Ev={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(yv||(yv={}));const vv="0123456789abcdef";class bv{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==dv[r]&&this.throwArgumentError("invalid log level name","logLevel",t),gv>dv[r]||console.log.apply(console,e)}debug(...t){this._log(bv.levels.DEBUG,t)}info(...t){this._log(bv.levels.INFO,t)}warn(...t){this._log(bv.levels.WARNING,t)}makeError(t,e,r){if(cv)return this.makeError("censored error",e,{});e||(e=bv.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=vv[e[t]>>4],r+=vv[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case yv.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case yv.CALL_EXCEPTION:case yv.INSUFFICIENT_FUNDS:case yv.MISSING_NEW:case yv.NONCE_EXPIRED:case yv.REPLACEMENT_UNDERPRICED:case yv.TRANSACTION_REPLACED:case yv.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,bv.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){null==t&&(t="platform missing String.prototype.normalize"),mv&&this.throwError("platform missing String.prototype.normalize",bv.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mv})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,bv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,bv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,bv.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,bv.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",bv.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",bv.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",bv.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return pv||(pv=new bv("logger/5.7.0")),pv}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",bv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),fv){if(!t)return;this.globalLogger().throwError("error censorship permanent",bv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cv=!!t,fv=!!e}static setLogLevel(t){const e=dv[t.toLowerCase()];null!=e?gv=e:bv.globalLogger().warn("invalid log level - "+t)}static from(t){return new bv(t)}}bv.errors=yv,bv.levels=Ev;const wv=new bv("bytes/5.7.0");function Av(t){return!!t.toHexString}function Nv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Nv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Rv(t){return"number"==typeof t&&t==t&&t%1==0}function Iv(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Rv(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Rv(r)||r<0||r>=256)return!1}return!0}function Sv(t,e){if(e||(e={}),"number"==typeof t){wv.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Nv(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Av(t)&&(t=t.toHexString()),_v(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":wv.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Nv(new Uint8Array(n))}return Iv(t)?Nv(new Uint8Array(t)):wv.throwArgumentError("invalid arrayify value","value",t)}function _v(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Mv="0123456789abcdef";function Tv(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Sv(e)}function Pv(t){t=Sv(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function Cv(t){const e={};for(const r in t)e[r]=t[r];return e}new bv("properties/5.7.0");const Ov=new bv("strings/5.7.0");var Uv,xv;function kv(t,e,r,n,i){if(t===xv.BAD_PREFIX||t===xv.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===xv.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Uv||(Uv={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(xv||(xv={}));const Fv=Object.freeze({error:function(t,e,r,n,i){return Ov.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:kv,replace:function(t,e,r,n,i){return t===xv.OVERLONG?(n.push(i),0):(n.push(65533),kv(t,e,r))}});function Dv(t,e=Uv.current){e!=Uv.current&&(Ov.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Sv(r)}function Lv(t,e){return function(t,e){null==e&&(e=Fv.error),t=Sv(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?xv.UNEXPECTED_CONTINUE:xv.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(xv.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e(xv.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(xv.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(xv.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(xv.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}var Bv=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function Gv(t,e){return Bv(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Sv(new Uint8Array(i))}}))}var zv=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const jv=new bv("web/5.5.1");function Wv(t){return new Promise((e=>{setTimeout(e,t)}))}function Kv(t,e){if(null==t)return null;if("string"==typeof t)return t;if(function(t){return _v(t)&&!(t.length%2)||Iv(t)}(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return Lv(t)}catch(t){}return function(t,e){if(e||(e={}),"number"==typeof t){wv.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Mv[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Av(t))return t.toHexString();if(_v(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":wv.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Iv(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Mv[(240&n)>>4]+Mv[15&n]}return e}return wv.throwArgumentError("invalid hexlify value","value",t)}(t)}return t}function qv(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;jv.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,o="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;jv.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s={};let a=null;const u={method:"GET"};let l=!1,h=12e4;if("string"==typeof t)a=t;else if("object"==typeof t){if(null!=t&&null!=t.url||jv.throwArgumentError("missing URL","connection.url",t),a=t.url,"number"==typeof t.timeout&&t.timeout>0&&(h=t.timeout),t.headers)for(const e in t.headers)s[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(l=!0);if(u.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==a.substring(0,6)&&!0!==t.allowInsecureAuthentication&&jv.throwError("basic authentication requires a secure https url",bv.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;s.authorization={key:"Authorization",value:"Basic "+Pv(Dv(e))}}}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),c=a?a.match(f):null;if(c)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":c[1]},body:Tv(c[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){jv.throwError("processing response error",bv.errors.SERVER_ERROR,{body:Kv(c[1],c[2]),error:t,requestBody:null,requestMethod:"GET",url:a})}e&&(u.method="POST",u.body=e,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));const d={};Object.keys(s).forEach((t=>{const e=s[t];d[e.key]=e.value})),u.headers=d;const g=function(){let t=null;return{promise:new Promise((function(e,r){h&&(t=setTimeout((()=>{null!=t&&(t=null,r(jv.makeError("timeout",bv.errors.TIMEOUT,{requestBody:Kv(u.body,d["content-type"]),requestMethod:u.method,timeout:h,url:a})))}),h))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),p=function(){return zv(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield Gv(a,u),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===u.method&&t.match(/^https:/)){a=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,a)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield Wv(r);continue}}}catch(t){e=t.response,null==e&&(g.cancel(),jv.throwError("missing response",bv.errors.SERVER_ERROR,{requestBody:Kv(u.body,d["content-type"]),requestMethod:u.method,serverError:t,url:a}))}let s=e.body;if(l&&304===e.statusCode?s=null:(e.statusCode<200||e.statusCode>=300)&&(g.cancel(),jv.throwError("bad response",bv.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:Kv(s,e.headers?e.headers["content-type"]:null),requestBody:Kv(u.body,d["content-type"]),requestMethod:u.method,url:a})),r)try{const t=yield r(s,e);return g.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,a)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield Wv(e);continue}}g.cancel(),jv.throwError("processing response error",bv.errors.SERVER_ERROR,{body:Kv(s,e.headers?e.headers["content-type"]:null),error:r,requestBody:Kv(u.body,d["content-type"]),requestMethod:u.method,url:a})}return g.cancel(),s}return jv.throwError("failed response",bv.errors.SERVER_ERROR,{requestBody:Kv(u.body,d["content-type"]),requestMethod:u.method,url:a})}))}();return Promise.race([g.promise,p])}function Vv(t,e,r){let n=null;if(null!=e){n=Dv(e);const r="string"==typeof t?{url:t}:Cv(t);r.headers?0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length||(r.headers=Cv(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},t=r}return qv(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(Lv(t))}catch(e){jv.throwError("invalid JSON",bv.errors.SERVER_ERROR,{body:t,error:e})}return r&&(n=r(n,e)),n}))}function Hv(t,e){return e||(e={}),null==(e=Cv(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let u=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}const Jv="ethers/5.5.4",Xv=new sd(Jv);try{const t=window;null==t._ethers&&(t._ethers=u)}catch(t){}},73835:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(57113).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,f=67108863&u,c=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=c;d++){var g=l-d|0;h+=(s=(i=0|t.words[g])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[l]=0|f,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],d=c[t];r="";var g=this.clone();for(g.negative=0;!g.isZero();){var p=g.modn(d).toString(t);r=(g=g.idivn(d)).isZero()?p+r:h[l-p.length]+p+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,l=new t(o),h=this.clone();if(u){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),l[a]=s;for(;a<o;a++)l[a]=0}else{for(a=0;a<o-i;a++)l[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),l[o-a-1]=s}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],f=8191&h,c=h>>>13,d=0|s[1],g=8191&d,p=d>>>13,m=0|s[2],E=8191&m,y=m>>>13,v=0|s[3],b=8191&v,w=v>>>13,A=0|s[4],N=8191&A,R=A>>>13,I=0|s[5],S=8191&I,_=I>>>13,M=0|s[6],T=8191&M,P=M>>>13,C=0|s[7],O=8191&C,U=C>>>13,x=0|s[8],k=8191&x,F=x>>>13,D=0|s[9],L=8191&D,B=D>>>13,G=0|a[0],z=8191&G,j=G>>>13,W=0|a[1],K=8191&W,q=W>>>13,V=0|a[2],H=8191&V,J=V>>>13,X=0|a[3],Q=8191&X,Y=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ft=8191&ht,ct=ht>>>13,dt=0|a[9],gt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(f,z))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(c,z)|0))<<13)|0;l=((o=Math.imul(c,j))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,j))+Math.imul(p,z)|0,o=Math.imul(p,j);var Et=(l+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(c,K)|0))<<13)|0;l=((o=o+Math.imul(c,q)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(E,z),i=(i=Math.imul(E,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(p,K)|0,o=o+Math.imul(p,q)|0;var yt=(l+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(c,H)|0))<<13)|0;l=((o=o+Math.imul(c,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(w,z)|0,o=Math.imul(w,j),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,q)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(p,H)|0,o=o+Math.imul(p,J)|0;var vt=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(c,Q)|0))<<13)|0;l=((o=o+Math.imul(c,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,j))+Math.imul(R,z)|0,o=Math.imul(R,j),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,q)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,q)|0,n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,Y)|0;var bt=(l+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(c,$)|0))<<13)|0;l=((o=o+Math.imul(c,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(_,z)|0,o=Math.imul(_,j),n=n+Math.imul(N,K)|0,i=(i=i+Math.imul(N,q)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,q)|0,n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(p,$)|0,o=o+Math.imul(p,tt)|0;var wt=(l+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(c,rt)|0))<<13)|0;l=((o=o+Math.imul(c,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,j))+Math.imul(P,z)|0,o=Math.imul(P,j),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(R,H)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,nt)|0;var At=(l+(n=n+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;l=((o=o+Math.imul(c,st)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,j))+Math.imul(U,z)|0,o=Math.imul(U,j),n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,Y)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var Nt=(l+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(c,ut)|0))<<13)|0;l=((o=o+Math.imul(c,lt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(U,K)|0,o=o+Math.imul(U,q)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(p,ut)|0,o=o+Math.imul(p,lt)|0;var Rt=(l+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;l=((o=o+Math.imul(c,ct)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,j))+Math.imul(B,z)|0,o=Math.imul(B,j),n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(F,K)|0,o=o+Math.imul(F,q)|0,n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(U,H)|0,o=o+Math.imul(U,J)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(g,ft)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var It=(l+(n=n+Math.imul(f,gt)|0)|0)+((8191&(i=(i=i+Math.imul(f,pt)|0)+Math.imul(c,gt)|0))<<13)|0;l=((o=o+Math.imul(c,pt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,q))+Math.imul(B,K)|0,o=Math.imul(B,q),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(F,H)|0,o=o+Math.imul(F,J)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(U,Q)|0,o=o+Math.imul(U,Y)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(l+(n=n+Math.imul(g,gt)|0)|0)+((8191&(i=(i=i+Math.imul(g,pt)|0)+Math.imul(p,gt)|0))<<13)|0;l=((o=o+Math.imul(p,pt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,H),i=(i=Math.imul(L,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,Y)|0,n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(U,$)|0,o=o+Math.imul(U,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,lt)|0,n=n+Math.imul(b,ft)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(w,ft)|0,o=o+Math.imul(w,ct)|0;var _t=(l+(n=n+Math.imul(E,gt)|0)|0)+((8191&(i=(i=i+Math.imul(E,pt)|0)+Math.imul(y,gt)|0))<<13)|0;l=((o=o+Math.imul(y,pt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,Y))+Math.imul(B,Q)|0,o=Math.imul(B,Y),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(F,$)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(U,rt)|0,o=o+Math.imul(U,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(N,ft)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var Mt=(l+(n=n+Math.imul(b,gt)|0)|0)+((8191&(i=(i=i+Math.imul(b,pt)|0)+Math.imul(w,gt)|0))<<13)|0;l=((o=o+Math.imul(w,pt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(U,ot)|0,o=o+Math.imul(U,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ct)|0;var Tt=(l+(n=n+Math.imul(N,gt)|0)|0)+((8191&(i=(i=i+Math.imul(N,pt)|0)+Math.imul(R,gt)|0))<<13)|0;l=((o=o+Math.imul(R,pt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(U,ut)|0,o=o+Math.imul(U,lt)|0,n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Pt=(l+(n=n+Math.imul(S,gt)|0)|0)+((8191&(i=(i=i+Math.imul(S,pt)|0)+Math.imul(_,gt)|0))<<13)|0;l=((o=o+Math.imul(_,pt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,lt)|0,n=n+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(U,ft)|0,o=o+Math.imul(U,ct)|0;var Ct=(l+(n=n+Math.imul(T,gt)|0)|0)+((8191&(i=(i=i+Math.imul(T,pt)|0)+Math.imul(P,gt)|0))<<13)|0;l=((o=o+Math.imul(P,pt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,lt))+Math.imul(B,ut)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ft)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Ot=(l+(n=n+Math.imul(O,gt)|0)|0)+((8191&(i=(i=i+Math.imul(O,pt)|0)+Math.imul(U,gt)|0))<<13)|0;l=((o=o+Math.imul(U,pt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,ft),i=(i=Math.imul(L,ct))+Math.imul(B,ft)|0,o=Math.imul(B,ct);var Ut=(l+(n=n+Math.imul(k,gt)|0)|0)+((8191&(i=(i=i+Math.imul(k,pt)|0)+Math.imul(F,gt)|0))<<13)|0;l=((o=o+Math.imul(F,pt)|0)+(i>>>13)|0)+(Ut>>>26)|0,Ut&=67108863;var xt=(l+(n=Math.imul(L,gt))|0)+((8191&(i=(i=Math.imul(L,pt))+Math.imul(B,gt)|0))<<13)|0;return l=((o=Math.imul(B,pt))+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,u[0]=mt,u[1]=Et,u[2]=yt,u[3]=vt,u[4]=bt,u[5]=wt,u[6]=At,u[7]=Nt,u[8]=Rt,u[9]=It,u[10]=St,u[11]=_t,u[12]=Mt,u[13]=Tt,u[14]=Pt,u[15]=Ct,u[16]=Ot,u[17]=Ut,u[18]=xt,0!==l&&(u[19]=l,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(g=d),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?g(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,f=(0|t.words[h])*(0|e.words[l]),c=67108863&f;a=67108863&(c=c+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var f=u,c=l,d=0;d<s;d++){var g=r[h+d],p=n[h+d],m=r[h+d+s],E=n[h+d+s],y=f*m-c*E;E=f*E+c*m,m=y,r[h+d]=g+m,n[h+d]=p+E,r[h+d+s]=g-m,n[h+d+s]=p-E,d!==a&&(y=u*f-l*c,c=u*c+l*f,f=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),f=new Array(n),c=r.words;c.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,f,n,i);for(var d=0;d<n;d++){var g=a[d]*h[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*h[d],a[d]=g}return this.conjugate(a,u,n),this.transform(a,u,c,o,n,i),this.conjugate(c,o,n),this.normalize13b(c,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var f=0|this.words[l];this.words[l]=h<<26-o|f>>>o,h=f&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var c=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(c=Math.min(c/s|0,67108863),n._ishlnsubmul(i,c,f);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var g=0,p=1;0==(r.words[0]&p)&&g<26;++g,p<<=1);if(g>0)for(r.iushrn(g);g-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0==(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,c=1;0==(r.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new N(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var E={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function R(t){N.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,y),i(w,y),i(A,y),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(E[t])return E[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return E[t]=e,e},N.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},N.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},N.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},N.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},N.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},N.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},N.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},N.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},N.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},N.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},N.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},N.prototype.isqr=function(t){return this.imul(t,t.clone())},N.prototype.sqr=function(t){return this.mul(t,t)},N.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var f=this.pow(h,i),c=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),g=s;0!==d.cmp(a);){for(var p=d,m=0;0!==p.cmp(a);m++)p=p.redSqr();n(m<g);var E=this.pow(f,new o(1).iushln(g-m-1));c=c.redMul(E),f=E.redSqr(),d=d.redMul(f),g=m}return c},N.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},N.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var f=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},N.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},N.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new R(t)},i(R,N),R.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},R.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},R.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},R.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},R.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},7790:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(84788).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,h=r;h<a;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=l(t,h,t.length,e),h=0;h<s;h++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,f=67108863&u,c=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=c;d++){var g=l-d|0;h+=(s=(i=0|t.words[g])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[l]=0|f,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?h[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],d=c[t];r="";var g=this.clone();for(g.negative=0;!g.isZero();){var p=g.modn(d).toString(t);r=(g=g.idivn(d)).isZero()?p+r:h[l-p.length]+p+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,l=new t(o),h=this.clone();if(u){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),l[a]=s;for(;a<o;a++)l[a]=0}else{for(a=0;a<o-i;a++)l[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),l[o-a-1]=s}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,l=0,h=0|s[0],f=8191&h,c=h>>>13,d=0|s[1],g=8191&d,p=d>>>13,m=0|s[2],E=8191&m,y=m>>>13,v=0|s[3],b=8191&v,w=v>>>13,A=0|s[4],N=8191&A,R=A>>>13,I=0|s[5],S=8191&I,_=I>>>13,M=0|s[6],T=8191&M,P=M>>>13,C=0|s[7],O=8191&C,U=C>>>13,x=0|s[8],k=8191&x,F=x>>>13,D=0|s[9],L=8191&D,B=D>>>13,G=0|a[0],z=8191&G,j=G>>>13,W=0|a[1],K=8191&W,q=W>>>13,V=0|a[2],H=8191&V,J=V>>>13,X=0|a[3],Q=8191&X,Y=X>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ft=8191&ht,ct=ht>>>13,dt=0|a[9],gt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(f,z))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(c,z)|0))<<13)|0;l=((o=Math.imul(c,j))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(g,z),i=(i=Math.imul(g,j))+Math.imul(p,z)|0,o=Math.imul(p,j);var Et=(l+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(c,K)|0))<<13)|0;l=((o=o+Math.imul(c,q)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(E,z),i=(i=Math.imul(E,j))+Math.imul(y,z)|0,o=Math.imul(y,j),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(p,K)|0,o=o+Math.imul(p,q)|0;var yt=(l+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(c,H)|0))<<13)|0;l=((o=o+Math.imul(c,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,j))+Math.imul(w,z)|0,o=Math.imul(w,j),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,q)|0,n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(p,H)|0,o=o+Math.imul(p,J)|0;var vt=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(c,Q)|0))<<13)|0;l=((o=o+Math.imul(c,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,j))+Math.imul(R,z)|0,o=Math.imul(R,j),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,q)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,q)|0,n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,Y)|0;var bt=(l+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(c,$)|0))<<13)|0;l=((o=o+Math.imul(c,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,j))+Math.imul(_,z)|0,o=Math.imul(_,j),n=n+Math.imul(N,K)|0,i=(i=i+Math.imul(N,q)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,q)|0,n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(p,$)|0,o=o+Math.imul(p,tt)|0;var wt=(l+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(c,rt)|0))<<13)|0;l=((o=o+Math.imul(c,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,j))+Math.imul(P,z)|0,o=Math.imul(P,j),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(R,H)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,nt)|0;var At=(l+(n=n+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;l=((o=o+Math.imul(c,st)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,j))+Math.imul(U,z)|0,o=Math.imul(U,j),n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,Y)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var Nt=(l+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(c,ut)|0))<<13)|0;l=((o=o+Math.imul(c,lt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,j))+Math.imul(F,z)|0,o=Math.imul(F,j),n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(U,K)|0,o=o+Math.imul(U,q)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(p,ut)|0,o=o+Math.imul(p,lt)|0;var Rt=(l+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;l=((o=o+Math.imul(c,ct)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,j))+Math.imul(B,z)|0,o=Math.imul(B,j),n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(F,K)|0,o=o+Math.imul(F,q)|0,n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(U,H)|0,o=o+Math.imul(U,J)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(g,ft)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var It=(l+(n=n+Math.imul(f,gt)|0)|0)+((8191&(i=(i=i+Math.imul(f,pt)|0)+Math.imul(c,gt)|0))<<13)|0;l=((o=o+Math.imul(c,pt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,q))+Math.imul(B,K)|0,o=Math.imul(B,q),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(F,H)|0,o=o+Math.imul(F,J)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(U,Q)|0,o=o+Math.imul(U,Y)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(l+(n=n+Math.imul(g,gt)|0)|0)+((8191&(i=(i=i+Math.imul(g,pt)|0)+Math.imul(p,gt)|0))<<13)|0;l=((o=o+Math.imul(p,pt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,H),i=(i=Math.imul(L,J))+Math.imul(B,H)|0,o=Math.imul(B,J),n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,Y)|0,n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(U,$)|0,o=o+Math.imul(U,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,lt)|0,n=n+Math.imul(b,ft)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(w,ft)|0,o=o+Math.imul(w,ct)|0;var _t=(l+(n=n+Math.imul(E,gt)|0)|0)+((8191&(i=(i=i+Math.imul(E,pt)|0)+Math.imul(y,gt)|0))<<13)|0;l=((o=o+Math.imul(y,pt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,Y))+Math.imul(B,Q)|0,o=Math.imul(B,Y),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(F,$)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(U,rt)|0,o=o+Math.imul(U,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,lt)|0,n=n+Math.imul(N,ft)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var Mt=(l+(n=n+Math.imul(b,gt)|0)|0)+((8191&(i=(i=i+Math.imul(b,pt)|0)+Math.imul(w,gt)|0))<<13)|0;l=((o=o+Math.imul(w,pt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,tt))+Math.imul(B,$)|0,o=Math.imul(B,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(U,ot)|0,o=o+Math.imul(U,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ct)|0;var Tt=(l+(n=n+Math.imul(N,gt)|0)|0)+((8191&(i=(i=i+Math.imul(N,pt)|0)+Math.imul(R,gt)|0))<<13)|0;l=((o=o+Math.imul(R,pt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(U,ut)|0,o=o+Math.imul(U,lt)|0,n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Pt=(l+(n=n+Math.imul(S,gt)|0)|0)+((8191&(i=(i=i+Math.imul(S,pt)|0)+Math.imul(_,gt)|0))<<13)|0;l=((o=o+Math.imul(_,pt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(B,ot)|0,o=Math.imul(B,st),n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,lt)|0,n=n+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(U,ft)|0,o=o+Math.imul(U,ct)|0;var Ct=(l+(n=n+Math.imul(T,gt)|0)|0)+((8191&(i=(i=i+Math.imul(T,pt)|0)+Math.imul(P,gt)|0))<<13)|0;l=((o=o+Math.imul(P,pt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,lt))+Math.imul(B,ut)|0,o=Math.imul(B,lt),n=n+Math.imul(k,ft)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Ot=(l+(n=n+Math.imul(O,gt)|0)|0)+((8191&(i=(i=i+Math.imul(O,pt)|0)+Math.imul(U,gt)|0))<<13)|0;l=((o=o+Math.imul(U,pt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,ft),i=(i=Math.imul(L,ct))+Math.imul(B,ft)|0,o=Math.imul(B,ct);var Ut=(l+(n=n+Math.imul(k,gt)|0)|0)+((8191&(i=(i=i+Math.imul(k,pt)|0)+Math.imul(F,gt)|0))<<13)|0;l=((o=o+Math.imul(F,pt)|0)+(i>>>13)|0)+(Ut>>>26)|0,Ut&=67108863;var xt=(l+(n=Math.imul(L,gt))|0)+((8191&(i=(i=Math.imul(L,pt))+Math.imul(B,gt)|0))<<13)|0;return l=((o=Math.imul(B,pt))+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,u[0]=mt,u[1]=Et,u[2]=yt,u[3]=vt,u[4]=bt,u[5]=wt,u[6]=At,u[7]=Nt,u[8]=Rt,u[9]=It,u[10]=St,u[11]=_t,u[12]=Mt,u[13]=Tt,u[14]=Pt,u[15]=Ct,u[16]=Ot,u[17]=Ut,u[18]=xt,0!==l&&(u[19]=l,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(g=d),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?g(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,f=(0|t.words[h])*(0|e.words[l]),c=67108863&f;a=67108863&(c=c+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var f=u,c=l,d=0;d<s;d++){var g=r[h+d],p=n[h+d],m=r[h+d+s],E=n[h+d+s],y=f*m-c*E;E=f*E+c*m,m=y,r[h+d]=g+m,n[h+d]=p+E,r[h+d+s]=g-m,n[h+d+s]=p-E,d!==a&&(y=u*f-l*c,c=u*c+l*f,f=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),f=new Array(n),c=r.words;c.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,l,n),this.transform(s,o,a,u,n,i),this.transform(l,o,h,f,n,i);for(var d=0;d<n;d++){var g=a[d]*h[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*h[d],a[d]=g}return this.conjugate(a,u,n),this.transform(a,u,c,o,n,i),this.conjugate(c,o,n),this.normalize13b(c,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var f=0|this.words[l];this.words[l]=h<<26-o|f>>>o,h=f&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var c=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(c=Math.min(c/s|0,67108863),n._ishlnsubmul(i,c,f);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var g=0,p=1;0==(r.words[0]&p)&&g<26;++g,p<<=1);if(g>0)for(r.iushrn(g);g-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0==(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,c=1;0==(r.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new N(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var E={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function R(t){N.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,y),i(w,y),i(A,y),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(E[t])return E[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return E[t]=e,e},N.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},N.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},N.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},N.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},N.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},N.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},N.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},N.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},N.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},N.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},N.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},N.prototype.isqr=function(t){return this.imul(t,t.clone())},N.prototype.sqr=function(t){return this.mul(t,t)},N.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var f=this.pow(h,i),c=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),g=s;0!==d.cmp(a);){for(var p=d,m=0;0!==p.cmp(a);m++)p=p.redSqr();n(m<g);var E=this.pow(f,new o(1).iushln(g-m-1));c=c.redMul(E),f=E.redSqr(),d=d.redMul(f),g=m}return c},N.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},N.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var f=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},N.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},N.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new R(t)},i(R,N),R.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},R.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},R.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},R.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},R.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)}}]);